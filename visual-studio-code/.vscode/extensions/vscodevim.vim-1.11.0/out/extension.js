module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=195)}([function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:r(206)})},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(71),a=r(36),c=r(72),u=r(197),l=r(73),d=r(201);class h{constructor(){this.leaderDefault="\\",this.cursorTypeMap={line:o.TextEditorCursorStyle.Line,block:o.TextEditorCursorStyle.Block,underline:o.TextEditorCursorStyle.Underline,"line-thin":o.TextEditorCursorStyle.LineThin,"block-outline":o.TextEditorCursorStyle.BlockOutline,"underline-thin":o.TextEditorCursorStyle.UnderlineThin},this.handleKeys=[],this.useSystemClipboard=!1,this.useCtrlKeys=!1,this.overrideCopy=!0,this.textwidth=80,this.hlsearch=!1,this.ignorecase=!0,this.smartcase=!0,this.autoindent=!0,this.camelCaseMotion={enable:!0},this.replaceWithRegister=!1,this.sneak=!1,this.sneakUseIgnorecaseAndSmartcase=!1,this.sneakReplacesF=!1,this.surround=!0,this.easymotion=!1,this.easymotionMarkerBackgroundColor="",this.easymotionMarkerForegroundColorOneChar="#ff0000",this.easymotionMarkerForegroundColorTwoChar="#ffa500",this.easymotionMarkerWidthPerChar=8,this.easymotionMarkerHeight=14,this.easymotionMarkerFontFamily="Consolas",this.easymotionMarkerFontSize="14",this.easymotionMarkerFontWeight="normal",this.easymotionMarkerYOffset=0,this.easymotionKeys="hklyuiopnm,qwertzxcvbasdgjf;",this.easymotionJumpToAnywhereRegex="\\b[A-Za-z0-9]|[A-Za-z0-9]\\b|_.|#.|[a-z][A-Z]",this.autoSwitchInputMethod={enable:!1,defaultIM:"",obtainIMCmd:"",switchIMCmd:""},this.timeout=1e3,this.showcmd=!0,this.showmodename=!0,this.leader=this.leaderDefault,this.history=50,this.incsearch=!0,this.startInInsertMode=!1,this.statusBarColorControl=!1,this.statusBarColors={normal:"#005f5f",insert:"#5f0000",visual:"#5f00af",visualline:"#005f87",visualblock:"#86592d",replace:"#000000"},this.debug={silent:!1,loggingLevelForAlert:"error",loggingLevelForConsole:"error"},this.highlightedyank={enable:!1,color:"rgba(250, 240, 170, 0.5)",duration:200},this.boundKeyCombinations=[],this.visualstar=!1,this.mouseSelectionGoesIntoVisualMode=!0,this.changeWordIncludesWhitespace=!1,this.foldfix=!1,this.disableExtension=!1,this.enableNeovim=!1,this.neovimPath="nvim",this.digraphs={},this.gdefault=!1,this.substituteGlobalFlag=!1,this.whichwrap="",this.wrapKeys={},this.report=2,this.wrapscan=!0,this.cursorStylePerMode={normal:void 0,insert:void 0,visual:void 0,visualline:void 0,visualblock:void 0,replace:void 0},this.insertModeKeyBindings=[],this.insertModeKeyBindingsNonRecursive=[],this.normalModeKeyBindings=[],this.normalModeKeyBindingsNonRecursive=[],this.visualModeKeyBindings=[],this.visualModeKeyBindingsNonRecursive=[]}load(){return i(this,void 0,void 0,(function*(){let e=s.Globals.isTesting?s.Globals.mockConfiguration:this.getConfiguration("vim");for(const t in this){let r=e[t];null!=r&&(r.constructor.name===Object.name&&(r=h.unproxify(r)),this[t]=r)}this.leader=a.Notation.NormalizeKey(this.leader,this.leaderDefault);const r=yield u.configurationValidator.validate(t.configuration);this.wrapKeys={};for(const e of this.whichwrap.split(","))this.wrapKeys[e]=!0;this.boundKeyCombinations=[];for(let e of d.contributes.keybindings){if(e.when.includes("listFocus"))continue;let t=e.key;"darwin"===process.platform?t=e.mac||t:"linux"===process.platform&&(t=e.linux||t),this.boundKeyCombinations.push({key:a.Notation.NormalizeKey(t,this.leader),command:e.command})}l.decoration.load(this);for(const e of this.boundKeyCombinations){let t=!0,r=this.handleKeys[e.key];void 0!==r?t=r:this.useCtrlKeys||"C-"!==e.key.slice(1,3)||(t=!("<C-c>"!==e.key||!this.overrideCopy)),c.VsCodeContext.Set(`vim.use${e.key}`,t)}return c.VsCodeContext.Set("vim.overrideCopy",this.overrideCopy),c.VsCodeContext.Set("vim.overrideCtrlC",this.overrideCopy||this.useCtrlKeys),r}))}getConfiguration(e=""){const t=o.window.activeTextEditor,r=t?t.document.uri:null;return o.workspace.getConfiguration(e,r)}cursorStyleFromString(e){return this.cursorTypeMap[e]}get editorCursorStyle(){return this.cursorStyleFromString(this.editorCursorStyleRaw)}set editorCursorStyle(e){}getCursorStyleForMode(e){let t=this.cursorStylePerMode[e.toLowerCase()];if(t)return this.cursorStyleFromString(t)}static unproxify(e){let t={};for(const r in e){let n=e[r];null!=n&&(t[r]=n)}return t}}function f(e){return function(t,r){Object.defineProperty(t,r,{get:function(){let t=this["_"+r];return void 0!==t&&""!==t?t:(t=this.getConfiguration("editor").get(e.settingName,e.defaultValue),e.map&&void 0!==t&&(t=e.map.get(t)),t)},set:function(t){if(this["_"+r]=t,void 0!==t&&""!==t&&!s.Globals.isTesting){if(e.map)for(let[r,n]of e.map.entries())if(t===n){t=r;break}this.getConfiguration("editor").update(e.settingName,t,o.ConfigurationTarget.Global)}},enumerable:!0,configurable:!0})}}n([f({settingName:"findMatchHighlightBackground",defaultValue:"rgba(150, 150, 255, 0.3)"})],h.prototype,"searchHighlightColor",void 0),n([f({settingName:"tabSize",defaultValue:8})],h.prototype,"tabstop",void 0),n([f({settingName:"cursorStyle",defaultValue:"line"})],h.prototype,"editorCursorStyleRaw",void 0),n([f({settingName:"insertSpaces",defaultValue:!1})],h.prototype,"expandtab",void 0),n([f({settingName:"lineNumbers",defaultValue:!0,map:new Map([["on",!0],["off",!1],["relative",!1],["interval",!1]])})],h.prototype,"number",void 0),n([f({settingName:"lineNumbers",defaultValue:!1,map:new Map([["on",!1],["off",!1],["relative",!0],["interval",!1]])})],h.prototype,"relativenumber",void 0),n([f({settingName:"wordSeparators",defaultValue:"/\\()\"':,.;<>~!@#$%^&*|+=[]{}`?-"})],h.prototype,"iskeyword",void 0),t.configuration=new h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(3),o=r(74),s=r(6),a=r(300);class c{constructor(e,t){this._line=e,this._character=t}static NewBOLDiff(e=0,t=0){const r=new c(e,t);return r._isBOLDiff=!0,r}addDiff(e){if(this._isBOLDiff||e._isBOLDiff)throw new Error("johnfn hasn't done this case yet and doesnt want to");return new c(this._line+e._line,this._character+e._character)}addPosition(e,{boundsCheck:t=!0}={}){let r=this.isBOLDiff()?0:this.character+e.character,n=this.line+e.line;return t&&(r<0&&(r=0),n<0&&(n=0)),new u(n,r)}get line(){return this._line}get character(){return this._character}isBOLDiff(){return this._isBOLDiff}toString(){return this._isBOLDiff?"[ Diff: BOL ]":`[ Diff: ${this._line} ${this._character} ]`}}t.PositionDiff=c;class u extends n.Position{constructor(e,t){super(e,t)}toString(){return`[${this.line}, ${this.character}]`}static FromVSCodePosition(e){return new u(e.line,e.character)}static EarlierOf(e,t){return e.line<t.line?e:e.line===t.line&&e.character<t.character?e:t}isEarlierThan(e){return this.line<e.line||this.line===e.line&&this.character<e.character}static LaterOf(e,t){return u.EarlierOf(e,t)===e?t:e}static*IterateDocument(e,t=!0){let r,n;if(t)for(r=e.line;r<s.TextEditor.getLineCount();r++){n=r===e.line?e.character:0;const t=s.TextEditor.getLineAt(new u(r,0)).text;for(;n<t.length;n++)yield{line:t,char:t[n],pos:new u(r,n)}}else for(r=e.line;r>=0;r--){const t=s.TextEditor.getLineAt(new u(r,0)).text;for(n=r===e.line?e.character:t.length-1;n>=0;n--)yield{line:t,char:t[n],pos:new u(r,n)}}}static*IterateBlock(e,t){for(let r=e.line;r<=t.line;r++){const n=s.TextEditor.getLineAt(new u(r,0)).text;for(let i=e.character;i<t.character+1;i++)yield{line:n,char:n[i],pos:new u(r,i)}}}static*IterateSelection(e,t){for(let r=e.line;r<=t.line;r++){const n=s.TextEditor.getLineAt(new u(r,0)).text;if(r===e.line)for(let t=e.character;t<n.length+1;t++)yield{line:n,char:n[t],pos:new u(r,t)};else if(r===t.line)for(let e=0;e<t.character+1;e++)yield{line:n,char:n[e],pos:new u(r,e)};else for(let e=0;e<n.length+1;e++)yield{line:n,char:n[e],pos:new u(r,e)}}}static*IterateLine(e,t={reverse:!1}){const{reverse:r}=t,n=e.cursorStartPosition,i=e.cursorStopPosition,a=o.VisualBlockMode.getTopLeftPosition(n,i),c=o.VisualBlockMode.getBottomRightPosition(n,i),l=e.desiredColumn===Number.POSITIVE_INFINITY,d=r?c.line:a.line,h=r?a.line:c.line;for(let e=d;r?e>=h:e<=h;r?e--:e++){const t=s.TextEditor.getLineAt(new u(e,0)).text,r=l?t.length+1:Math.min(t.length,c.character+1);yield{line:t.substring(a.character,r),start:new u(e,a.character),end:new u(e,r)}}}static*IterateWords(e){const t=s.TextEditor.getLineAt(e).text;let r=e.getCurrentWordEnd(!0);for(;;){const n=t.substring(e.character,r.character+1);if(yield{start:e,end:r,word:n},r.getRight().isLineEnd())return;r=(e=e.getWordRight()).getCurrentWordEnd(!0)}}subtract(e){return new c(this.line-e.line,this.character-e.character)}add(e,{boundsCheck:t=!0}={}){let r=this.character+e.character,n=this.line+e.line;return e.isBOLDiff()&&(r=e.character),t&&(r<0&&(r=0),n<0&&(n=0),n>=s.TextEditor.getLineCount()-1&&(n=s.TextEditor.getLineCount()-1)),new u(n,r)}withLine(e){return new u(e,this.character)}withColumn(e){return new u(this.line,e)}getLeftTabStop(){if(!this.isLineBeginning()){let e=s.TextEditor.getIndentationLevel(s.TextEditor.getLineAt(this).text),t=n.window.activeTextEditor.options.tabSize;return new u(this.line,e%t>0?Math.max(0,this.character-e%t):Math.max(0,this.character-t))}return this}getLeft(e=1){let t=Math.max(this.character-e,0);return t!==this.character?new u(this.line,t):this}getLeftThroughLineBreaks(e=!0){return this.isLineBeginning()?0===this.line?this:e?this.getUp(0).getLineEnd():this.getUp(0).getLineEnd().getLeft():this.getLeft()}getRightThroughLineBreaks(e=!1){return this.isAtDocumentEnd()?this:this.isLineEnd()?this.getDown(0):!e&&this.getRight().isLineEnd()?this.getDown(0):this.getRight()}getOffsetThroughLineBreaks(e){let t=new u(this.line,this.character);if(e<0)for(let r=0;r<-e;r++)t=t.getLeftThroughLineBreaks();else for(let r=0;r<e;r++)t=t.getRightThroughLineBreaks();return t}getRight(e=1){return this.isLineEnd()?this:new u(this.line,this.character+e)}getDown(e){if(this.getDocumentEnd().line!==this.line){let t=this.line+1,r=u.getLineLength(t);return new u(t,Math.min(r,e))}return this}getUp(e){if(this.getDocumentBegin().line!==this.line){let t=this.line-1,r=u.getLineLength(t);return new u(t,Math.min(r,e))}return this}getDownByCount(e=0,{boundsCheck:t=!0}={}){const r=t?Math.min(s.TextEditor.getLineCount()-1,this.line+e):this.line+e;return new u(r,this.character)}getUpByCount(e=0){return new u(Math.max(0,this.line-e),this.character)}getLeftByCount(e=0){return new u(this.line,Math.max(0,this.character-e))}getRightByCount(e=0){return new u(this.line,Math.min(s.TextEditor.getLineAt(this).text.length-1,this.character+e))}static getWordLeft(e,t,r=!1){return u.getWordLeftWithRegex(e,t,u._nonWordCharRegex,r)}getWordLeft(e=!1){return this.getWordLeftWithRegex(u._nonWordCharRegex,e)}getBigWordLeft(e=!1){return this.getWordLeftWithRegex(u._nonBigWordCharRegex,e)}getCamelCaseWordLeft(e=!1){return this.getWordLeftWithRegex(u._nonCamelCaseWordCharRegex,e)}getFilePathLeft(e=!1){return this.getWordLeftWithRegex(u._nonFileNameRegex,e)}getWordRight(e=!1){return this.getWordRightWithRegex(u._nonWordCharRegex,e)}getBigWordRight(e=!1){return this.getWordRightWithRegex(u._nonBigWordCharRegex)}getCamelCaseWordRight(e=!1){return this.getWordRightWithRegex(u._nonCamelCaseWordCharRegex)}getFilePathRight(e=!1){return this.getWordRightWithRegex(u._nonFileNameRegex,e)}getLastWordEnd(){return this.getLastWordEndWithRegex(u._nonWordCharRegex)}getLastBigWordEnd(){return this.getLastWordEndWithRegex(u._nonBigWordCharRegex)}getLastCamelCaseWordEnd(){return this.getLastWordEndWithRegex(u._nonCamelCaseWordCharRegex)}getCurrentWordEnd(e=!1){return this.getCurrentWordEndWithRegex(u._nonWordCharRegex,e)}getCurrentBigWordEnd(e=!1){return this.getCurrentWordEndWithRegex(u._nonBigWordCharRegex,e)}getCurrentCamelCaseWordEnd(e=!1){return this.getCurrentWordEndWithRegex(u._nonCamelCaseWordCharRegex,e)}getSectionBoundary(e){let t=this;if(e.forward&&t.line===s.TextEditor.getLineCount()-1||!e.forward&&0===t.line)return t.getFirstLineNonBlankChar();for(t=e.forward?t.getDown(0):t.getUp(0);!s.TextEditor.getLineAt(t).text.startsWith(e.boundary);)if(e.forward){if(t.line===s.TextEditor.getLineCount()-1)break;t=t.getDown(0)}else{if(0===t.line)break;t=t.getUp(0)}return t.getFirstLineNonBlankChar()}getCurrentParagraphEnd(e=!1){let t=this;for(;t.isLineBlank(e)&&!s.TextEditor.isLastLine(t);)t=t.getDown(0);for(;!t.isLineBlank(e)&&t.line<s.TextEditor.getLineCount()-1;)t=t.getDown(0);return t.getLineEnd()}getCurrentParagraphBeginning(e=!1){let t=this;for(;t.isLineBlank(e)&&!s.TextEditor.isFirstLine(t);)t=t.getUp(0);for(;t.line>0&&!t.isLineBlank(e);)t=t.getUp(0);return t.getLineBegin()}isLineBlank(e=!1){let t=s.TextEditor.getLineAt(this).text;return""===(e?t.trim():t)}isLineWhite(){return this.isLineBlank(!0)}getSentenceBegin(e){return e.forward?this.getNextSentenceBeginWithRegex(u._sentenceEndRegex,!1):this.getPreviousSentenceBeginWithRegex(u._sentenceEndRegex)}getCurrentSentenceEnd(){return this.getCurrentSentenceEndWithRegex(u._sentenceEndRegex,!1)}getLineBegin(){return new u(this.line,0)}getLineBeginRespectingIndent(){return i.configuration.autoindent?this.getFirstLineNonBlankChar():this.getLineBegin()}getPreviousLineBegin(){return 0===this.line?this.getLineBegin():new u(this.line-1,0)}getNextLineBegin(){return this.line>=s.TextEditor.getLineCount()-1?this.getLineEnd():new u(this.line+1,0)}getLineEnd(){return new u(this.line,u.getLineLength(this.line))}getLineEndIncludingEOL(){return new u(this.line,u.getLineLength(this.line)+1)}getDocumentBegin(){return new u(0,0)}getLeftIfEOL(){return this.character===u.getLineLength(this.line)?this.getLeft():this}advancePositionByText(e){const t=(e.match(/\n/g)||[]).length;return new u(this.line+t,0===t?this.character+e.length:e.length-(e.lastIndexOf("\n")+1))}getDocumentEnd(e){e=e||n.window.activeTextEditor;let t=s.TextEditor.getLineCount(e),r=t>0?t-1:0,i=u.getLineLength(r);return new u(r,i)}isLineBeginning(){return 0===this.character}isLineEnd(){return this.character>=u.getLineLength(this.line)}isFirstWordOfLine(){return u.getFirstNonBlankCharAtLine(this.line)===this.character}isAtDocumentBegin(){return 0===this.line&&this.isLineBeginning()}isAtDocumentEnd(){return this.line===s.TextEditor.getLineCount()-1&&this.isLineEnd()}isInLeadingWhitespace(e=!1){return e?/^\s*$/.test(s.TextEditor.getText(new n.Range(this.getLineBegin(),this))):/^\s+$/.test(s.TextEditor.getText(new n.Range(this.getLineBegin(),this)))}static getFirstNonBlankCharAtLine(e){return s.TextEditor.readLineAt(e).match(/^\s*/)[0].length}getFirstLineNonBlankChar(){return new u(this.line,u.getFirstNonBlankCharAtLine(this.line))}static getLineLength(e){return s.TextEditor.readLineAt(e).length}isValid(e){try{let t=s.TextEditor.getLineCount(e)||1;if(this.line>=t)return!1;let r=u.getLineLength(this.line);if(this.character>r+1)return!1}catch(e){return!1}return!0}static makeWordRegex(e){let t=e&&a(e).replace(/-/g,"\\-"),r=[];return r.push(`([^\\s${t}]+)`),r.push(`[${t}]+`),r.push("$^"),new RegExp(r.join("|"),"g")}static makeCamelCaseWordRegex(e){const t=e&&a(e).replace(/-/g,"\\-"),r=[];let n=!0;try{new RegExp("(<=x)")}catch(e){n=!1}const i="("+`[^\\s${t}]`+"(?:"+`(?:${n?"(?<=[A-Z_])":""}`+`[A-Z](?=[\\sA-Z0-9${t}_]))+`+"|"+`(?:${n?"(?<=[0-9_])":""}`+`[0-9](?=[\\sA-Z0-9${t}_]))+`+"|"+`(?:${n?"(?<=[_])":""}`+`[_](?=[\\s${t}_]))+`+"|"+`[^\\sA-Z0-9${t}_]*`+"))";return r.push(i),r.push(`[${t}]+`),r.push("$^"),new RegExp(r.join("|"),"g")}static makeUnicodeWordRegex(e){let t;!function(e){e[e.Punctuation=0]="Punctuation",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript",e[e.Braille=3]="Braille",e[e.Ideograph=4]="Ideograph",e[e.Hiragana=5]="Hiragana",e[e.Katakana=6]="Katakana",e[e.Hangul=7]="Hangul"}(t||(t={}));const r=[[[161,191],t.Punctuation],[[894,894],t.Punctuation],[[903,903],t.Punctuation],[[1370,1375],t.Punctuation],[[1417,1417],t.Punctuation],[[1470,1470],t.Punctuation],[[1472,1472],t.Punctuation],[[1475,1475],t.Punctuation],[[1523,1524],t.Punctuation],[[1548,1548],t.Punctuation],[[1563,1563],t.Punctuation],[[1567,1567],t.Punctuation],[[1642,1645],t.Punctuation],[[1748,1748],t.Punctuation],[[1792,1805],t.Punctuation],[[2404,2405],t.Punctuation],[[2416,2416],t.Punctuation],[[3572,3572],t.Punctuation],[[3663,3663],t.Punctuation],[[3674,3675],t.Punctuation],[[3844,3858],t.Punctuation],[[3898,3901],t.Punctuation],[[3973,3973],t.Punctuation],[[4170,4175],t.Punctuation],[[4347,4347],t.Punctuation],[[4961,4968],t.Punctuation],[[5741,5742],t.Punctuation],[[5787,5788],t.Punctuation],[[5867,5869],t.Punctuation],[[5941,5942],t.Punctuation],[[6100,6108],t.Punctuation],[[6144,6154],t.Punctuation],[[8204,8231],t.Punctuation],[[8234,8238],t.Punctuation],[[8240,8286],t.Punctuation],[[8288,10239],t.Punctuation],[[8304,8319],t.Superscript],[[8320,8340],t.Subscript],[[8352,10239],t.Punctuation],[[10240,10495],t.Braille],[[10496,10648],t.Punctuation],[[10712,10715],t.Punctuation],[[10748,10749],t.Punctuation],[[11776,11903],t.Punctuation],[[12289,12320],t.Punctuation],[[12336,12336],t.Punctuation],[[12349,12349],t.Punctuation],[[12352,12447],t.Hiragana],[[12448,12543],t.Katakana],[[13056,40959],t.Ideograph],[[44032,55203],t.Hangul],[[63744,64255],t.Ideograph],[[64830,64831],t.Punctuation],[[65072,65131],t.Punctuation],[[65280,65295],t.Punctuation],[[65306,65312],t.Punctuation],[[65339,65344],t.Punctuation],[[65371,65381],t.Punctuation],[[131072,173791],t.Ideograph],[[173824,177983],t.Ideograph],[[177984,178207],t.Ideograph],[[194560,195103],t.Ideograph]],n=[];for(let e in t)isNaN(Number(e))||(n[e]=[]);for(let[[e,t],i]of r)e===t?n[i].push(`\\u{${e.toString(16)}}`):n[i].push(`\\u{${e.toString(16)}}-\\u{${t.toString(16)}}`);const i=a(e).replace(/-/g,"\\-");n[Number(t.Punctuation)].push(i);const o=n.map(e=>e.join("")),s=o.map(e=>`([${e}]+)`),c=`([^\\s${o.join("")}]+)`,u=s.concat(c,"$^");return new RegExp(u.join("|"),"ug")}static getAllPositions(e,t){let r=[],n=t.exec(e);for(;n;)r.push(n.index),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r}getAllEndPositions(e,t){let r=[],n=t.exec(e);for(;n;)n[0].length&&r.push(n.index+n[0].length-1),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r}static getWordLeftWithRegex(e,t,r,n=!1,i=!1){return u.getAllPositions(e,r).reverse().find(e=>e<t&&!i||e<=t&&i||n)}getWordLeftWithRegex(e,t=!1){for(let r=this.line;r>=0;r--){const i=u.getWordLeftWithRegex(s.TextEditor.getLineAt(new n.Position(r,0)).text,this.character,e,r!==this.line,t);if(void 0!==i)return new u(r,i)}return new u(0,0).getLineBegin()}getWordRightWithRegex(e,t=!1){for(let r=this.line;r<s.TextEditor.getLineCount();r++){let i=u.getAllPositions(s.TextEditor.getLineAt(new n.Position(r,0)).text,e).find(e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==i)return new u(r,i)}return new u(s.TextEditor.getLineCount()-1,0).getLineEnd()}getLastWordEndWithRegex(e){for(let t=this.line;t>-1;t--){let r=this.getAllEndPositions(s.TextEditor.getLineAt(new n.Position(t,0)).text,e);0===r.length&&r.push(0);let i=(r=r.reverse()).findIndex(e=>e<this.character||t!==this.line),o=0;if(-1===i){if(t>-1)continue;o=r[r.length-1]}else o=r[i];if(void 0!==o)return new u(t,o)}return new u(0,0).getLineBegin()}getCurrentWordEndWithRegex(e,t){for(let r=this.line;r<s.TextEditor.getLineCount();r++){let i=this.getAllEndPositions(s.TextEditor.getLineAt(new n.Position(r,0)).text,e).find(e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==i)return new u(r,i)}return new u(s.TextEditor.getLineCount()-1,0).getLineEnd()}getPreviousSentenceBeginWithRegex(e){let t=this.getCurrentParagraphBeginning();for(let r=this.line;r>=t.line;r--){let t=this.getAllEndPositions(s.TextEditor.getLineAt(new n.Position(r,0)).text,e).reverse().find(e=>{return new u(r,e).getRightThroughLineBreaks().compareTo(this)&&(e<this.character||r<this.line)});if(void 0!==t)return new u(r,t).getRightThroughLineBreaks()}return t.line+1===this.line||t.line===this.line?t:new u(t.line+1,0)}getNextSentenceBeginWithRegex(e,t){let r=this.getCurrentParagraphEnd();for(let i=this.line;i<=r.line;i++){let r=this.getAllEndPositions(s.TextEditor.getLineAt(new n.Position(i,0)).text,e).find(e=>e>this.character&&!t||e>=this.character&&t||i!==this.line);if(void 0!==r)return new u(i,r).getRightThroughLineBreaks()}return this.getFirstNonWhitespaceInParagraph(r,t)}getCurrentSentenceEndWithRegex(e,t){let r=this.getCurrentParagraphEnd();for(let i=this.line;i<=r.line;i++){let r=u.getAllPositions(s.TextEditor.getLineAt(new n.Position(i,0)).text,e).find(e=>e>this.character&&!t||e>=this.character&&t||i!==this.line);if(void 0!==r)return new u(i,r)}return this.getFirstNonWhitespaceInParagraph(r,t)}getFirstNonWhitespaceInParagraph(e,t){if(s.TextEditor.getLineAt(new n.Position(this.line,0)).text)return e;for(let r=this.line;r<=e.line;r++){const e=u.getAllPositions(s.TextEditor.getLineAt(new n.Position(r,0)).text,/\S/g).find(e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==e)return new u(r,e)}throw new Error("This should never happen...")}findHelper(e,t,r){const n=s.TextEditor.getLineAt(this);let i=this.character;for(;t&&-1!==i;)i=r>0?n.text.indexOf(e,i+r):n.text.lastIndexOf(e,i+r),t--;if(i>-1)return new u(this.line,i)}tilForwards(e,t=1){const r=this.findHelper(e,t,1);return r?new u(this.line,r.character-1):null}tilBackwards(e,t=1){const r=this.findHelper(e,t,-1);return r?new u(this.line,r.character+1):null}findForwards(e,t=1){const r=this.findHelper(e,t,1);return r?new u(this.line,r.character):null}findBackwards(e,t=1){const r=this.findHelper(e,t,-1);return r||null}}t.Position=u,u.NonWordCharacters=i.configuration.iskeyword,u.NonBigWordCharacters="",u.NonFileCharacters="\"'`;<>{}[]()",u._nonWordCharRegex=u.makeUnicodeWordRegex(u.NonWordCharacters),u._nonBigWordCharRegex=u.makeWordRegex(u.NonBigWordCharacters),u._nonCamelCaseWordCharRegex=u.makeCamelCaseWordRegex(u.NonWordCharacters),u._sentenceEndRegex=/[\.!\?]{1}([ \n\t]+|$)/g,u._nonFileNameRegex=u.makeWordRegex(u.NonFileCharacters)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var i,o;!function(e){e[e.Normal=0]="Normal",e[e.Insert=1]="Insert",e[e.Visual=2]="Visual",e[e.VisualBlock=3]="VisualBlock",e[e.VisualLine=4]="VisualLine",e[e.SearchInProgressMode=5]="SearchInProgressMode",e[e.CommandlineInProgress=6]="CommandlineInProgress",e[e.Replace=7]="Replace",e[e.EasyMotionMode=8]="EasyMotionMode",e[e.EasyMotionInputMode=9]="EasyMotionInputMode",e[e.SurroundInputMode=10]="SurroundInputMode",e[e.Disabled=11]="Disabled"}(i=t.ModeName||(t.ModeName={})),function(e){e[e.Block=0]="Block",e[e.Line=1]="Line",e[e.LineThin=2]="LineThin",e[e.Underline=3]="Underline",e[e.TextDecoration=4]="TextDecoration",e[e.Native=5]="Native"}(o=t.VSCodeVimCursorType||(t.VSCodeVimCursorType={}));class s{constructor(e,t,r,n=!1){this.name=e,this.cursorType=r,this.isVisualMode=n,this._statusBarText=t,this._isActive=!1}get friendlyName(){return i[this.name]}get isActive(){return this._isActive}set isActive(e){this._isActive=e}getStatusBarText(e){return this._statusBarText.toLocaleUpperCase()}getStatusBarCommandText(e){return e.recordedState.commandString}static translateCursor(e){return this._cursorMap.get(e)}}t.Mode=s,s._cursorMap=new Map([[o.Block,n.TextEditorCursorStyle.Block],[o.Line,n.TextEditorCursorStyle.Line],[o.LineThin,n.TextEditorCursorStyle.LineThin],[o.Underline,n.TextEditorCursorStyle.Underline],[o.TextDecoration,n.TextEditorCursorStyle.LineThin],[o.Native,n.TextEditorCursorStyle.Block]])},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(4),s=r(3);class a{static get isActive(){return null!=i.window.activeTextEditor}static insert(e,t,r){return n(this,void 0,void 0,(function*(){return void 0===r&&(r=1===e.length),r?yield i.commands.executeCommand("default:type",{text:e}):yield i.window.activeTextEditor.edit(r=>{t||(t=o.Position.FromVSCodePosition(i.window.activeTextEditor.selection.active)),r.insert(t,e)}),!0}))}static insertAt(e,t){return n(this,void 0,void 0,(function*(){return i.window.activeTextEditor.edit(r=>{r.insert(t,e)})}))}static delete(e){return n(this,void 0,void 0,(function*(){return i.window.activeTextEditor.edit(t=>{t.delete(e)})}))}static getDocumentVersion(){return i.window.activeTextEditor.document.version}static getDocumentName(){return i.window.activeTextEditor.document.fileName}static replace(e,t){return n(this,void 0,void 0,(function*(){return i.window.activeTextEditor.edit(r=>{r.replace(e,t)})}))}static readLineAt(e){if(null===e&&(e=i.window.activeTextEditor.selection.active.line),e>=i.window.activeTextEditor.document.lineCount)throw new RangeError;return i.window.activeTextEditor.document.lineAt(e).text}static getLineCount(e){return(e=e||i.window.activeTextEditor)?e.document.lineCount:-1}static getLineAt(e){return i.window.activeTextEditor.document.lineAt(e)}static getCharAt(e){return a.getLineAt(e).text[e.character]}static getLineMaxColumn(e){if(e<0||e>a.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return a.readLineAt(e).length}static getSelection(){return i.window.activeTextEditor.selection}static getText(e){return i.window.activeTextEditor.document.getText(e)}static getWord(e){let t=e,r=e.getRight();const n=a.getText(new i.Range(t,r));r=(t=this.whitespaceRegExp.test(n)?e.getWordRight():e.getWordLeft(!0)).getCurrentWordEnd(!0).getRight();const o=a.getText(new i.Range(t,r));if(!this.whitespaceRegExp.test(o))return o}static isFirstLine(e){return 0===e.line}static isLastLine(e){return e.line===i.window.activeTextEditor.document.lineCount-1}static getIndentationLevel(e){let t=s.configuration.tabstop,r=0,n=e.match(/^\s*/);n&&(r=n[0].length);let i=0;if(!(r>=0))return-1;for(const n of e.substring(0,r))switch(n){case"\t":i+=t;break;case" ":i+=1}return i}static setIndentationLevel(e,t){let r=s.configuration.tabstop;t<0&&(t=0);let n="";s.configuration.expandtab?n+=new Array(t+1).join(" "):(t/r>0&&(n+=new Array(Math.floor(t/r)+1).join("\t")),n+=new Array(t%r+1).join(" "));let i=0,o=e.match(/^\s*/);return o&&(i=o[0].length),n+e.substring(i,e.length)}static getPositionAt(e){const t=i.window.activeTextEditor.document.positionAt(e);return o.Position.FromVSCodePosition(t)}static getOffsetAt(e){return i.window.activeTextEditor.document.offsetAt(e)}}t.TextEditor=a,a.whitespaceRegExp=new RegExp("^ *$")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(33),o=r(0),s=r(4);class a{constructor(){this.left=[],this.right=[]}addToken(e){if(e.type!==i.TokenType.Comma)if(this.separator){if(this.right.length>0)switch(e.type){case i.TokenType.Offset:case i.TokenType.Plus:case i.TokenType.Minus:break;default:throw Error("Trailing characters")}this.right.push(e)}else{if(this.left.length>0)switch(e.type){case i.TokenType.Offset:case i.TokenType.Plus:case i.TokenType.Minus:break;default:throw Error("Trailing characters")}this.left.push(e)}else this.separator=e}get isEmpty(){return 0===this.left.length&&0===this.right.length&&!this.separator}toString(){return this.left.toString()+this.separator.content+this.right.toString()}execute(e,t){if(this.isEmpty)return;const r=0===this.right.length?this.left:this.right,n=this.lineRefToPosition(e,r,t);t.cursorStartPosition=t.cursorStopPosition=s.Position.FromVSCodePosition(n)}lineRefToPosition(e,t,r){let n,s=0,a=void 0;const c=t[0];switch(c.type){case i.TokenType.Percent:return new o.Position(e.document.lineCount-1,0);case i.TokenType.Dollar:n=e.document.lineCount-1;break;case i.TokenType.Plus:case i.TokenType.Minus:case i.TokenType.Dot:n=e.selection.active.line,a=c.type===i.TokenType.Dot?void 0:c.type;break;case i.TokenType.LineNumber:n=Number.parseInt(c.content,10)-1;break;case i.TokenType.SelectionFirstLine:n=Math.min.apply(null,e.selections.map(e=>e.start.isBeforeOrEqual(e.end)?e.start.line:e.end.line));break;case i.TokenType.SelectionLastLine:n=Math.max.apply(null,e.selections.map(e=>e.start.isAfter(e.end)?e.start.line:e.end.line));break;case i.TokenType.Mark:n=r.historyTracker.getMark(c.content).position.line,s=r.historyTracker.getMark(c.content).position.character;break;default:throw new Error("Not Implemented")}for(let e=1;e<t.length;++e){let r=t[e];switch(a){case i.TokenType.Plus:switch(r.type){case i.TokenType.Minus:case i.TokenType.Plus:n+=1,s=0,a=r.type;break;case i.TokenType.Offset:n+=Number.parseInt(r.content,10),s=0,a=void 0;break;default:throw Error("Trailing characters")}break;case i.TokenType.Minus:switch(r.type){case i.TokenType.Minus:case i.TokenType.Plus:n-=1,s=0,a=r.type;break;case i.TokenType.Offset:n-=Number.parseInt(r.content,10),s=0,a=void 0;break;default:throw Error("Trailing characters")}break;case void 0:switch(r.type){case i.TokenType.Minus:case i.TokenType.Plus:a=r.type;break;default:throw Error("Trailing characters")}}}switch(a){case i.TokenType.Plus:n+=1,s=0;break;case i.TokenType.Minus:n-=1,s=0}return n=Math.max(0,n),n=Math.min(e.document.lineCount-1,n),new o.Position(n,s)}}t.LineRange=a;t.CommandLine=class{constructor(){this.range=new a}get isEmpty(){return this.range.isEmpty&&!this.command}toString(){return":"+this.range.toString()+" "+this.command.toString()}execute(e,t){return n(this,void 0,void 0,(function*(){this.command?this.range.isEmpty?yield this.command.execute(t):yield this.command.executeWithRange(t,this.range):this.range.execute(e,t)}))}};t.CommandBase=class{get activeTextEditor(){return o.window.activeTextEditor}get name(){return this._name}get arguments(){return this._arguments}neovimCapable(){return!1}executeWithRange(e,t){throw new Error("Not implemented!")}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(28),o=r(0),s=r(210),a=r(294),c=r(3);class u extends i{constructor(e){super(e),this.actionMessages=["Dismiss","Suppress Errors"],this.prefix=e.prefix}log(e,t){return n(this,void 0,void 0,(function*(){if(c.configuration.debug.silent)return;let r;switch(e.level){case"error":r=o.window.showErrorMessage;break;case"warn":r=o.window.showWarningMessage;break;case"info":case"verbose":case"debug":r=o.window.showInformationMessage;break;default:throw"Unsupported "+e.level}let n=e.message;this.prefix&&(n=this.prefix+": "+n),"Suppress Errors"===(yield r(n,...this.actionMessages))&&(o.window.showInformationMessage("Ignorance is bliss; temporarily suppressing log messages. For more permanence, please configure `vim.debug.silent`."),c.configuration.debug.silent=!0),t&&t()}))}}t.Logger=class{static get(e){return s.createLogger({format:s.format.simple(),transports:[new a.ConsoleForElectron({level:c.configuration.debug.loggingLevelForConsole,silent:c.configuration.debug.silent,prefix:e}),new u({level:c.configuration.debug.loggingLevelForAlert,prefix:e})]})}}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}function s(e,t,r){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&a(i,r.prototype),i}).apply(null,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}(this,c(t).call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(e.toString().split("\n")[0],"\n"))),Error.captureStackTrace(i(i(r)),t),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,e),t}(o(Error));e.exports=function(e){if(e.length>2)throw new u(e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}function r(e){return new t(e)}return t.prototype.transform=e,r.Format=t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.start=0,this.pos=0,this.input=e}next(){if(this.isAtEof)return this.pos=this.input.length,n.EOF;let e=this.input[this.pos];return this.pos++,e}nextWord(e=[" ","\t"]){if(this.skipRun(e),this.isAtEof)return this.pos=this.input.length,n.EOF;let t="",r=void 0;for(;!this.isAtEof&&(r=this.next())!==n.EOF&&!e.includes(r);)t+=r;return r&&e.includes(r)&&this.backup(),this.ignore(),t}get isAtEof(){return this.pos>=this.input.length}ignore(){this.start=this.pos}emit(){let e=this.input.substring(this.start,this.pos);return this.ignore(),e}remaining(){for(;!this.isAtEof;)this.next();return this.emit()}backup(){this.pos--}skip(e){if(this.isAtEof)return;let t=this.next();for(;!this.isAtEof&&t===e;)t=this.next();this.backup(),this.ignore()}skipRun(e){if(!this.isAtEof){for(;!this.isAtEof;){let t=this.next();if(!e.includes(t))break}this.backup(),this.ignore()}}skipWhiteSpace(){if(this.isAtEof)return;let e=null;for(;!this.isAtEof&&(" "===(e=this.next())||"\t"===e););e!==n.EOF&&" "!==e&&"\t"!==e&&this.backup(),this.ignore()}expect(e){if(!this.input.substring(this.pos).startsWith(e))throw new Error("Unexpected character.");this.pos+=e.length}expectOneOf(e){let t=e.filter(e=>this.input.substr(this.pos).startsWith(e));if(1!==t.length){if(t.length>1)throw new Error("Too many matches.");throw new Error("Unexpected character.")}this.pos+=t[0].length}}t.Scanner=n,n.EOF="__EOF__"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(36);class o{constructor(){this.isMotion=!1,this.isJump=!1,this.canBeRepeatedWithDot=!1,this.mustBeFirstKey=!1,this.isOperator=!1,this.keysPressed=[]}doesActionApply(e,t){return!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length>t.length)&&(this.modes.includes(e.currentMode)&&o.CompareKeypressSequence(this.keys,t))}couldActionApply(e,t){if(!this.modes.includes(e.currentMode))return!1;const r=(o.is2DArray(this.keys)?this.keys:[this.keys]).map(e=>e.slice(0,t.length));return!!o.CompareKeypressSequence(r,t)&&!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0)}static CompareKeypressSequence(e,t){if(o.is2DArray(e)){for(const r of e)if(o.CompareKeypressSequence(r,t))return!0;return!1}if(e.length!==t.length)return!1;const r=/^[0-9]$/,s=/^[a-zA-Z]$/;for(let o=0,a=0;o<e.length;o++,a++){const c=e[o],u=t[a];if("<any>"!==c&&("<any>"!==u&&("<number>"!==c||!r.test(u))&&("<number>"!==u||!r.test(c))&&("<alpha>"!==c||!s.test(u))&&("<alpha>"!==u||!s.test(c))&&("<character>"!==c||i.Notation.IsControlKey(u))&&("<character>"!==u||i.Notation.IsControlKey(c))&&!("<leader>"===c&&u===n.configuration.leader||"<leader>"===u&&c===n.configuration.leader))){if(c===n.configuration.leader)return!1;if(u===n.configuration.leader)return!1;if(c!==u)return!1}}return!0}toString(){return this.keys.join("")}static is2DArray(e){return Array.isArray(e[0])}}var s;t.BaseAction=o,function(e){e[e.WaitingOnKeys=0]="WaitingOnKeys",e[e.NoPossibleMatch=1]="NoPossibleMatch"}(s=t.KeypressState||(t.KeypressState={}));class a{static getRelevantAction(e,t){let r=!1;const n=a.actionMap.get(t.currentMode)||[];for(const i of n){const n=new i;if(n.doesActionApply(t,e))return n.keysPressed=t.recordedState.actionKeys.slice(0),n;n.couldActionApply(t,e)&&(r=!0)}return r?s.WaitingOnKeys:s.NoPossibleMatch}}t.Actions=a,a.actionMap=new Map,t.RegisterAction=function(e){const t=new e;for(const r of t.modes){let n=a.actionMap.get(r);n||(n=[],a.actionMap.set(r,n)),void 0!==t.keys&&n.push(e)}}},function(e,t,r){"use strict";class n extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,n)}}e.exports=e=>{if(e.length>2)throw new n(e);function t(e={}){this.options=e}function r(e){return new t(e)}return t.prototype.transform=e,r.Format=t,r}},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(101),o=r(26),s=r(20),a=r(29);var c;!function(e){e[e.AscertainFromCurrentMode=0]="AscertainFromCurrentMode",e[e.CharacterWise=1]="CharacterWise",e[e.LineWise=2]="LineWise",e[e.BlockWise=3]="BlockWise"}(c=t.RegisterMode||(t.RegisterMode={}));class u{static isValidRegister(e){return e in u.registers||u.isValidLowercaseRegister(e)||u.isValidUppercaseRegister(e)}static isValidRegisterForMacro(e){return/^[a-zA-Z0-9:]+$/.test(e)}static put(e,t,r){const n=t.recordedState.registerName;if(!u.isValidRegister(n))throw new Error(`Invalid register ${n}`);u.isBlackHoleRegister(n)||u.isReadOnlyRegister(n)||(t.isMultiCursor?u.isValidUppercaseRegister(n)?u.appendMulticursorRegister(e,n,t,r):u.putMulticursorRegister(e,n,t,r):u.isValidUppercaseRegister(n)?u.appendNormalRegister(e,n,t):u.putNormalRegister(e,n,t))}static isBlackHoleRegister(e){return"_"===e}static isClipboardRegister(e){const t=u.registers[e];return t&&t.isClipboardRegister}static isReadOnlyRegister(e){return[".","%",":","#","/"].includes(e)}static isValidLowercaseRegister(e){return/^[a-z]+$/.test(e)}static isValidUppercaseRegister(e){return/^[A-Z]+$/.test(e)}static putMulticursorRegister(e,t,r,n){0===n&&(u.registers[t.toLowerCase()]={text:[],registerMode:r.effectiveRegisterMode,isClipboardRegister:u.isClipboardRegister(t)});let o=u.registers[t.toLowerCase()];if(Array.isArray(o.text)||(o.text=[]),o.text.push(e),n===r.cursors.length-1){if(o.isClipboardRegister){let e="";for(const t of o.text)e+=t+"\n";e=e.replace(/\n$/,""),i.Clipboard.Copy(e)}u.processNumberedRegister(o.text,r)}}static appendMulticursorRegister(e,t,r,n){let i=u.registers[t.toLowerCase()];if(0===n){let e=!1;"string"==typeof i.text?e=!0:i.text.length!==r.cursors.length&&(e=!0),e&&(u.registers[t.toLowerCase()]={text:Array(r.cursors.length).fill(""),registerMode:r.effectiveRegisterMode,isClipboardRegister:u.isClipboardRegister(t)},i=u.registers[t.toLowerCase()])}let o=r.effectiveRegisterMode;i.registerMode===c.CharacterWise&&o===c.CharacterWise?i.text[n]+=e:(i.text[n]+="\n"+e,i.registerMode=o)}static putNormalRegister(e,t,r){u.isClipboardRegister(t)&&i.Clipboard.Copy(e.toString()),u.registers[t.toLowerCase()]={text:e,registerMode:r.effectiveRegisterMode,isClipboardRegister:u.isClipboardRegister(t)},u.processNumberedRegister(e,r)}static appendNormalRegister(e,t,r){let n=u.registers[t.toLowerCase()],i=r.effectiveRegisterMode;if(n.text instanceof Array)if(n.registerMode===c.CharacterWise&&i===c.CharacterWise)for(let t=0;t<n.text.length;t++)n.text[t]+=e;else{for(let t=0;t<n.text.length;t++)n.text[t]+="\n"+e;n.registerMode=i}else"string"==typeof n.text&&(n.registerMode===c.CharacterWise&&i===c.CharacterWise?n.text=n.text+e:(n.text+="\n"+e,n.registerMode=i))}static putByKey(e,t='"',r=c.AscertainFromCurrentMode,n=!1){if(!u.isValidRegister(t))throw new Error(`Invalid register ${t}`);u.isClipboardRegister(t)&&i.Clipboard.Copy(e.toString()),u.isBlackHoleRegister(t)||u.isReadOnlyRegister(t)&&!n||(u.registers[t]={text:e,registerMode:r||c.AscertainFromCurrentMode,isClipboardRegister:u.isClipboardRegister(t)})}static processNumberedRegister(e,t){const r=t.recordedState.operator||t.recordedState.command;if(r instanceof s.YankOperator||r instanceof o.CommandYankFullLine){t.recordedState.actionsRun.find(e=>e instanceof o.CommandRegister)||(u.registers[0].text=e,u.registers[0].registerMode=t.effectiveRegisterMode)}else if((r instanceof s.DeleteOperator||r instanceof o.ActionDeleteChar||r instanceof o.ActionDeleteLastChar||r instanceof o.ActionDeleteCharWithDeleteKey)&&!t.isRecordingMacro&&!t.isReplayingMacro)if(e.toString().match(/\n/g)||t.currentRegisterMode===c.LineWise){for(let e=9;e>1;e--)u.registers[String(e)].text=u.registers[String(e-1)].text,u.registers[String(e)].registerMode=u.registers[String(e-1)].registerMode;u.registers[1].text=e,u.registers[1].registerMode=t.effectiveRegisterMode}else u.registers["-"].text=e,u.registers["-"].registerMode=c.CharacterWise}static get(e){return n(this,void 0,void 0,(function*(){const t=e.recordedState.registerName;return u.getByKey(t,e)}))}static getByKey(e,t){return n(this,void 0,void 0,(function*(){if(!u.isValidRegister(e))throw new Error(`Invalid register ${e}`);let r=e.toLowerCase();if(u.registers[r]||(u.registers[r]={text:"",registerMode:c.CharacterWise,isClipboardRegister:!1}),u.isClipboardRegister(e)){let n,o=yield i.Clipboard.Paste();return o=o.replace(/\r\n/g,"\n"),t&&t.isMultiCursor?(n=o.split("\n")).length!==t.cursors.length&&(n=o):n=o,u.registers[r].text=n,u.registers[e]}{let e,n=u.registers[r].text;return{text:e=n instanceof a.RecordedState?n:t&&t.isMultiCursor&&"object"==typeof n?n.length===t.cursors.length?n:n.join("\n"):"object"==typeof n?n.join("\n"):n,registerMode:u.registers[r].registerMode,isClipboardRegister:u.registers[r].isClipboardRegister}}}))}static has(e){return void 0!==u.registers[e]}static getKeys(){return Object.keys(u.registers)}}t.Register=u,u.registers={'"':{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},".":{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},"*":{text:"",registerMode:c.CharacterWise,isClipboardRegister:!0},"+":{text:"",registerMode:c.CharacterWise,isClipboardRegister:!0},"-":{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},"/":{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},"%":{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},":":{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},_:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},0:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},1:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},2:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},3:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},4:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},5:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},6:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},7:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},8:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1},9:{text:"",registerMode:c.CharacterWise,isClipboardRegister:!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.E20=20]="E20",e[e.E32=32]="E32",e[e.E35=35]="E35",e[e.E37=37]="E37",e[e.E208=208]="E208",e[e.E348=348]="E348",e[e.E444=444]="E444",e[e.E486=486]="E486",e[e.E488=488]="E488",e[e.E492=492]="E492",e[e.E518=518]="E518"}(t.ErrorCode||(t.ErrorCode={})),t.ErrorMessage={20:"Mark not set",32:"No file name",35:"No previous regular expression",37:"No write since last change (add ! to override)",208:"Error writing to file",348:"No string under cursor",444:"Cannot close last window",486:"Pattern not found",488:"Trailing characters",492:"Not an editor command",518:"Unknown option"};class n extends Error{constructor(e,t){super(),this._code=e,this._message=t}static fromCode(e){if(t.ErrorMessage[e])return new n(e,t.ErrorMessage[e]);throw new Error("unknown error code: "+e)}get code(){return this._code}get message(){return this._message}toString(){return"E"+this.code.toString()+": "+this.message}}t.VimError=n},function(e,t){e.exports=require("fs")},function(e,t,r){var n=t.global=r(363),i=t.hasBuffer=n&&!!n.isBuffer,o=t.hasArrayBuffer="undefined"!=typeof ArrayBuffer,s=t.isArray=r(51);t.isArrayBuffer=o?function(e){return e instanceof ArrayBuffer||m(e)}:v;var a=t.isBuffer=i?n.isBuffer:v,c=t.isView=o?ArrayBuffer.isView||y("ArrayBuffer","buffer"):v;t.alloc=f,t.concat=function(e,r){r||(r=0,Array.prototype.forEach.call(e,(function(e){r+=e.length})));var n=this!==t&&this||e[0],i=f.call(n,r),o=0;return Array.prototype.forEach.call(e,(function(e){o+=h.copy.call(e,i,o)})),i},t.from=function(e){return"string"==typeof e?p.call(this,e):g(this).from(e)};var u=t.Array=r(364),l=t.Buffer=r(365),d=t.Uint8Array=r(366),h=t.prototype=r(107);function f(e){return g(this).alloc(e)}var m=y("ArrayBuffer");function p(e){var t=3*e.length,r=f.call(this,t),n=h.write.call(r,e);return t!==n&&(r=h.slice.call(r,0,n)),r}function g(e){return a(e)?l:c(e)?d:s(e)?u:i?l:o?d:u}function v(){return!1}function y(e,t){return e="[object "+e+"]",function(r){return null!=r&&{}.toString.call(t?r[t]:r)===e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);class i{constructor(e,t){this._start=e,this._stop=t}get start(){return this._start}get stop(){return this._stop}isValid(e){return this._start.isValid(e)&&this._stop.isValid(e)}static FromVSCodeSelection(e){return new i(n.Position.FromVSCodePosition(e.start),n.Position.FromVSCodePosition(e.end))}static*IterateRanges(e){for(let t=0;t<e.length;t++)yield{i:t,range:e[t],start:e[t]._start,stop:e[t]._stop}}static FromIMovement(e){return new i(e.start,e.stop)}getRight(e=1){return new i(this._start.getRight(e),this._stop.getRight(e))}getDown(e=1){return new i(this._start.getDownByCount(e),this._stop.getDownByCount(e))}equals(e){return this._start.isEqual(e._start)&&this._stop.isEqual(e._stop)}withNewStop(e){return new i(this._start,e)}withNewStart(e){return new i(e,this._stop)}toString(){return`[ ${this.start.toString()} | ${this.stop.toString()}]`}overlaps(e){return this.start.isBefore(e.stop)&&e.start.isBefore(this.stop)}add(e){return new i(this.start.add(e),this.stop.add(e))}}t.Range=i},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a=r(0),c=r(4),u=r(18),l=r(3),d=r(5),h=r(14),f=r(6),m=r(11),p=r(26),g=r(62),v=r(42);class y extends m.BaseAction{constructor(e){super(),this.canBeRepeatedWithDot=!0,this.isOperator=!0,this.multicursorIndex=void 0,this.multicursorIndex=e}doesActionApply(e,t){return!!this.doesRepeatedOperatorApply(e,t)||!!this.modes.includes(e.currentMode)&&(!!m.BaseAction.CompareKeypressSequence(this.keys,t)&&(!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0)&&!(this instanceof y&&e.recordedState.operator)))}couldActionApply(e,t){return!!this.modes.includes(e.currentMode)&&(!!m.BaseAction.CompareKeypressSequence(this.keys.slice(0,t.length),t)&&(!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0)&&!(this instanceof y&&e.recordedState.operator)))}doesRepeatedOperatorApply(e,t){const r=e.recordedState.actionsRun.filter(e=>!(e instanceof p.CommandNumber)),n=r[r.length-1];return this.isOperator&&1===t.length&&n&&this.modes.includes(e.currentMode)&&n.constructor===this.constructor&&m.BaseAction.CompareKeypressSequence(n.keysPressed.slice(-1),t)}run(e,t,r){throw new Error("You need to override this!")}runRepeat(e,t,r){return e.currentRegisterMode=h.RegisterMode.LineWise,this.run(e,t.getLineBegin(),t.getDownByCount(Math.max(0,r-1)).getLineEnd())}highlightYankedRanges(e,t){if(!l.configuration.highlightedyank.enable)return;const r=a.window.createTextEditorDecorationType({backgroundColor:l.configuration.highlightedyank.color});e.editor.setDecorations(r,t),setTimeout(()=>r.dispose(),l.configuration.highlightedyank.duration)}}t.BaseOperator=y;let w=class extends y{constructor(){super(...arguments),this.keys=["d"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine]}delete(e,t,r,n,i,o=!0){return s(this,void 0,void 0,(function*(){n===h.RegisterMode.LineWise&&(e=e.getLineBegin(),t=t.getLineEnd());const s=(t=new c.Position(t.line,t.character+1)).line===f.TextEditor.getLineCount()-1;i.currentMode!==d.ModeName.VisualBlock&&t.character===f.TextEditor.getLineAt(t).text.length+1&&(t=t.getDown(0));let l=i.editor.document.getText(new a.Range(e,t));s&&0!==e.line&&n===h.RegisterMode.LineWise&&(e=e.getPreviousLineBegin().getLineEnd()),n===h.RegisterMode.LineWise&&(l=l.endsWith("\r\n")?l.slice(0,-2):l.endsWith("\n")?l.slice(0,-1):l),o&&h.Register.put(l,i,this.multicursorIndex);let m,p=new c.PositionDiff(0,0);return r===d.ModeName.Visual&&(m=c.Position.EarlierOf(e,t)),e.character>f.TextEditor.getLineAt(e).text.length?(m=e.getLeft(),p=new c.PositionDiff(0,-1)):m=e,n===h.RegisterMode.LineWise&&(m=m.getLineBegin(),p=c.PositionDiff.NewBOLDiff()),i.recordedState.transformations.push({type:"deleteRange",range:new u.Range(e,t),diff:p}),m}))}run(e,t,r,n=!0){return s(this,void 0,void 0,(function*(){let i=yield this.delete(t,r,e.currentMode,e.effectiveRegisterMode,e,n);yield e.setCurrentMode(d.ModeName.Normal),e.currentMode===d.ModeName.Visual&&(e.desiredColumn=i.character);const o=Math.abs(t.line-r.line)+1;return v.ReportLinesChanged(-o,e),e}))}};w=o([m.RegisterAction],w),t.DeleteOperator=w;let x=class extends y{constructor(){super(...arguments),this.keys=["D"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,(function*(){return e.currentRegisterMode=h.RegisterMode.LineWise,new w(this.multicursorIndex).run(e,t,r)}))}};x=o([m.RegisterAction],x),t.DeleteOperatorVisual=x;let b=class extends y{constructor(){super(...arguments),this.keys=["y"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine],this.canBeRepeatedWithDot=!1}run(e,t,r){return s(this,void 0,void 0,(function*(){if(e.surround)return e.surround.range=new u.Range(t,r),yield e.setCurrentMode(d.ModeName.SurroundInputMode),e.cursorStopPosition=t,e.cursorStartPosition=t,e;const n=e.currentMode;r.isEarlierThan(t)&&([t,r]=[r,t]);let i=new c.Position(r.line,r.character+1);e.currentRegisterMode===h.RegisterMode.LineWise&&(t=t.getLineBegin(),i=i.getLineEnd());const o=new a.Range(t,i);let s=f.TextEditor.getText(o);e.currentMode===d.ModeName.Visual&&i.character===f.TextEditor.getLineAt(i).text.length+1&&(s+="\n"),this.highlightYankedRanges(e,[o]),h.Register.put(s,e,this.multicursorIndex),e.currentMode!==d.ModeName.Visual&&e.currentMode!==d.ModeName.VisualLine||(e.historyTracker.addMark(t,"<"),e.historyTracker.addMark(r,">")),yield e.setCurrentMode(d.ModeName.Normal),e.cursorStartPosition=t;let l=!1;e.recordedState.actionsRun.length>1&&e.recordedState.actionsRun[1]instanceof g.TextObjectMovement&&(l=!0),n!==d.ModeName.Normal||l?e.cursorStopPosition=t:e.cursors=e.cursorsInitialState;const m=s.split("\n").length;return v.ReportLinesYanked(m,e),e}))}};b=o([m.RegisterAction],b),t.YankOperator=b;let C=class extends y{constructor(){super(...arguments),this.keys=["Y"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine,d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,(function*(){return e.currentRegisterMode=h.RegisterMode.LineWise,(new b).run(e,t,r)}))}};C=o([m.RegisterAction],C),t.ShiftYankOperatorVisual=C;let M=class extends y{constructor(){super(...arguments),this.keys=[["x"],["<Del>"]],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,(function*(){return new w(this.multicursorIndex).run(e,t,r)}))}};M=o([m.RegisterAction],M),t.DeleteOperatorXVisual=M;let S=class extends y{constructor(){super(...arguments),this.keys=["s"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&!l.configuration.sneak}run(e,t,r){return s(this,void 0,void 0,(function*(){return(new $).run(e,t,r)}))}};S=o([m.RegisterAction],S),t.ChangeOperatorSVisual=S;let E=class extends y{constructor(){super(...arguments),this.keys=["="],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine,d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,(function*(){t=new c.Position(t.line,0),r=r.getLineEnd(),e.editor.selection=new a.Selection(t,r),yield a.commands.executeCommand("editor.action.formatSelection");let n=e.cursorStartPosition.line;e.cursorStartPosition.isAfter(e.cursorStopPosition)&&(n=e.cursorStopPosition.line);let i=new c.Position(n,0).getFirstLineNonBlankChar();return e.cursorStopPosition=i,e.cursorStartPosition=i,yield e.setCurrentMode(d.ModeName.Normal),e}))}};E=o([m.RegisterAction],E),t.FormatOperator=E;let k=class extends y{constructor(){super(...arguments),this.keys=[["g","U"],["U"]],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,(function*(){const n=new a.Range(t,new c.Position(r.line,r.character+1));let i=e.editor.document.getText(n);return yield f.TextEditor.replace(n,i.toUpperCase()),yield e.setCurrentMode(d.ModeName.Normal),e.cursorStopPosition=t,e}))}};k=o([m.RegisterAction],k),t.UpperCaseOperator=k;let _=class extends k{constructor(){super(...arguments),this.keys=[["g","U"]],this.modes=[d.ModeName.Normal]}};_=o([m.RegisterAction],_),t.UpperCaseWithMotion=_;let P=class extends y{constructor(){super(...arguments),this.keys=[["g","U"],["U"]],this.modes=[d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,(function*(){for(const{start:t,end:r}of c.Position.IterateLine(e)){const n=new a.Range(t,r);let i=e.editor.document.getText(n);yield f.TextEditor.replace(n,i.toUpperCase())}const n=t.isBefore(r)?t:r;return e.cursorStopPosition=n,e.cursorStartPosition=n,yield e.setCurrentMode(d.ModeName.Normal),e}))}};P=o([m.RegisterAction],P);let A=class extends y{constructor(){super(...arguments),this.keys=[["g","u"],["u"]],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,(function*(){const n=new a.Range(t,new c.Position(r.line,r.character+1));let i=e.editor.document.getText(n);return yield f.TextEditor.replace(n,i.toLowerCase()),yield e.setCurrentMode(d.ModeName.Normal),e.cursorStopPosition=t,e}))}};A=o([m.RegisterAction],A),t.LowerCaseOperator=A;let R=class extends A{constructor(){super(...arguments),this.keys=[["g","u"]],this.modes=[d.ModeName.Normal]}};R=o([m.RegisterAction],R),t.LowerCaseWithMotion=R;let N=class extends y{constructor(){super(...arguments),this.keys=[["g","u"],["u"]],this.modes=[d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,(function*(){for(const{start:t,end:r}of c.Position.IterateLine(e)){const n=new a.Range(t,r);let i=e.editor.document.getText(n);yield f.TextEditor.replace(n,i.toLowerCase())}const n=t.isBefore(r)?t:r;return e.cursorStopPosition=n,e.cursorStartPosition=n,yield e.setCurrentMode(d.ModeName.Normal),e}))}};N=o([m.RegisterAction],N);let T=class extends y{constructor(){super(...arguments),this.modes=[d.ModeName.Normal],this.keys=[">"]}run(e,t,r){return s(this,void 0,void 0,(function*(){return e.editor.selection=new a.Selection(t.getLineBegin(),r.getLineEnd()),yield a.commands.executeCommand("editor.action.indentLines"),yield e.setCurrentMode(d.ModeName.Normal),e.cursorStopPosition=t.getFirstLineNonBlankChar(),e}))}};T=o([m.RegisterAction],T);let L=class extends y{constructor(){super(...arguments),this.modes=[d.ModeName.Visual,d.ModeName.VisualLine],this.keys=[">"]}run(e,t,r){return s(this,void 0,void 0,(function*(){if(e.isRunningDotCommand&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorStopPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDownByCount(r);e.editor.selection=new a.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)yield a.commands.executeCommand("editor.action.indentLines");return yield e.setCurrentMode(d.ModeName.Normal),e.cursorStopPosition=t.getFirstLineNonBlankChar(),e}))}};L=o([m.RegisterAction],L);let B=class extends y{constructor(){super(...arguments),this.modes=[d.ModeName.Normal],this.keys=["<"]}run(e,t,r){return s(this,void 0,void 0,(function*(){return e.editor.selection=new a.Selection(t,r.getLineEnd()),yield a.commands.executeCommand("editor.action.outdentLines"),yield e.setCurrentMode(d.ModeName.Normal),e.cursorStopPosition=t.getFirstLineNonBlankChar(),e}))}};B=o([m.RegisterAction],B);let F=class extends y{constructor(){super(...arguments),this.modes=[d.ModeName.Visual,d.ModeName.VisualLine],this.keys=["<"]}run(e,t,r){return s(this,void 0,void 0,(function*(){if(e.isRunningDotCommand&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorStopPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDownByCount(r);e.editor.selection=new a.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)yield a.commands.executeCommand("editor.action.outdentLines");return yield e.setCurrentMode(d.ModeName.Normal),e.cursorStopPosition=t.getFirstLineNonBlankChar(),e}))}};F=o([m.RegisterAction],F);let $=class extends y{constructor(){super(...arguments),this.keys=["c"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,(function*(){const n=r.character===r.getLineEnd().character,i=e.currentRegisterMode===h.RegisterMode.LineWise;return(e=yield new b(this.multicursorIndex).run(e,t,r)).currentRegisterMode=h.RegisterMode.CharacterWise,0===c.Position.getLineLength(f.TextEditor.getLineAt(t).lineNumber)&&r.line===t.line||(e=i?yield new w(this.multicursorIndex).run(e,t.getLineBegin(),r.getLineEnd().getLeftThroughLineBreaks(),!1):n?yield new w(this.multicursorIndex).run(e,t,r.getLeftThroughLineBreaks(),!1):yield new w(this.multicursorIndex).run(e,t,r,!1)),e.currentRegisterMode=h.RegisterMode.AscertainFromCurrentMode,yield e.setCurrentMode(d.ModeName.Insert),n&&(e.cursorStopPosition=r.getRight()),e}))}runRepeat(e,t,r){return s(this,void 0,void 0,(function*(){const n=e.editor.document.getText(new a.Range(t.getLineBegin(),t.getLineBeginRespectingIndent()));return e.currentRegisterMode=h.RegisterMode.LineWise,e=yield this.run(e,t.getLineBegin(),t.getDownByCount(Math.max(0,r-1)).getLineEnd()),l.configuration.autoindent&&("plaintext"===e.editor.document.languageId?e.recordedState.transformations.push({type:"insertText",text:n,position:t.getLineBegin(),cursorIndex:this.multicursorIndex}):e.recordedState.transformations.push({type:"reindent",cursorIndex:this.multicursorIndex,diff:new c.PositionDiff(0,1)})),e}))}};$=o([m.RegisterAction],$),t.ChangeOperator=$;let O=class extends y{constructor(){super(...arguments),this.keys=["y"],this.modes=[d.ModeName.VisualBlock],this.canBeRepeatedWithDot=!1}runsOnceForEveryCursor(){return!1}run(e,t,r){return s(this,void 0,void 0,(function*(){let n="";const i=[],o=t.line!==r.line;for(const{line:t,start:r,end:s}of c.Position.IterateLine(e))i.push(new a.Range(r,s)),o?n+=t+"\n":n=t;e.currentRegisterMode=h.RegisterMode.BlockWise,this.highlightYankedRanges(e,i),h.Register.put(n,e,this.multicursorIndex),e.historyTracker.addMark(t,"<"),e.historyTracker.addMark(r,">");const s=n.split("\n").length;return v.ReportLinesYanked(s,e),yield e.setCurrentMode(d.ModeName.Normal),e.cursorStopPosition=t,e}))}};O=o([m.RegisterAction],O),t.YankVisualBlockMode=O;let D=n=class extends y{constructor(){super(...arguments),this.keys=["~"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,(function*(){const i=new a.Range(t,r.getRight());yield n.toggleCase(i);const o=t.isBefore(r)?t:r;return e.cursorStopPosition=o,e.cursorStartPosition=o,yield e.setCurrentMode(d.ModeName.Normal),e}))}static toggleCase(e){return s(this,void 0,void 0,(function*(){const t=f.TextEditor.getText(e);let r="";for(let e=0;e<t.length;e++){const n=t[e];let i=n.toLocaleLowerCase();i===n&&(i=n.toLocaleUpperCase()),r+=i}yield f.TextEditor.replace(e,r)}))}};D=n=o([m.RegisterAction],D),t.ToggleCaseOperator=D;let j=class extends y{constructor(){super(...arguments),this.keys=["~"],this.modes=[d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,(function*(){for(const{start:t,end:r}of c.Position.IterateLine(e)){const e=new a.Range(t,r);yield D.toggleCase(e)}const n=t.isBefore(r)?t:r;return e.cursorStopPosition=n,e.cursorStartPosition=n,yield e.setCurrentMode(d.ModeName.Normal),e}))}};j=o([m.RegisterAction],j);let I=class extends D{constructor(){super(...arguments),this.keys=["g","~"],this.modes=[d.ModeName.Normal]}};I=o([m.RegisterAction],I);let V=class extends y{constructor(){super(...arguments),this.keys=["g","c"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine,d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,(function*(){return e.editor.selection=new a.Selection(t.getLineBegin(),r.getLineEnd()),yield a.commands.executeCommand("editor.action.commentLine"),e.cursorStopPosition=new c.Position(t.line,0),yield e.setCurrentMode(d.ModeName.Normal),e}))}};V=o([m.RegisterAction],V),t.CommentOperator=V;let W=class extends y{constructor(){super(...arguments),this.keys=["g","C"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,(function*(){if(e.currentMode===d.ModeName.Normal){const n=r.getRight();e.editor.selection=new a.Selection(t,n)}return yield a.commands.executeCommand("editor.action.blockComment"),e.cursorStopPosition=t,yield e.setCurrentMode(d.ModeName.Normal),e}))}};W=o([m.RegisterAction],W),t.CommentBlockOperator=W;let H=i=class extends y{constructor(){super(...arguments),this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine],this.keys=["g","q"]}getIndentation(e){for(const t of e.split("\n")){const e=t.match(/^\s+/g),r=e?e[0]:"";if(r!==t)return r}return""}reflowParagraph(e,t){let r=0;for(const e of t)r+="\t"===e?l.configuration.tabstop:1;const n=l.configuration.textwidth-r-2;let o=[];for(const t of e.split("\n")){let e=o[o.length-1];const r=t.trim();let n;for(const r of i.CommentTypes){if(t.trim().startsWith(r.start)){n=r;break}if(e&&r.start===e.commentType.start&&!r.singleLine){if(t.trim().startsWith(r.inner)){n=r;break}if(t.trim().endsWith(r.final)){n=r;break}}}if(!n)break;if(e&&n.start===e.commentType.start)(e=o[o.length-1]).commentType.singleLine?e.content+=`\n${r.substr(e.commentType.start.length).trim()}`:r.endsWith(e.commentType.final)?r.length>e.commentType.final.length&&(e.content+=`\n${r.substr(e.commentType.inner.length,r.length-e.commentType.final.length).trim()}`):r.startsWith(e.commentType.inner)?e.content+=`\n${r.substr(e.commentType.inner.length).trim()}`:r.startsWith(e.commentType.start)&&(e.content+=`\n${r.substr(e.commentType.start.length).trim()}`);else{let e={commentType:n,content:`${r.substr(n.start.length).trim()}`,indentLevelAfterComment:0};n.singleLine&&(e.indentLevelAfterComment=r.substr(n.start.length).length-e.content.length),o.push(e)}}let s=[];for(const{commentType:e,content:r,indentLevelAfterComment:i}of o){let o;const a=Array(i+1).join(" ");o=e.singleLine?[""]:["",""];let c=0;for(const e of r.trim().split("\n")){if(""===e.trim()){for(let e=0;e<2;e++)o.push("");c=0;continue}const t=e.split(/\s+/);for(let e=0;e<t.length;e++){const r=t[e];""!==r&&(o[o.length-1].length+r.length+1<n?o[o.length-1]+=0===c&&0===e?`${r}`:` ${r}`:o.push(`${r}`))}c++}e.singleLine||o.push(""),e.singleLine&&(o.length>1&&""===o[0].trim()&&(o=o.slice(1)),o.length>1&&""===o[o.length-1].trim()&&(o=o.slice(0,-1)));for(let r=0;r<o.length;r++)e.singleLine?o[r]=`${t}${e.start}${a}${o[r]}`:0===r?o[r]=`${t}${e.start} ${o[r]}`:r===o.length-1?o[r]=`${t} ${e.final}`:o[r]=`${t} ${e.inner} ${o[r]}`;s=s.concat(o)}return s.join("\n")}run(e,t,r){return s(this,void 0,void 0,(function*(){t=c.Position.EarlierOf(t,r),r=c.Position.LaterOf(t,r);let n=f.TextEditor.getText(new a.Range(t,r)),i=this.getIndentation(n);return n=this.reflowParagraph(n,i),e.recordedState.transformations.push({type:"replaceText",text:n,start:t,end:r,diff:c.PositionDiff.NewBOLDiff(0,0)}),yield e.setCurrentMode(d.ModeName.Normal),e}))}};H.CommentTypes=[{singleLine:!1,start:"/**",inner:"*",final:"*/"},{singleLine:!1,start:"/*",inner:"*",final:"*/"},{singleLine:!1,start:"{-",inner:"-",final:"-}"},{singleLine:!0,start:"///"},{singleLine:!0,start:"//"},{singleLine:!0,start:"--"},{singleLine:!0,start:"#"},{singleLine:!0,start:";"},{singleLine:!0,start:"*"},{singleLine:!0,start:""}],H=i=o([m.RegisterAction],H)},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";const n=t.format=r(12);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:()=>r(221)(`./${t}.js`),configurable:!0})}t.levels=r(76),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t){e.exports=require("path")},function(e,t,r){try{var n=r(1);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(203)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(296),s=r(5),a=r(4),c=r(171),u=r(59),l=r(3);t.globalState=new class{constructor(){this._searchStatePrevious=[],this._jumpTracker=new o.JumpTracker,this._searchHistory=new c.SearchHistory,this.previousFullAction=void 0,this.substituteState=void 0,this.searchState=void 0,this.searchStateIndex=0,this.hl=!0}load(){return n(this,void 0,void 0,(function*(){yield this._searchHistory.load(),this._searchHistory.get().forEach(e=>this.searchStatePrevious.push(new u.SearchState(u.SearchDirection.Forward,new a.Position(0,0),e,void 0,s.ModeName.Normal)))}))}get searchStatePrevious(){return this._searchStatePrevious}set searchStatePrevious(e){this._searchStatePrevious=this._searchStatePrevious.concat(e)}addSearchStateToHistory(e){return n(this,void 0,void 0,(function*(){const t=0===this.searchStatePrevious.length?void 0:this.searchStatePrevious[this.searchStatePrevious.length-1].searchString;e.searchString!==t&&(this.searchStatePrevious.push(e),void 0!==this._searchHistory&&(yield this._searchHistory.add(e.searchString))),this.searchStatePrevious.length>l.configuration.history&&this.searchStatePrevious.splice(0,1),this.searchStateIndex=this.searchStatePrevious.length-1}))}showSearchHistory(){return n(this,void 0,void 0,(function*(){if(!i.window.activeTextEditor)return;const e=this._searchStatePrevious.slice().reverse().map(e=>({label:e.searchString,searchState:e})),t=yield i.window.showQuickPick(e,{placeHolder:"Vim search history",ignoreFocusOut:!1});return t?t.searchState:void 0}))}get jumpTracker(){return this._jumpTracker}}},function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),a=r(29),c=r(172),u=r(41),l=r(101),d=r(100),h=r(173),f=r(60),m=r(174),p=r(4),g=r(18),v=r(301),y=r(3),w=r(5),x=r(74),b=r(14),C=r(59),M=r(6),S=r(175),E=r(11),k=r(11),_=r(61),P=r(20),A=r(40),R=r(176),N=r(27),T=r(169),L=r(42),B=r(25);t.DocumentContentChangeAction=class extends k.BaseAction{constructor(){super(...arguments),this.contentChanges=[]}exec(e,t){return o(this,void 0,void 0,(function*(){if(0===this.contentChanges.length)return t;let r;r=""===this.contentChanges[0].textDiff.text&&1===this.contentChanges[0].textDiff.rangeLength?this.contentChanges[0].textDiff.range.end:this.contentChanges[0].textDiff.range.start;let n,i,o=e;for(let a=0;a<this.contentChanges.length;a++){let c=this.contentChanges[a].textDiff;if(c.range.start.line<r.line){let e=c.range.end.line-c.range.start.line+1,t=c.text.split("\n").length;r=r.with(r.line+t-e);continue}if(c.range.start.line===r.line?(n=e.with(e.line,e.character+c.range.start.character-r.character),i=c.range.end.line===r.line?e.with(e.line,e.character+c.range.end.character-r.character):e.with(e.line+c.range.end.line-r.line,c.range.end.character)):(n=e.with(e.line+c.range.start.line-r.line,c.range.start.character),i=e.with(e.line+c.range.end.line-r.line,c.range.end.character)),n.isAfter(o))continue;let u,l=c.text.split("\n").length;(u=1===l?n.with(n.line,n.character+c.text.length):new s.Position(n.line+l-1,c.text.split("\n").pop().length)).isAfter(o)&&(o=u),t.editor.selection=new s.Selection(n,i),n.isEqual(i)?yield M.TextEditor.insert(c.text,p.Position.FromVSCodePosition(n)):yield M.TextEditor.replace(t.editor.selection,c.text)}if(n&&i){const e=this.contentChanges[this.contentChanges.length-1];t.cursorStartPosition=p.Position.FromVSCodePosition(n).advancePositionByText(e.textDiff.text).add(e.positionDiff),t.cursorStopPosition=p.Position.FromVSCodePosition(i).advancePositionByText(e.textDiff.text).add(e.positionDiff)}return yield t.setCurrentMode(w.ModeName.Insert),t}))}};class F extends k.BaseAction{constructor(){super(...arguments),this.isCompleteAction=!0,this.isJump=!1,this.multicursorIndex=void 0,this.runsOnceForEachCountPrefix=!1,this.canBeRepeatedWithDot=!1}runsOnceForEveryCursor(){return!0}exec(e,t){return o(this,void 0,void 0,(function*(){throw new Error("Not implemented!")}))}execCount(e,t){return o(this,void 0,void 0,(function*(){let r=this.runsOnceForEachCountPrefix&&t.recordedState.count||1;if(!this.runsOnceForEveryCursor()){for(let n=0;n<r;n++)t=yield this.exec(e,t);for(const e of t.recordedState.transformations)S.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=0);return t}let n=[];const i=t.cursors.map(e=>new g.Range(e.start,e.stop)).sort((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1);let o=0;for(const{start:e,stop:s}of i){this.multicursorIndex=o++,t.cursorStopPosition=s,t.cursorStartPosition=e;for(let e=0;e<r;e++)t=yield this.exec(s,t);n.push(new g.Range(t.cursorStartPosition,t.cursorStopPosition));for(const e of t.recordedState.transformations)S.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}return t.cursors=n,t}))}}t.BaseCommand=F;let $=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Insert,w.ModeName.Visual,w.ModeName.VisualBlock,w.ModeName.VisualLine,w.ModeName.SearchInProgressMode,w.ModeName.CommandlineInProgress,w.ModeName.Replace,w.ModeName.EasyMotionMode,w.ModeName.EasyMotionInputMode,w.ModeName.SurroundInputMode],this.keys=["<ExtensionDisable>"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Disabled),t}))}};$=i([E.RegisterAction],$);let O=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Disabled],this.keys=["<ExtensionEnable>"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Normal),t}))}};O=i([E.RegisterAction],O);let D=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["<number>"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=parseInt(this.keysPressed[0],10);return t.recordedState.count=10*t.recordedState.count+e,t}))}doesActionApply(e,t){const r="0"===t[0];return super.doesActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}couldActionApply(e,t){const r="0"===t[0];return super.couldActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}};D=i([E.RegisterAction],D),t.CommandNumber=D;let j=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=['"',"<character>"],this.isCompleteAction=!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[1];return t.recordedState.registerName=e,t}))}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&b.Register.isValidRegister(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&b.Register.isValidRegister(r)}};j=i([E.RegisterAction],j),t.CommandRegister=j;let I=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.CommandlineInProgress],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}exec(e,t){return o(this,void 0,void 0,(function*(){t.recordedState.registerName=this.keysPressed[1];const e=yield b.Register.get(t);let r;if(e.text instanceof Array)r=e.text.join("\n");else if(e.text instanceof a.RecordedState){let t=[];for(let r of e.text.actionsRun)t=t.concat(r.keysPressed);r=t.join("\n")}else r=e.text;return e.registerMode===b.RegisterMode.LineWise&&(r+="\n"),t.currentCommandlineText+=r,t.statusBarCursorCharacterPos+=r.length,t}))}};I=i([E.RegisterAction],I);let V=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.SearchInProgressMode],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}exec(e,t){return o(this,void 0,void 0,(function*(){t.recordedState.registerName=this.keysPressed[1];const e=yield b.Register.get(t);let r;if(e.text instanceof Array)r=e.text.join("\n");else if(e.text instanceof a.RecordedState){let t=[];for(let r of e.text.actionsRun)t=t.concat(r.keysPressed);r=t.join("\n")}else r=e.text;return e.registerMode===b.RegisterMode.LineWise&&(r+="\n"),B.globalState.searchState.searchString+=r,t}))}};V=i([E.RegisterAction],V);let W=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=[["q","<alpha>"],["q","<number>"],["q",'"']]}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[1];if(t.recordedMacro=new a.RecordedState,t.recordedMacro.registerName=e.toLocaleLowerCase(),!/^[A-Z]+$/.test(e)||!b.Register.has(e)){let t=new a.RecordedState;t.registerName=e,b.Register.putByKey(t,e)}return t.isRecordingMacro=!0,t}))}doesActionApply(e,t){const r=this.keysPressed[1];return super.doesActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}couldActionApply(e,t){const r=this.keysPressed[1];return super.couldActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}};W=i([E.RegisterAction],W);let H=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["q"]}exec(e,t){return o(this,void 0,void 0,(function*(){let e=(yield b.Register.getByKey(t.recordedMacro.registerName)).text;return e.actionsRun=e.actionsRun.concat(t.recordedMacro.actionsRun),t.isRecordingMacro=!1,t}))}doesActionApply(e,t){return super.doesActionApply(e,t)&&e.isRecordingMacro}couldActionApply(e,t){return super.couldActionApply(e,t)&&e.isRecordingMacro}};H=i([E.RegisterAction],H),t.CommandQuitRecordMacro=H;let q=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["@","<character>"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[1];return t.recordedState.transformations.push({type:"macro",register:e,replay:"contentChange"}),t}))}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}};q=i([E.RegisterAction],q);let U=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["@","@"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){let e=t.historyTracker.lastInvokedMacro;return e&&t.recordedState.transformations.push({type:"macro",register:e.registerName,replay:"contentChange"}),t}))}};U=i([E.RegisterAction],U);let z=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock,w.ModeName.Normal,w.ModeName.SurroundInputMode,w.ModeName.EasyMotionMode,w.ModeName.EasyMotionInputMode],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return t.currentMode!==w.ModeName.Normal||t.isMultiCursor?(t.currentMode!==w.ModeName.Visual&&t.currentMode!==w.ModeName.VisualLine&&t.currentMode!==w.ModeName.EasyMotionMode&&(t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getLeft()))),t.currentMode===w.ModeName.SearchInProgressMode&&(t.statusBarCursorCharacterPos=0,B.globalState.searchState&&(t.cursorStopPosition=B.globalState.searchState.searchCursorStartPosition)),t.currentMode===w.ModeName.Normal&&t.isMultiCursor&&(t.isMultiCursor=!1),t.currentMode===w.ModeName.EasyMotionMode&&(t.easyMotion.clearDecorations(),yield t.setCurrentMode(w.ModeName.Normal)),t.currentMode===w.ModeName.SurroundInputMode&&(t.surround=void 0),yield t.setCurrentMode(w.ModeName.Normal),t.isMultiCursor||(t.cursors=[t.cursors[0]]),t):(yield s.commands.executeCommand("closeReferenceSearchEditor"),yield s.commands.executeCommand("closeMarkersNavigation"),t)}))}};z=i([E.RegisterAction],z);let K=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Replace],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}exec(e,t){return o(this,void 0,void 0,(function*(){const r=t.replaceState.timesToRepeat;let n="";for(let e=1;e<r;e++)n+=t.replaceState.newChars.join("");return t.recordedState.transformations.push({type:"insertText",text:n,position:e,diff:new p.PositionDiff(0,-1)}),yield t.setCurrentMode(w.ModeName.Normal),t}))}};K=i([E.RegisterAction],K);let J=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Replace],this.keys=["<Insert>"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Insert),t}))}};J=i([E.RegisterAction],J);class G extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,(function*(){let e=t.recordedState.count||1;return t.postponedCodeViewChanges.push({command:"editorScroll",args:{to:this.to,by:this.by,value:e,revealCursor:!0,select:[w.ModeName.Visual,w.ModeName.VisualBlock,w.ModeName.VisualLine].includes(t.currentMode)}}),t}))}}let Y=class extends G{constructor(){super(...arguments),this.keys=["<C-e>"],this.to="down",this.by="line"}};Y=i([E.RegisterAction],Y);let Q=class extends G{constructor(){super(...arguments),this.keys=["<C-y>"],this.to="up",this.by="line"}};Q=i([E.RegisterAction],Q);let Z=class extends G{constructor(){super(...arguments),this.keys=["<C-b>"],this.to="up",this.by="page"}};Z=i([E.RegisterAction],Z);let X=class extends G{constructor(){super(...arguments),this.keys=["<C-f>"],this.to="down",this.by="page"}};X=i([E.RegisterAction],X);let ee=class extends G{constructor(){super(...arguments),this.keys=["<C-d>"],this.to="down",this.by="halfPage"}exec(e,t){return o(this,void 0,void 0,(function*(){const e=s.workspace.getConfiguration("editor").smoothScrolling;let r=0,n=s.window.activeTextEditor,i=t.cursorStartPosition.character,o=n.visibleRanges[0].start.line;r=t.cursorStopPosition.line-o;let a,c=t.recordedState.count||1;if(yield s.commands.executeCommand("editorScroll",{to:this.to,by:this.by,value:c,revealCursor:e,select:[w.ModeName.Visual,w.ModeName.VisualBlock,w.ModeName.VisualLine].includes(t.currentMode)}),e)a=new p.Position(n.selection.active.line,n.selection.active.character);else{const e=n.visibleRanges[0].start.line+r;if(e>M.TextEditor.getLineCount()-1)a=new p.Position(0,0).getDocumentEnd();else{const t=Math.min(i,M.TextEditor.getLineMaxColumn(e));a=new p.Position(e,t)}}return a.isValid()&&(t.cursorStopPosition=a),t}))}};ee=i([E.RegisterAction],ee);let te=class extends G{constructor(){super(...arguments),this.keys=["<C-u>"],this.to="up",this.by="halfPage"}exec(e,t){return o(this,void 0,void 0,(function*(){const e=s.workspace.getConfiguration("editor").smoothScrolling;let r,n=0,i=s.window.activeTextEditor,o=i.visibleRanges[0].start.line,a=t.cursorStopPosition.line,c=t.recordedState.count||1;if(n=0===o?0:a-o,yield s.commands.executeCommand("editorScroll",{to:this.to,by:this.by,value:c,revealCursor:e,select:[w.ModeName.Visual,w.ModeName.VisualBlock,w.ModeName.VisualLine].includes(t.currentMode)}),e)r=new p.Position(i.selection.active.line,i.selection.active.character);else{let e=i.visibleRanges[0].start.line;r=new p.Position(e+n,0)}return t.cursorStopPosition=r,t}))}};te=i([E.RegisterAction],te);let re=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=[["i"],["<Insert>"]]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Insert),t}))}doesActionApply(e,t){let r=!0;for(const t of e.recordedState.actionsRun)if(!(t instanceof D)){r=!1;break}return!(0!==e.recordedState.actionsRun.length&&!r)&&super.couldActionApply(e,t)}};re=i([E.RegisterAction],re),t.CommandInsertAtCursor=re;let ne=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["R"]}exec(e,t){return o(this,void 0,void 0,(function*(){let r=t.recordedState.count||1;return yield t.setCurrentMode(w.ModeName.Replace),t.replaceState=new c.ReplaceState(e,r),t}))}};ne=i([E.RegisterAction],ne);let ie=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Insert],this.keys=["<Insert>"]}exec(e,t){return o(this,void 0,void 0,(function*(){let r=t.recordedState.count||1;return yield t.setCurrentMode(w.ModeName.Replace),t.replaceState=new c.ReplaceState(e,r),t}))}};ie=i([E.RegisterAction],ie);let oe=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Replace],this.keys=["<character>"],this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,(function*(){const r=this.keysPressed[0],n=t.replaceState;return"<BS>"===r?(e.isBeforeOrEqual(n.replaceCursorStartPosition)?(t.cursorStopPosition=e.getLeft(),t.cursorStartPosition=e.getLeft()):e.line>n.replaceCursorStartPosition.line||e.character>n.originalChars.length?t.recordedState.transformations.push({type:"deleteText",position:e}):t.recordedState.transformations.push({type:"replaceText",text:n.originalChars[e.character-1],start:e.getLeft(),end:e,diff:new p.PositionDiff(0,-1)}),n.newChars.pop()):(e.isLineEnd()||"\n"===r?t.recordedState.transformations.push({type:"insertText",text:r,position:e}):t.recordedState.transformations.push({type:"replaceText",text:r,start:e,end:e.getRight(),diff:new p.PositionDiff(0,1)}),n.newChars.push(r)),t}))}};oe=i([E.RegisterAction],oe);let se=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.SearchInProgressMode],this.keys=[["<character>"],["<up>"],["<down>"],["<C-b>"],["<C-e>"],["<C-h>"],["<C-p>"],["<C-n>"],["<C-f>"],["<C-u>"],["<Home>"],["<End>"],["<Del>"]],this.isJump=!0}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,(function*(){const r=this.keysPressed[0],n=B.globalState.searchState,i=B.globalState.searchStatePrevious;if("<BS>"===r||"<shift+BS>"===r||"<C-h>"===r){if(0===n.searchString.length)return(new ae).exec(e,t);if(0===t.statusBarCursorCharacterPos)return t;n.searchString=n.searchString.slice(0,t.statusBarCursorCharacterPos-1)+n.searchString.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)}else{if("<C-f>"===r)return new je(B.globalState.searchState.searchDirection).exec(e,t);if("<C-u>"===r)n.searchString=n.searchString.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=0;else if("<Del>"===r)n.searchString=n.searchString.slice(0,t.statusBarCursorCharacterPos)+n.searchString.slice(t.statusBarCursorCharacterPos+1);else if("<Home>"===r||"<C-b>"===r)t.statusBarCursorCharacterPos=0;else if("<End>"===r||"<C-e>"===r)t.statusBarCursorCharacterPos=B.globalState.searchState.searchString.length;else{if("\n"===r){yield t.setCurrentMode(B.globalState.searchState.previousMode),""===n.searchString&&i.length>0&&(n.searchString=i[i.length-1].searchString),B.globalState.addSearchStateToHistory(n);const e=n.getNextSearchMatchPosition(t.cursorStopPosition);return t.cursorStopPosition=e.pos,B.globalState.hl=!0,t.statusBarCursorCharacterPos=0,b.Register.putByKey(n.searchString,"/",void 0,!0),L.ReportSearch(e.index,n.matchRanges.length,t),t}if("<up>"===r||"<C-p>"===r)B.globalState.searchStateIndex-=1,B.globalState.searchStateIndex=Math.max(B.globalState.searchStateIndex,0),void 0!==i[B.globalState.searchStateIndex]&&(n.searchString=i[B.globalState.searchStateIndex].searchString,t.statusBarCursorCharacterPos=n.searchString.length);else if("<down>"===r||"<C-n>"===r){if(B.globalState.searchStateIndex+=1,B.globalState.searchStateIndex>B.globalState.searchStatePrevious.length-1)return n.searchString="",B.globalState.searchStateIndex=B.globalState.searchStatePrevious.length,t;void 0!==i[B.globalState.searchStateIndex]&&(n.searchString=i[B.globalState.searchStateIndex].searchString),t.statusBarCursorCharacterPos=n.searchString.length}else{let e=n.searchString.split("");e.splice(t.statusBarCursorCharacterPos,0,r),n.searchString=e.join(""),t.statusBarCursorCharacterPos+=r.length}}}return t}))}};se=i([E.RegisterAction],se);let ae=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.SearchInProgressMode],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,(function*(){const e=B.globalState.searchState;t.cursorStopPosition=e.searchCursorStartPosition;const r=B.globalState.searchStatePrevious;return B.globalState.searchState=r?r[r.length-1]:void 0,yield t.setCurrentMode(e.previousMode),t.statusBarCursorCharacterPos=0,t}))}};ae=i([E.RegisterAction],ae);let ce=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.SearchInProgressMode],this.keys=["<C-w>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=B.globalState.searchState,r=t.statusBarCursorCharacterPos,n=e.searchString,i=p.Position.getWordLeft(n,r);return void 0!==i&&(e.searchString=n.substring(0,i).concat(n.slice(r)),t.statusBarCursorCharacterPos=r-(r-i)),t}))}};ce=i([E.RegisterAction],ce);let ue=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.SearchInProgressMode],this.keys=[["<C-v>"],["<D-v"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=B.globalState.searchState,r=e.searchString,n=t.statusBarCursorCharacterPos,i=yield l.Clipboard.Paste();return e.searchString=r.substring(0,n).concat(i).concat(r.slice(n)),t.statusBarCursorCharacterPos+=i.length,t}))}};ue=i([E.RegisterAction],ue);let le=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock,w.ModeName.Insert,w.ModeName.Normal],this.keys=["<copy>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){let e="";if(t.currentMode===w.ModeName.Visual)e=t.cursors.map(e=>{const r=p.Position.EarlierOf(e.start,e.stop),n=p.Position.LaterOf(e.start,e.stop);return t.editor.document.getText(new s.Range(r,n.getRight()))}).join("\n");else if(t.currentMode===w.ModeName.VisualLine)e=t.cursors.map(e=>t.editor.document.getText(new s.Range(p.Position.EarlierOf(e.start.getLineBegin(),e.stop.getLineBegin()),p.Position.LaterOf(e.start.getLineEnd(),e.stop.getLineEnd())))).join("\n");else if(t.currentMode===w.ModeName.VisualBlock)for(const{line:r}of p.Position.IterateLine(t))e+=r+"\n";else t.currentMode!==w.ModeName.Insert&&t.currentMode!==w.ModeName.Normal||(e=t.editor.selections.map(e=>t.editor.document.getText(new s.Range(e.start,e.end))).join("\n"));return yield l.Clipboard.Copy(e),yield t.setCurrentMode(w.ModeName.Normal),t}))}};le=i([E.RegisterAction],le);let de=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["<D-a>"]}exec(e,t){return o(this,void 0,void 0,(function*(){return t.cursorStartPosition=new p.Position(0,t.desiredColumn),t.cursorStopPosition=new p.Position(M.TextEditor.getLineCount()-1,t.desiredColumn),yield t.setCurrentMode(w.ModeName.VisualLine),t}))}};function he(e,t,r,n){const i=M.TextEditor.getWord(e),o=r===C.SearchDirection.Backward?t.cursorStopPosition.getWordLeft(!0):t.cursorStopPosition;return me({needle:i,vimState:t,direction:r,isExact:n,searchStartCursorPosition:o})}function fe(e,t){return o(this,void 0,void 0,(function*(){const r=M.TextEditor.getSelection(),n=new p.Position(r.end.line,r.end.character),i=M.TextEditor.getText(r.with(r.start,n));yield e.setCurrentMode(w.ModeName.Normal);const o=t===C.SearchDirection.Backward?e.lastVisualSelectionStart.getLeft():e.lastVisualSelectionEnd.getRight();return me({needle:i,vimState:e,direction:t,isExact:!1,searchStartCursorPosition:o})}))}function me(e){return o(this,void 0,void 0,(function*(){const{needle:t,vimState:r,isExact:n}=e;if(void 0===t||0===t.length)return r;const i=n?`\\b${t}\\b`:t;B.globalState.searchState=new C.SearchState(e.direction,r.cursorStopPosition,i,{isRegex:n},r.currentMode);const o=B.globalState.searchState.getNextSearchMatchPosition(e.searchStartCursorPosition);return r.cursorStopPosition=o.pos,B.globalState.hl=!0,B.globalState.addSearchStateToHistory(B.globalState.searchState),b.Register.putByKey(B.globalState.searchState.searchString,"/",void 0,!0),L.ReportSearch(o.index,B.globalState.searchState.matchRanges.length,r),r}))}de=i([E.RegisterAction],de);let pe=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return he(e,t,C.SearchDirection.Forward,!0)}))}};pe=i([E.RegisterAction],pe);let ge=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["g","*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return he(e,t,C.SearchDirection.Forward,!1)}))}};ge=i([E.RegisterAction],ge);let ve=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return y.configuration.visualstar?fe(t,C.SearchDirection.Forward):he(e,t,C.SearchDirection.Forward,!0)}))}};ve=i([E.RegisterAction],ve);let ye=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return he(e,t,C.SearchDirection.Backward,!0)}))}};ye=i([E.RegisterAction],ye);let we=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["g","#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return he(e,t,C.SearchDirection.Backward,!1)}))}};we=i([E.RegisterAction],we);let xe=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return y.configuration.visualstar?fe(t,C.SearchDirection.Backward):he(e,t,C.SearchDirection.Backward,!0)}))}};xe=i([E.RegisterAction],xe);let be=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["/"],this.isMotion=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return B.globalState.searchState=new C.SearchState(C.SearchDirection.Forward,t.cursorStopPosition,"",{isRegex:!0},t.currentMode),yield t.setCurrentMode(w.ModeName.SearchInProgressMode),B.globalState.searchStateIndex=B.globalState.searchStatePrevious.length,t}))}};be=i([E.RegisterAction],be),t.CommandSearchForwards=be;let Ce=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["?"],this.isMotion=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return B.globalState.searchState=new C.SearchState(C.SearchDirection.Backward,t.cursorStopPosition,"",{isRegex:!0},t.currentMode),yield t.setCurrentMode(w.ModeName.SearchInProgressMode),B.globalState.searchStateIndex=B.globalState.searchStatePrevious.length,t}))}};Ce=i([E.RegisterAction],Ce),t.CommandSearchBackwards=Ce;let Me=class extends F{constructor(){super(...arguments),this.keys=["m","<character>"],this.modes=[w.ModeName.Normal]}exec(e,t){return o(this,void 0,void 0,(function*(){const r=this.keysPressed[1];return t.historyTracker.addMark(e,r),t}))}};Me=i([E.RegisterAction],Me),t.MarkCommand=Me;let Se=n=class extends F{constructor(e){super(),this.keys=["p"],this.modes=[w.ModeName.Normal],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0,this.multicursorIndex=e}static GetText(e,t){return o(this,void 0,void 0,(function*(){const r=yield b.Register.get(e);if(e.isMultiCursor){if(void 0===t)throw new Error("No multi-cursor index when calling PutCommand#getText");if(e.isMultiCursor&&"object"==typeof r.text)return r.text[t]}return r.text}))}exec(e,t,r=!1,i=!1){return o(this,void 0,void 0,(function*(){const o=yield b.Register.get(t),s=r?e:e.getRight();if(o.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;if("object"==typeof o.text&&t.currentMode===w.ModeName.VisualBlock)return this.execVisualBlockPaste(o.text,e,t,r);let c,u,l=yield n.GetText(t,this.multicursorIndex),d=new p.PositionDiff(0,0);const h=t.cursorStartPosition.isAtDocumentBegin(),f=t.cursorStopPosition.isAtDocumentEnd();if(o.registerMode===b.RegisterMode.CharacterWise)c=l,u=s;else if(t.currentMode===w.ModeName.Visual&&o.registerMode===b.RegisterMode.LineWise)c="\n"+l+"\n",u=s;else if(t.currentMode===w.ModeName.VisualLine&&o.registerMode===b.RegisterMode.LineWise){c=(!h&&f?"\n":"")+l+(f?"":"\n"),u=s}else{if(i){let t=M.TextEditor.getIndentationLevel(M.TextEditor.getLineAt(e).text),r=M.TextEditor.getIndentationLevel(l.split("\n")[0]);l=l.split("\n").map(e=>{let n=M.TextEditor.getIndentationLevel(e)-r+t;return M.TextEditor.setIndentationLevel(e,n)}).join("\n")}o.registerMode===b.RegisterMode.LineWise?r?(c=l+"\n",u=s.getLineBegin()):(c="\n"+l,u=s.getLineEnd()):(c=l,u=r?e:e.getRight())}if(t.currentMode===w.ModeName.Visual||t.currentMode===w.ModeName.VisualLine||t.currentMode===w.ModeName.VisualBlock){t.lastVisualMode=t.currentMode,t.lastVisualSelectionStart=u;let e=c;t.currentMode===w.ModeName.VisualLine&&"\n"===c[c.length-1]&&(e=c.substring(0,c.length-1)),t.lastVisualSelectionEnd=u.advancePositionByText(e)}const m=l.split("\n").length-1,g=M.TextEditor.getLineAt(e).text.length;if(t.currentMode===w.ModeName.VisualLine&&o.registerMode===b.RegisterMode.LineWise){const e=[...l].filter(e=>"\n"===e).length;d=p.PositionDiff.NewBOLDiff(-e-(f?0:1))}else if(o.registerMode===b.RegisterMode.LineWise){const e=l.match(/^\s*/);let t=0;e&&(t=e[0].length),d=r?p.PositionDiff.NewBOLDiff(-m-1,t):p.PositionDiff.NewBOLDiff(g>0?1:-m,t)}else l.includes("\n")?d=e.isLineEnd()?p.PositionDiff.NewBOLDiff(-m,e.character):r?p.PositionDiff.NewBOLDiff(-m,e.character):new p.PositionDiff(0,1):e.isLineEnd()||(d=o.registerMode===b.RegisterMode.BlockWise?r?new p.PositionDiff(0,-1*l.length):new p.PositionDiff(0,1):r?new p.PositionDiff(0,-1):new p.PositionDiff(0,c.length));t.recordedState.transformations.push({type:"insertText",text:c,position:u,diff:d});const v=c.split("\n").length;return L.ReportLinesChanged(v,t),t.currentRegisterMode=o.registerMode,t}))}execVisualBlockPaste(e,t,r,n){return o(this,void 0,void 0,(function*(){n&&(t=t.getRight());let i=Math.max(0,e.length-(M.TextEditor.getLineCount()-t.line)+1);i>0&&(yield M.TextEditor.insertAt(Array(i).join("\n"),new p.Position(M.TextEditor.getLineCount()-1,M.TextEditor.getLineAt(new p.Position(M.TextEditor.getLineCount()-1,0)).text.length)));for(let r=t.line;r<t.line+e.length;r++){const n=e[r-t.line],i=new p.Position(r,Math.min(t.character,M.TextEditor.getLineAt(new p.Position(r,0)).text.length));yield M.TextEditor.insertAt(n,i)}return r.currentRegisterMode=b.RegisterMode.AscertainFromCurrentMode,r}))}execCount(e,t){const r=Object.create(null,{execCount:{get:()=>super.execCount}});return o(this,void 0,void 0,(function*(){const i=yield r.execCount.call(this,e,t);if(t.effectiveRegisterMode===b.RegisterMode.LineWise&&t.recordedState.count>0){const e=(yield n.GetText(t,this.multicursorIndex)).split("\n").length*t.recordedState.count;i.recordedState.transformations.push({type:"moveCursor",diff:new p.PositionDiff(1-e,0),cursorIndex:this.multicursorIndex}),L.ReportLinesChanged(e,t)}return i}))}};Se=n=i([E.RegisterAction],Se),t.PutCommand=Se;let Ee=class extends F{constructor(){super(...arguments),this.keys=["g","p"],this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return yield(new Se).exec(e,t)}))}execCount(e,t){const r=Object.create(null,{execCount:{get:()=>super.execCount}});return o(this,void 0,void 0,(function*(){const n=yield b.Register.get(t);let i;if(n.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;i="object"==typeof n.text?n.text.length*t.recordedState.count:n.text.split("\n").length;const o=yield r.execCount.call(this,e,t);if(t.effectiveRegisterMode===b.RegisterMode.LineWise){const t=M.TextEditor.getLineAt(e).text.length>0&&i>1;o.recordedState.transformations.push({type:"moveCursor",diff:p.PositionDiff.NewBOLDiff(1+(t?1:0),0),cursorIndex:this.multicursorIndex})}return o}))}};Ee=i([E.RegisterAction],Ee),t.GPutCommand=Ee;let ke=class extends F{constructor(){super(...arguments),this.keys=["]","p"],this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return yield(new Se).exec(e,t,!1,!0)}))}execCount(e,t){const r=Object.create(null,{execCount:{get:()=>super.execCount}});return o(this,void 0,void 0,(function*(){return r.execCount.call(this,e,t)}))}};ke=i([E.RegisterAction],ke),t.PutWithIndentCommand=ke;let _e=class extends F{constructor(){super(...arguments),this.keys=[["p"],["P"]],this.modes=[w.ModeName.Visual,w.ModeName.VisualLine],this.runsOnceForEachCountPrefix=!0}exec(e,t,r=!1){return o(this,void 0,void 0,(function*(){let e=t.cursorStartPosition,r=t.cursorStopPosition;const n=t.currentMode===w.ModeName.VisualLine;e.isAfter(r)&&([e,r]=[r,e]);let i=t.currentMode;if((yield b.Register.get(t)).registerMode===b.RegisterMode.LineWise){const n=yield b.Register.getByKey(t.recordedState.registerName);let o=yield new P.DeleteOperator(this.multicursorIndex).run(t,e,r,!0);const s=yield b.Register.getByKey(t.recordedState.registerName);b.Register.putByKey(n.text,t.recordedState.registerName,n.registerMode);let a=o.currentMode;return yield o.setCurrentMode(i),o=yield(new Se).exec(e,o,!0),yield o.setCurrentMode(a),b.Register.putByKey(s.text,t.recordedState.registerName,s.registerMode),o}let o=yield new Se(this.multicursorIndex).exec(e,t,!0);return o.currentRegisterMode=n?b.RegisterMode.LineWise:b.RegisterMode.CharacterWise,o.recordedState.registerName=y.configuration.useSystemClipboard?"*":'"',(o=yield new P.YankOperator(this.multicursorIndex).run(o,e,r)).currentRegisterMode=b.RegisterMode.CharacterWise,(o=yield new P.DeleteOperator(this.multicursorIndex).run(o,e,r.getLeftIfEOL(),!1)).currentRegisterMode=b.RegisterMode.AscertainFromCurrentMode,o}))}};_e=i([E.RegisterAction],_e),t.PutCommandVisual=_e;let Pe=class extends F{constructor(){super(...arguments),this.keys=["P"],this.modes=[w.ModeName.Normal],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,(function*(){const r=new Se;return r.multicursorIndex=this.multicursorIndex,yield r.exec(e,t,!0)}))}};Pe=i([E.RegisterAction],Pe),t.PutBeforeCommand=Pe;let Ae=class extends F{constructor(){super(...arguments),this.keys=["g","P"],this.modes=[w.ModeName.Normal]}exec(e,t){return o(this,void 0,void 0,(function*(){const r=yield(new Se).exec(e,t,!0),n=yield b.Register.get(t);let i;if(n.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;if(i="object"==typeof n.text?n.text.length*t.recordedState.count:n.text.split("\n").length,t.effectiveRegisterMode===b.RegisterMode.LineWise){const t=M.TextEditor.getLineAt(e).text.length>0&&i>1;r.recordedState.transformations.push({type:"moveCursor",diff:p.PositionDiff.NewBOLDiff(1+(t?1:0),0),cursorIndex:this.multicursorIndex})}return r}))}};Ae=i([E.RegisterAction],Ae),t.GPutBeforeCommand=Ae;let Re=class extends F{constructor(){super(...arguments),this.keys=["[","p"],this.modes=[w.ModeName.Normal]}exec(e,t){return o(this,void 0,void 0,(function*(){const r=yield(new Se).exec(e,t,!0,!0);return t.effectiveRegisterMode===b.RegisterMode.LineWise&&(r.cursorStopPosition=r.cursorStopPosition.getPreviousLineBegin().getFirstLineNonBlankChar()),r}))}};Re=i([E.RegisterAction],Re),t.PutBeforeWithIndentCommand=Re;let Ne=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=[":"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return t.currentMode===w.ModeName.Normal?t.recordedState.count?t.currentCommandlineText=`.,.+${t.recordedState.count-1}`:t.currentCommandlineText="":t.currentCommandlineText="'<,'>",t.statusBarCursorCharacterPos=t.currentCommandlineText.length,_.commandLine.previousMode=t.currentMode,yield t.setCurrentMode(w.ModeName.CommandlineInProgress),_.commandLine.commandlineHistoryIndex=_.commandLine.historyEntries.length,t}))}};Ne=i([E.RegisterAction],Ne);let Te=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.CommandlineInProgress,w.ModeName.SearchInProgressMode],this.keys=[["<left>"],["<right>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}getTrimmedStatusBarText(){return N.StatusBar.Get().replace(/^(?:\/|\:)(.*)(?:\|)(.*)/,"$1$2").replace(/(.*) $/,"$1")}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[0];B.globalState.searchState;let r=this.getTrimmedStatusBarText();return"<right>"===e?t.statusBarCursorCharacterPos=Math.min(t.statusBarCursorCharacterPos+1,r.length):"<left>"===e&&(t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)),_.commandLine.lastKeyPressed=e,t}))}};Te=i([E.RegisterAction],Te);let Le=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.CommandlineInProgress],this.keys=[["<tab>"],["<shift+tab>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}cycleCompletion(e,t){const r=_.commandLine.autoCompleteItems;if(0===r.length)return;_.commandLine.autoCompleteIndex=t?(_.commandLine.autoCompleteIndex+1)%r.length:(_.commandLine.autoCompleteIndex-1+r.length)%r.length;const n=_.commandLine.preCompleteCharacterPos,i=_.commandLine.preCompleteCommand,o=i.slice(0,n),s=i.slice(n);e.currentCommandlineText=o+r[_.commandLine.autoCompleteIndex]+s,e.statusBarCursorCharacterPos=e.currentCommandlineText.length-s.length}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[0],r="<tab>"===e;if(0!==_.commandLine.autoCompleteItems.length&&this.keys.some(e=>_.commandLine.lastKeyPressed===e[0]))return this.cycleCompletion(t,r),_.commandLine.lastKeyPressed=e,t;let n=[];const i=t.currentCommandlineText,o=t.statusBarCursorCharacterPos;let a=i.slice(0,o),c=i.slice(o);const u=/^\s*\w+\s+/g;if(/^\s*\w+$/.test(a))n=Object.keys(R.commandParsers).filter(e=>e.startsWith(a)).map(e=>e.slice(e.search(a)+a.length)).sort();else if(u.exec(a)){let e=a.substring(u.lastIndex);const t=s.window.activeTextEditor.document.uri,r=!!s.env.remoteName,{fullDirPath:i,baseName:o,partialPath:c,path:l}=T.getPathDetails(e,t,r);a=a.slice(0,u.lastIndex)+c;const d=/^\.\.?$/g.test(o);n=(yield T.readDirectory(i,l.sep,t,r,d)).filter(e=>e.startsWith(o)).map(e=>e.slice(e.search(o)+o.length)).sort()}const l=r?0:n.length-1;_.commandLine.autoCompleteIndex=l,_.commandLine.autoCompleteItems=n.length<=1?[]:n,_.commandLine.preCompleteCharacterPos=o,_.commandLine.preCompleteCommand=a+c;const d=0===n.length?"":n[l];return t.currentCommandlineText=a+d+c,t.statusBarCursorCharacterPos=t.currentCommandlineText.length-c.length,_.commandLine.lastKeyPressed=e,t}))}};Le=i([E.RegisterAction],Le);let Be=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.CommandlineInProgress],this.keys=[["<character>"],["<up>"],["<down>"],["<C-b>"],["<C-e>"],["<C-h>"],["<C-p>"],["<C-n>"],["<C-f>"],["<C-u>"],["<Home>"],["<End>"],["<Del>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,(function*(){const r=this.keysPressed[0];if("<BS>"===r||"<shift+BS>"===r||"<C-h>"===r){if(0===t.statusBarCursorCharacterPos)return yield t.setCurrentMode(w.ModeName.Normal),t;t.currentCommandlineText=t.currentCommandlineText.slice(0,t.statusBarCursorCharacterPos-1)+t.currentCommandlineText.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)}else if("<C-f>"===r)(new De).exec(e,t);else if("<C-u>"===r)t.currentCommandlineText=t.currentCommandlineText.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=0;else if("<Del>"===r)t.currentCommandlineText=t.currentCommandlineText.slice(0,t.statusBarCursorCharacterPos)+t.currentCommandlineText.slice(t.statusBarCursorCharacterPos+1);else if("<Home>"===r||"<C-b>"===r)t.statusBarCursorCharacterPos=0;else if("<End>"===r||"<C-e>"===r)t.statusBarCursorCharacterPos=t.currentCommandlineText.length;else{if("\n"===r)return yield _.commandLine.Run(t.currentCommandlineText.trim(),t),yield t.setCurrentMode(w.ModeName.Normal),t;if("<up>"===r||"<C-p>"===r)_.commandLine.commandlineHistoryIndex-=1,_.commandLine.commandlineHistoryIndex=Math.max(_.commandLine.commandlineHistoryIndex,0),void 0!==_.commandLine.historyEntries[_.commandLine.commandlineHistoryIndex]&&(t.currentCommandlineText=_.commandLine.historyEntries[_.commandLine.commandlineHistoryIndex]),t.statusBarCursorCharacterPos=t.currentCommandlineText.length;else if("<down>"===r||"<C-n>"===r){if(_.commandLine.commandlineHistoryIndex+=1,_.commandLine.commandlineHistoryIndex>_.commandLine.historyEntries.length-1)return _.commandLine.previousMode===w.ModeName.Normal?t.currentCommandlineText="":t.currentCommandlineText="'<,'>",_.commandLine.commandlineHistoryIndex=_.commandLine.historyEntries.length,t.statusBarCursorCharacterPos=t.currentCommandlineText.length,t;void 0!==_.commandLine.historyEntries[_.commandLine.commandlineHistoryIndex]&&(t.currentCommandlineText=_.commandLine.historyEntries[_.commandLine.commandlineHistoryIndex]),t.statusBarCursorCharacterPos=t.currentCommandlineText.length}else if("<tab>"!==r){let e=t.currentCommandlineText.split("");e.splice(t.statusBarCursorCharacterPos,0,r),t.currentCommandlineText=e.join(""),t.statusBarCursorCharacterPos+=r.length}}return _.commandLine.lastKeyPressed=r,t}))}};Be=i([E.RegisterAction],Be);let Fe=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.CommandlineInProgress],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[0];return yield t.setCurrentMode(w.ModeName.Normal),_.commandLine.lastKeyPressed=e,t}))}};Fe=i([E.RegisterAction],Fe);let $e=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.CommandlineInProgress],this.keys=["<C-w>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[0],r=t.statusBarCursorCharacterPos,n=t.currentCommandlineText,i=p.Position.getWordLeft(n,r);return void 0!==i&&(t.currentCommandlineText=n.substring(0,i).concat(n.slice(r)),t.statusBarCursorCharacterPos=r-(r-i)),_.commandLine.lastKeyPressed=e,t}))}};$e=i([E.RegisterAction],$e);let Oe=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.CommandlineInProgress],this.keys=[["<C-v>"],["<D-v"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[0],r=t.statusBarCursorCharacterPos,n=t.currentCommandlineText,i=yield l.Clipboard.Paste();return t.currentCommandlineText=n.substring(0,r).concat(i).concat(n.slice(r)),t.statusBarCursorCharacterPos+=i.length,_.commandLine.lastKeyPressed=e,t}))}};Oe=i([E.RegisterAction],Oe);let De=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["q",":"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return t.recordedState.transformations.push({type:"showCommandHistory"}),t.currentMode===w.ModeName.Normal?t.currentCommandlineText="":t.currentCommandlineText="'<,'>",yield t.setCurrentMode(w.ModeName.Normal),t}))}};De=i([E.RegisterAction],De);let je=class extends F{constructor(e=C.SearchDirection.Forward){super(),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=[["q","/"],["q","?"]],this.direction=C.SearchDirection.Forward,this.direction=e}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return t.recordedState.commandList.includes("?")&&(this.direction=C.SearchDirection.Backward),t.recordedState.transformations.push({type:"showSearchHistory",direction:this.direction}),yield t.setCurrentMode(w.ModeName.Normal),t}))}};je=i([E.RegisterAction],je);let Ie=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["."]}exec(e,t){return o(this,void 0,void 0,(function*(){return t.recordedState.transformations.push({type:"dot"}),t}))}};Ie=i([E.RegisterAction],Ie);let Ve=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["&"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield _.commandLine.Run("s",t),t}))}};Ve=i([E.RegisterAction],Ve);class We extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,(function*(){return yield s.commands.executeCommand(this.commandName),yield t.setCurrentMode(w.ModeName.Normal),t}))}}let He=class extends We{constructor(){super(...arguments),this.keys=["z","c"],this.commandName="editor.fold",this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,(function*(){let e=t.recordedState.count||1;return yield s.commands.executeCommand("editor.fold",{levels:e,direction:"up"}),t.cursors=yield u.getCursorsAfterSync(),t}))}};He=i([E.RegisterAction],He);let qe=class extends We{constructor(){super(...arguments),this.keys=["z","M"],this.commandName="editor.foldAll"}};qe=i([E.RegisterAction],qe);let Ue=class extends We{constructor(){super(...arguments),this.keys=["z","o"],this.commandName="editor.unfold",this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,(function*(){let e=t.recordedState.count||1;return yield s.commands.executeCommand("editor.unfold",{levels:e,direction:"down"}),t}))}};Ue=i([E.RegisterAction],Ue);let ze=class extends We{constructor(){super(...arguments),this.keys=["z","R"],this.commandName="editor.unfoldAll"}};ze=i([E.RegisterAction],ze);let Ke=class extends We{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["z","C"],this.commandName="editor.foldRecursively"}};Ke=i([E.RegisterAction],Ke);let Je=class extends We{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["z","O"],this.commandName="editor.unfoldRecursively"}};Je=i([E.RegisterAction],Je);let Ge=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["z","z"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,(function*(){return t.editor.revealRange(new s.Range(t.cursorStopPosition,t.cursorStopPosition),s.TextEditorRevealType.InCenter),t}))}};Ge=i([E.RegisterAction],Ge);let Ye=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["z","."]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,(function*(){return t.editor.revealRange(new s.Range(t.cursorStopPosition,t.cursorStopPosition),s.TextEditorRevealType.InCenter),t.cursorStopPosition=t.cursorStopPosition.getFirstLineNonBlankChar(),t}))}};Ye=i([E.RegisterAction],Ye);let Qe=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["z","t"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}}),t}))}};Qe=i([E.RegisterAction],Qe);let Ze=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["z","\n"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}}),t.cursorStopPosition=t.cursorStopPosition.getFirstLineNonBlankChar(),t}))}};Ze=i([E.RegisterAction],Ze);let Xe=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["z","b"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}}),t}))}};Xe=i([E.RegisterAction],Xe);let et=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["z","-"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}}),t.cursorStopPosition=t.cursorStopPosition.getFirstLineNonBlankChar(),t}))}};et=i([E.RegisterAction],et);let tt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["o"],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return[t.cursorStartPosition,t.cursorStopPosition]=[t.cursorStopPosition,t.cursorStartPosition],t}))}};tt=i([E.RegisterAction],tt);let rt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["u"],this.mustBeFirstKey=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=yield t.historyTracker.goBackHistoryStep();return void 0!==e&&(t.cursors=e.map(e=>new g.Range(e,e))),t.alteredHistory=!0,L.ReportClear(t),t}))}};rt=i([E.RegisterAction],rt);let nt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["U"],this.mustBeFirstKey=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=yield t.historyTracker.goBackHistoryStepsOnLine();return void 0!==e&&(t.cursors=e.map(e=>new g.Range(e,e))),t.alteredHistory=!0,t}))}};nt=i([E.RegisterAction],nt);let it=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["<C-r>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=yield t.historyTracker.goForwardHistoryStep();return void 0!==e&&(t.cursors=e.map(e=>new g.Range(e,e))),t.alteredHistory=!0,t}))}};it=i([E.RegisterAction],it);let ot=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["D"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!0}exec(e,t){return o(this,void 0,void 0,(function*(){return e.isLineEnd()?t:new P.DeleteOperator(this.multicursorIndex).run(t,e,e.getLineEnd().getLeft())}))}};ot=i([E.RegisterAction],ot);let st=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["Y"]}exec(e,t){return o(this,void 0,void 0,(function*(){const r=(t.recordedState.count||1)-1,n=e.getLineBegin(),i=new p.Position(e.line+r,0).getLineEnd().getLeft();return t.currentRegisterMode=b.RegisterMode.LineWise,(new P.YankOperator).run(t,n,i)}))}};st=i([E.RegisterAction],st),t.CommandYankFullLine=st;let at=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["C"],this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,(function*(){const r=t.recordedState.count||1;return(new P.ChangeOperator).run(t,e,e.getDownByCount(Math.max(0,r-1)).getLineEnd().getLeft())}))}};at=i([E.RegisterAction],at);let ct=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["S"],this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,(function*(){return new P.ChangeOperator(this.multicursorIndex).runRepeat(t,e,t.recordedState.count||1)}))}doesActionApply(e,t){return super.doesActionApply(e,t)&&!y.configuration.sneak}couldActionApply(e,t){return super.couldActionApply(e,t)&&!y.configuration.sneak}};ct=i([E.RegisterAction],ct);let ut=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual],this.keys=["v"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Normal),t}))}};ut=i([E.RegisterAction],ut);let lt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.VisualLine,w.ModeName.VisualBlock],this.keys=["v"],this.isCompleteAction=!1}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Visual),t}))}};lt=i([E.RegisterAction],lt);let dt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["g","v"]}exec(e,t){return o(this,void 0,void 0,(function*(){return void 0!==t.lastVisualSelectionEnd&&void 0!==t.lastVisualSelectionStart&&void 0!==t.lastVisualMode&&t.lastVisualSelectionEnd.line<=M.TextEditor.getLineCount()-1&&(yield t.setCurrentMode(t.lastVisualMode),t.cursorStartPosition=t.lastVisualSelectionStart,t.cursorStopPosition=t.lastVisualSelectionEnd.getLeft()),t}))}};function ht(e,t){return o(this,void 0,void 0,(function*(){const r=B.globalState.searchState;if(!r||""===r.searchString)return e;const n=new C.SearchState(t,e.cursorStopPosition,r.searchString,{isRegex:!0},e.currentMode);let i={start:e.cursorStopPosition,end:e.cursorStopPosition,match:!1,index:-1};return i=n.getSearchMatchRangeOf(e.cursorStopPosition),e.currentMode===w.ModeName.Visual&&e.cursorStopPosition.isEqual(i.end.getLeftThroughLineBreaks())&&(i.match=!1),i.match||(i=n.getNextSearchMatchRange(e.cursorStopPosition,1)).match?(e.cursorStartPosition=e.currentMode===w.ModeName.Normal?i.start:e.cursorStopPosition,e.cursorStopPosition=i.end.getLeftThroughLineBreaks(),s.window.activeTextEditor.selection=new s.Selection(e.cursorStartPosition,e.cursorStopPosition),L.ReportSearch(i.index,r.matchRanges.length,e),yield e.setCurrentMode(w.ModeName.Visual),e):e}))}dt=i([E.RegisterAction],dt);let ft=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualBlock],this.keys=["g","n"]}exec(e,t){return o(this,void 0,void 0,(function*(){return ht(t,C.SearchDirection.Forward)}))}};ft=i([E.RegisterAction],ft);let mt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualBlock],this.keys=["g","N"]}exec(e,t){return o(this,void 0,void 0,(function*(){return ht(t,C.SearchDirection.Backward)}))}};mt=i([E.RegisterAction],mt);let pt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["<C-v>"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.VisualBlock),t}))}};pt=i([E.RegisterAction],pt);let gt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=["<C-v>"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Normal),t}))}};gt=i([E.RegisterAction],gt);let vt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualBlock],this.keys=["V"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.VisualLine),t}))}};vt=i([E.RegisterAction],vt);let yt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualLine],this.keys=["V"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Normal),t}))}};yt=i([E.RegisterAction],yt);let wt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual],this.keys=["g","f"],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){let r="";if(t.currentMode===w.ModeName.Visual){const e=M.TextEditor.getSelection(),t=new p.Position(e.end.line,e.end.character+1);r=M.TextEditor.getText(e.with(e.start,t))}else{const t=e.getFilePathLeft(!0),n=e.getFilePathRight(),i=new s.Range(t,n);r=M.TextEditor.getText(i).trim()}const n=r.match(/(.*?(?=:[0-9]+)|.*):?([0-9]*)$/);if(n){const e=n[1],t=parseInt(n[2],10);new d.FileCommand({name:e,lineNumber:t,createFileIfNotExists:!1}).execute()}return t}))}};wt=i([E.RegisterAction],wt);let xt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=[["g","d"],["<C-]>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return yield s.commands.executeCommand("editor.action.goToDeclaration"),t.editor===s.window.activeTextEditor&&(t.cursorStopPosition=p.Position.FromVSCodePosition(t.editor.selection.start)),t}))}};xt=i([E.RegisterAction],xt);let bt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["g",";"],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){const e=t.historyTracker.changelistIndex,r=t.historyTracker.getChangePositionAtindex(e-1),n=t.historyTracker.getChangePositionAtindex(e);return void 0!==r?(t.cursorStopPosition=r[0],t.historyTracker.changelistIndex=e-1):void 0!==n&&(t.cursorStopPosition=n[0]),t}))}};bt=i([E.RegisterAction],bt);let Ct=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["g",","],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){const e=t.historyTracker.changelistIndex,r=t.historyTracker.getChangePositionAtindex(e+1),n=t.historyTracker.getChangePositionAtindex(e);return void 0!==r?(t.cursorStopPosition=r[0],t.historyTracker.changelistIndex=e+1):void 0!==n&&(t.cursorStopPosition=n[0]),t}))}};Ct=i([E.RegisterAction],Ct);let Mt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=[["`","."],["'","."]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){const e=t.historyTracker.getLastHistoryStartPosition();return void 0!==e&&(t.cursorStopPosition=e[0]),t}))}};Mt=i([E.RegisterAction],Mt);let St=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["g","i"]}exec(e,t){return o(this,void 0,void 0,(function*(){const e=t.historyTracker.getLastChangeEndPosition();return void 0!==e&&(t.cursorStopPosition=e,yield t.setCurrentMode(w.ModeName.Insert)),t}))}};St=i([E.RegisterAction],St);let Et=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["I"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Insert),t.cursorStopPosition=e.getFirstLineNonBlankChar(),t}))}};Et=i([E.RegisterAction],Et),t.CommandInsertAtFirstCharacter=Et;let kt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.mustBeFirstKey=!0,this.keys=["g","I"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Insert),t.cursorStopPosition=e.getLineBegin(),t}))}};kt=i([E.RegisterAction],kt);let _t=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["a"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Insert),t.cursorStopPosition=e.getRight(),t}))}doesActionApply(e,t){let r=!0;for(const t of e.recordedState.actionsRun)if(!(t instanceof D)){r=!1;break}return!(0!==e.recordedState.actionsRun.length&&!r)&&super.couldActionApply(e,t)}};_t=i([E.RegisterAction],_t),t.CommandInsertAfterCursor=_t;let Pt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["A"]}exec(e,t){return o(this,void 0,void 0,(function*(){return yield t.setCurrentMode(w.ModeName.Insert),t.cursorStopPosition=e.getLineEnd(),t}))}};Pt=i([E.RegisterAction],Pt),t.CommandInsertAtLineEnd=Pt;let At=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["O"]}runsOnceForEveryCursor(){return!1}execCount(e,t){return o(this,void 0,void 0,(function*(){yield t.setCurrentMode(w.ModeName.Insert);let e=t.recordedState.count||1;const r=p.Position.FromVSCodePosition(s.window.activeTextEditor.selection.active).getRight();s.window.activeTextEditor.selection=new s.Selection(r,r);for(let t=0;t<e;t++)yield s.commands.executeCommand("editor.action.insertLineBefore");t.cursors=yield u.getCursorsAfterSync();for(let r=0;r<e;r++){const e=new p.Position(t.cursors[0].start.line+r,t.cursors[0].start.character);t.cursors.push(new g.Range(e,e))}return t.cursors=t.cursors.reverse(),t.isFakeMultiCursor=!0,t.isMultiCursor=!0,t}))}};At=i([E.RegisterAction],At);let Rt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["o"]}runsOnceForEveryCursor(){return!1}execCount(e,t){return o(this,void 0,void 0,(function*(){yield t.setCurrentMode(w.ModeName.Insert);let e=t.recordedState.count||1;for(let t=0;t<e;t++)yield s.commands.executeCommand("editor.action.insertLineAfter");t.cursors=yield u.getCursorsAfterSync();for(let r=1;r<e;r++){const e=new p.Position(t.cursorStartPosition.line-r,t.cursorStartPosition.character);t.cursors.push(new g.Range(e,e)),t.recordedState.transformations.push({type:"insertText",text:M.TextEditor.setIndentationLevel("",e.character),position:e,cursorIndex:r,manuallySetCursorPositions:!0})}return t.cursors=t.cursors.reverse(),t.isFakeMultiCursor=!0,t.isMultiCursor=!0,t}))}};Rt=i([E.RegisterAction],Rt);let Nt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=[["<C-o>"],["<C-t>"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return B.globalState.jumpTracker.jumpBack(e,t)}))}};Nt=i([E.RegisterAction],Nt);let Tt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["<C-i>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return B.globalState.jumpTracker.jumpForward(e,t)}))}};Tt=i([E.RegisterAction],Tt);let Lt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["`","`"],this.isJump=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return B.globalState.jumpTracker.jumpBack(e,t)}))}};Lt=i([E.RegisterAction],Lt);let Bt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["'","'"],this.isJump=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=B.globalState.jumpTracker.end;if(null==e)return t;const r=new A.Jump({editor:t.editor,fileName:t.editor.document.fileName,position:e.position.getLineBegin()});return B.globalState.jumpTracker.recordJump(A.Jump.fromStateNow(t),r),t.cursorStopPosition=r.position,t}))}};Bt=i([E.RegisterAction],Bt);let Ft=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=[["<C-w>","q"],["<C-w>","<C-q>"],["<C-w>","c"],["<C-w>","<C-c>"]]}exec(e,t){return o(this,void 0,void 0,(function*(){return new f.QuitCommand({}).execute(),t}))}};Ft=i([E.RegisterAction],Ft);let $t=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=[["<C-w>","o"],["<C-w>","<C-o>"]]}exec(e,t){return o(this,void 0,void 0,(function*(){return new h.OnlyCommand({}).execute(),t}))}};$t=i([E.RegisterAction],$t);let Ot=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=[["<C-w>","l"],["<C-w>","<right>"],["<C-w l>"],["<C-w>","<C-l>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateRight",args:{}}),t}))}};Ot=i([E.RegisterAction],Ot);let Dt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=[["<C-w>","j"],["<C-w>","<down>"],["<C-w j>"],["<C-w>","<C-j>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateDown",args:{}}),t}))}};Dt=i([E.RegisterAction],Dt);let jt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=[["<C-w>","k"],["<C-w>","<up>"],["<C-w k>"],["<C-w>","<C-k>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateUp",args:{}}),t}))}};jt=i([E.RegisterAction],jt);let It=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=[["<C-w>","h"],["<C-w>","<left>"],["<C-w h>"],["<C-w>","<C-h>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateLeft",args:{}}),t}))}};It=i([E.RegisterAction],It);let Vt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=[["<C-w>","<C-w>"],["<C-w>","w"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateEditorGroups",args:{}}),t}))}};Vt=i([E.RegisterAction],Vt);class Wt extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.runsOnceForEachCountPrefix=!0}}let Ht=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=[["<C-w>","v"],["<C-w>","<C-v>"]]}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.splitEditor",args:{}}),t}))}};Ht=i([E.RegisterAction],Ht);let qt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=[["<C-w>","s"],["<C-w>","<C-s>"]]}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.splitEditorOrthogonal",args:{}}),t}))}};qt=i([E.RegisterAction],qt);let Ut=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["<C-w>","="]}exec(e,t){return o(this,void 0,void 0,(function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.evenEditorWidths",args:{}}),t}))}};Ut=i([E.RegisterAction],Ut);let zt=class extends Wt{constructor(){super(...arguments),this.keys=[["g","t"],["<C-pagedown>"]],this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,(function*(){return t.recordedState.count>0?new m.TabCommand({tab:m.Tab.Absolute,count:t.recordedState.count-1}).execute():new m.TabCommand({tab:m.Tab.Next,count:1}).execute(),t}))}};zt=i([E.RegisterAction],zt);let Kt=class extends Wt{constructor(){super(...arguments),this.keys=[["g","T"],["<C-pageup>"]],this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return new m.TabCommand({tab:m.Tab.Previous,count:1}).execute(),t}))}};Kt=i([E.RegisterAction],Kt);let Jt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["x"],this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,(function*(){if(M.TextEditor.getLineAt(e).text.length<1)return t;let r=t.recordedState.count||1;const n=yield new P.DeleteOperator(this.multicursorIndex).run(t,e,e.getRightByCount(r-1));return yield n.setCurrentMode(w.ModeName.Normal),n}))}};Jt=i([E.RegisterAction],Jt),t.ActionDeleteChar=Jt;let Gt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["<Del>"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}execCount(e,t){return o(this,void 0,void 0,(function*(){return 0!==t.recordedState.count?(t.recordedState.count=Math.floor(t.recordedState.count/10),t.recordedState.actionKeys=t.recordedState.count.toString().split(""),t.recordedState.commandList=t.recordedState.count.toString().split(""),this.isCompleteAction=!1,t):(new Jt).execCount(e,t)}))}};Gt=i([E.RegisterAction],Gt),t.ActionDeleteCharWithDeleteKey=Gt;let Yt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["X"],this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,(function*(){if(0===e.character)return t;let r=t.recordedState.count||1;return yield new P.DeleteOperator(this.multicursorIndex).run(t,e.getLeftByCount(r),e.getLeft())}))}};Yt=i([E.RegisterAction],Yt),t.ActionDeleteLastChar=Yt;let Qt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["J"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!1}firstNonWhitespaceIndex(e){for(let t=0,r=e.length;t<r;t++){let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}return-1}execJoinLines(e,t,r,n){return o(this,void 0,void 0,(function*(){n=n-1||1;let i,o,s,a,c=0;e.isEqual(t)||e.line===t.line?t.line+1<M.TextEditor.getLineCount()?(o=0,s=(i=t.line)+n,a=M.TextEditor.getLineMaxColumn(s)):(i=t.line,o=0,s=t.line,a=M.TextEditor.getLineMaxColumn(s)):(i=e.line,o=0,s=t.line,a=M.TextEditor.getLineMaxColumn(s));let u=M.TextEditor.getLineAt(e).text;for(let e=i+1;e<=s;e++){let t=M.TextEditor.getLineAt(new p.Position(e,0)).text,r=this.firstNonWhitespaceIndex(t);if(r>=0){let e=!0;""!==u&&" "!==u.charAt(u.length-1)&&"\t"!==u.charAt(u.length-1)||(e=!1);let n=t.substr(r);")"===n.charAt(0)&&(e=!1),u+=(e?" ":"")+n,c=e?n.length+1:n.length}else""===u||" "===u.charAt(u.length-1)||"\t"===u.charAt(u.length-1)?c+=0:(u+=" ",c+=1)}let l=new p.Position(i,o),d=new p.Position(s,a);return l.isEqual(d)||(e.isEqual(t)?r.recordedState.transformations.push({type:"replaceText",text:u,start:l,end:d,diff:new p.PositionDiff(0,u.length-c-t.character)}):(r.recordedState.transformations.push({type:"replaceText",text:u,start:l,end:d,manuallySetCursorPositions:!0}),r.cursorStartPosition=r.cursorStopPosition=e.withColumn(u.length-c),yield r.setCurrentMode(w.ModeName.Normal))),r}))}execCount(e,t){return o(this,void 0,void 0,(function*(){let e=t.recordedState.count||1,r=[],n=0;const i=t.cursors.map(e=>new g.Range(e.start,e.stop)).sort((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1);for(const{start:o,stop:s}of i){this.multicursorIndex=n++,t.cursorStopPosition=s,t.cursorStartPosition=o,t=yield this.execJoinLines(o,s,t,e),r.push(new g.Range(t.cursorStartPosition,t.cursorStopPosition));for(const e of t.recordedState.transformations)S.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}return t.cursors=r,t}))}};Qt=i([E.RegisterAction],Qt);let Zt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["J"]}exec(e,t){return o(this,void 0,void 0,(function*(){let e=new Qt,r=p.Position.FromVSCodePosition(t.editor.selection.start),n=p.Position.FromVSCodePosition(t.editor.selection.end);return r.isAfter(n)&&([r,n]=[n,r]),t.currentRegisterMode=b.RegisterMode.CharacterWise,t=yield e.execJoinLines(r,n,t,1)}))}};Zt=i([E.RegisterAction],Zt);let Xt=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["g","J"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,(function*(){if(e.line===M.TextEditor.getLineCount()-1)return t;let r=M.TextEditor.getLineAt(e).text,n=M.TextEditor.getLineAt(e.getNextLineBegin()).text,i=r+(n=n.substring(e.getNextLineBegin().getFirstLineNonBlankChar().character)),o=yield new P.DeleteOperator(this.multicursorIndex).run(t,e.getLineBegin(),n.length>0?e.getNextLineBegin().getLineEnd().getLeft():e.getLineEnd());return t.recordedState.transformations.push({type:"insertText",text:i,position:e,diff:new p.PositionDiff(0,-n.length)}),o.cursorStopPosition=new p.Position(e.line,r.length),o}))}};Xt=i([E.RegisterAction],Xt);let er=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual],this.keys=["g","J"]}exec(e,t){return o(this,void 0,void 0,(function*(){let e=new Xt,r=p.Position.FromVSCodePosition(t.editor.selection.start),n=p.Position.FromVSCodePosition(t.editor.selection.end);if(r.line===n.line)return t;r.isAfter(n)&&([r,n]=[n,r]);for(let i=r.line;i<n.line;i++)t=yield e.exec(r,t);return t}))}};er=i([E.RegisterAction],er);let tr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,(function*(){let r=t.recordedState.count||1;const n=this.keysPressed[1];if(["<BS>","<SHIFT+BS>"].includes(n.toUpperCase()))return t;if(e.character+r>e.getLineEnd().character)return t;let i=new p.Position(e.line,e.character+r);return i.character>M.TextEditor.getLineAt(i).text.length?t:(i.character>M.TextEditor.getLineAt(i).text.length&&(i=new p.Position(i.line,i.character+1)),"<tab>"===n?(t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,i)}),t.recordedState.transformations.push({type:"tab",cursorIndex:this.multicursorIndex,diff:new p.PositionDiff(0,-1)})):"\n"===n?t.recordedState.transformations.push({type:"replaceText",text:"\n",start:e,end:i,diff:p.PositionDiff.NewBOLDiff(1)}):t.recordedState.transformations.push({type:"replaceText",text:n.repeat(r),start:e,end:i,diff:new p.PositionDiff(0,r-1)}),t)}))}execCount(e,t){const r=Object.create(null,{execCount:{get:()=>super.execCount}});return o(this,void 0,void 0,(function*(){return r.execCount.call(this,e,t)}))}};tr=i([E.RegisterAction],tr);let rr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[1];let r=1,n=t.cursorStartPosition,i=t.cursorStopPosition;i.isBeforeOrEqual(n)&&([n,i]=[i,n]);const o=M.TextEditor.getLineAt(i).text.length;o<=0&&(r=0),i=new p.Position(i.line,Math.min(i.character,o>0?o-1:0));for(let o=n.line;o<=i.line;o++){const s=M.TextEditor.getLineAt(new p.Position(o,0)).text;n.line===i.line?t.recordedState.transformations.push({type:"replaceText",text:Array(i.character-n.character+2).join(e),start:n,end:new p.Position(i.line,i.character+1),manuallySetCursorPositions:!0}):o===n.line?t.recordedState.transformations.push({type:"replaceText",text:Array(s.length-n.character+1).join(e),start:n,end:new p.Position(n.line,s.length),manuallySetCursorPositions:!0}):o===i.line?t.recordedState.transformations.push({type:"replaceText",text:Array(i.character+1+r).join(e),start:new p.Position(i.line,0),end:new p.Position(i.line,i.character+r),manuallySetCursorPositions:!0}):t.recordedState.transformations.push({type:"replaceText",text:Array(s.length+1).join(e),start:new p.Position(o,0),end:new p.Position(o,s.length),manuallySetCursorPositions:!0})}return t.cursorStopPosition=n,t.cursorStartPosition=n,yield t.setCurrentMode(w.ModeName.Normal),t}))}};rr=i([E.RegisterAction],rr);let nr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=this.keysPressed[1];for(const{start:r,end:n}of p.Position.IterateLine(t))n.isBeforeOrEqual(r)||t.recordedState.transformations.push({type:"replaceText",text:Array(n.character-r.character+1).join(e),start:r,end:n,manuallySetCursorPositions:!0});const r=x.VisualBlockMode.getTopLeftPosition(t.cursorStopPosition,t.cursorStartPosition);return t.cursors=[new g.Range(r,r)],yield t.setCurrentMode(w.ModeName.Normal),t}))}};nr=i([E.RegisterAction],nr);let ir=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=["x"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){const e=[];for(const{line:r,start:n,end:i}of p.Position.IterateLine(t))e.push(r),t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(n,i),manuallySetCursorPositions:!0});const r=1===e.length?e[0]:e.join("\n");t.currentRegisterMode=b.RegisterMode.BlockWise,b.Register.put(r,t,this.multicursorIndex);const n=x.VisualBlockMode.getTopLeftPosition(t.cursorStopPosition,t.cursorStartPosition);return t.cursors=[new g.Range(n,n)],yield t.setCurrentMode(w.ModeName.Normal),t}))}};ir=i([E.RegisterAction],ir);let or=class extends ir{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=["d"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}};or=i([E.RegisterAction],or);let sr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=["D"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){for(const{start:e}of p.Position.IterateLine(t))t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,e.getLineEnd()),manuallySetCursorPositions:!0});const e=x.VisualBlockMode.getTopLeftPosition(t.cursorStopPosition,t.cursorStartPosition);return t.cursors=[new g.Range(e,e)],yield t.setCurrentMode(w.ModeName.Normal),t}))}};sr=i([E.RegisterAction],sr);let ar=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=["I"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){yield t.setCurrentMode(w.ModeName.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{line:e,start:r}of p.Position.IterateLine(t))""===e&&0!==r.character||t.cursors.push(new g.Range(r,r));return t.cursors=t.cursors.slice(1),t}))}};ar=i([E.RegisterAction],ar);let cr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=[["c"],["s"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){for(const{start:e,end:r}of p.Position.IterateLine(t))t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,r),manuallySetCursorPositions:!0});yield t.setCurrentMode(w.ModeName.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{start:e}of p.Position.IterateLine(t))t.cursors.push(new g.Range(e,e));return t.cursors=t.cursors.slice(1),t}))}};cr=i([E.RegisterAction],cr);let ur=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=[["C"],["S"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){for(const{start:e}of p.Position.IterateLine(t))t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,e.getLineEnd()),collapseRange:!0});yield t.setCurrentMode(w.ModeName.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{end:e}of p.Position.IterateLine(t))t.cursors.push(new g.Range(e,e));return t.cursors=t.cursors.slice(1),t}))}};ur=i([E.RegisterAction],ur);class lr extends F{runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){yield t.setCurrentMode(w.ModeName.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0;let e=p.Position.FromVSCodePosition(t.editor.selection.start),r=p.Position.FromVSCodePosition(t.editor.selection.end);e.isAfter(r)&&([e,r]=[r,e]),t.cursors=[];for(let n=e.line;n<=r.line;n++){const i=M.TextEditor.getLineAt(new p.Position(n,0));""!==i.text.trim()&&t.cursors.push(this.getCursorRangeForLine(i,e,r))}return t}))}}let dr=class extends lr{constructor(){super(...arguments),this.modes=[w.ModeName.VisualLine],this.keys=["I"]}getCursorRangeForLine(e){const t=new p.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new g.Range(t,t)}};dr=i([E.RegisterAction],dr),t.ActionGoToInsertVisualLineMode=dr;let hr=class extends lr{constructor(){super(...arguments),this.modes=[w.ModeName.VisualLine],this.keys=["A"]}getCursorRangeForLine(e){const t=new p.Position(e.lineNumber,e.range.end.character);return new g.Range(t,t)}};hr=i([E.RegisterAction],hr),t.ActionGoToInsertVisualLineModeAppend=hr;let fr=class extends lr{constructor(){super(...arguments),this.modes=[w.ModeName.Visual],this.keys=["I"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===t.line?t:new p.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new g.Range(n,n)}};fr=i([E.RegisterAction],fr),t.ActionGoToInsertVisualMode=fr;let mr=class extends lr{constructor(){super(...arguments),this.modes=[w.ModeName.Visual],this.keys=["A"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===r.line?r:new p.Position(e.lineNumber,e.range.end.character);return new g.Range(n,n)}};mr=i([E.RegisterAction],mr),t.ActionGoToInsertVisualModeAppend=mr;let pr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.VisualBlock],this.keys=["A"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){yield t.setCurrentMode(w.ModeName.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{line:e,end:r}of p.Position.IterateLine(t))""===e.trim()&&t.recordedState.transformations.push({type:"replaceText",text:M.TextEditor.setIndentationLevel(e,r.character),start:new p.Position(r.line,0),end:new p.Position(r.line,r.character)}),t.cursors.push(new g.Range(r,r));return t.cursors=t.cursors.slice(1),t}))}};pr=i([E.RegisterAction],pr);let gr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual,w.ModeName.VisualLine],this.keys=["X"]}exec(e,t){return o(this,void 0,void 0,(function*(){return t.currentMode===w.ModeName.Visual?new P.DeleteOperator(this.multicursorIndex).run(t,t.cursorStartPosition.getLineBegin(),t.cursorStopPosition.getLineEnd()):new P.DeleteOperator(this.multicursorIndex).run(t,e.getLineBegin(),e.getLineEnd())}))}};gr=i([E.RegisterAction],gr);let vr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual],this.keys=["C"]}exec(e,t){return o(this,void 0,void 0,(function*(){return new P.DeleteOperator(this.multicursorIndex).run(t,t.cursorStartPosition.getLineBegin(),t.cursorStopPosition.getLineEndIncludingEOL())}))}};vr=i([E.RegisterAction],vr);let yr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Visual],this.keys=["R"]}exec(e,t){return o(this,void 0,void 0,(function*(){return new P.DeleteOperator(this.multicursorIndex).run(t,t.cursorStartPosition.getLineBegin(),t.cursorStopPosition.getLineEndIncludingEOL())}))}};yr=i([E.RegisterAction],yr);let wr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["s"],this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,(function*(){const r=yield(new P.ChangeOperator).run(t,e,e);return yield r.setCurrentMode(w.ModeName.Insert),r}))}doesActionApply(e,t){return super.doesActionApply(e,t)&&!y.configuration.sneak&&!e.recordedState.operator}couldActionApply(e,t){return super.couldActionApply(e,t)&&!y.configuration.sneak&&!e.recordedState.operator}};wr=i([E.RegisterAction],wr);let xr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["~"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,(function*(){return yield(new P.ToggleCaseOperator).run(t,t.cursorStopPosition,t.cursorStopPosition),t.cursorStopPosition=t.cursorStopPosition.getRight(),t}))}};xr=i([E.RegisterAction],xr);class br extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,(function*(){const r=M.TextEditor.getLineAt(e).text;if(r.length<=e.character)return t;const n=r[e.character].match(/\s/)?e:e.getWordLeft(!0);for(let{start:i,end:o,word:s}of p.Position.IterateWords(n))for("-"===r[i.character-1]&&/\d/.test(r[i.character])&&(s=r[(i=i.getLeft()).character]+s);;){const r=v.NumericString.parse(s);if(null!==r&&e.character<i.character+r.prefix.length+r.value.toString().length)return t.cursorStopPosition=yield this.replaceNum(r,this.offset*(t.recordedState.count||1),i,o),t.cursorStopPosition=t.cursorStopPosition.getLeftByCount(r.suffix.length),t;if(null===r)break;s=s.slice(r.prefix.length+r.value.toString().length),i=new p.Position(i.line,i.character+r.prefix.length+r.value.toString().length)}return t}))}replaceNum(e,t,r,n){return o(this,void 0,void 0,(function*(){const i=e.toString().length;e.value+=t;const o=e.toString(),a=new s.Range(r,n.getRight());return i===o.length?yield M.TextEditor.replace(a,o):(yield M.TextEditor.delete(a),yield M.TextEditor.insertAt(o,r),n=new p.Position(n.line,n.character+(o.length-i))),n}))}}let Cr=class extends br{constructor(){super(...arguments),this.keys=["<C-a>"],this.offset=1}};Cr=i([E.RegisterAction],Cr);let Mr=class extends br{constructor(){super(...arguments),this.keys=["<C-x>"],this.offset=-1}};Mr=i([E.RegisterAction],Mr);let Sr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=["g","h"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return yield s.commands.executeCommand("editor.action.showHover"),t}))}};Sr=i([E.RegisterAction],Sr);let Er=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual],this.keys=[["<D-d>"],["g","b"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return yield s.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.cursors=yield u.getCursorsAfterSync(),t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getLeft())),yield t.setCurrentMode(w.ModeName.Visual),t}))}};Er=i([E.RegisterAction],Er);let kr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Insert],this.keys=["<D-d>"],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return s.window.activeTextEditor.selections=s.window.activeTextEditor.selections.map((e,t)=>{const r=p.Position.FromVSCodePosition(e.active);if(0===t)return new s.Selection(r.getWordLeft(!1),r.getLeft().getCurrentWordEnd(!0).getRight());{const e=p.Position.FromVSCodePosition(s.window.activeTextEditor.selections[0].active),t=e.getLeft().getCurrentWordEnd(!0).getRight().character-e.getWordLeft(!1).character,n=r.getLeftByCount(t);return new s.Selection(n,r)}}),yield s.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.cursors=yield u.getCursorsAfterSync(),t}))}};kr=i([E.RegisterAction],kr);let _r=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual],this.keys=[["<D-alt+down>"],["<C-alt+down>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return yield s.commands.executeCommand("editor.action.insertCursorBelow"),t.cursors=yield u.getCursorsAfterSync(),t}))}};_r=i([E.RegisterAction],_r);let Pr=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal,w.ModeName.Visual],this.keys=[["<D-alt+up>"],["<C-alt+up>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return yield s.commands.executeCommand("editor.action.insertCursorAbove"),t.cursors=yield u.getCursorsAfterSync(),t}))}};Pr=i([E.RegisterAction],Pr);let Ar=class extends F{constructor(){super(...arguments),this.modes=[w.ModeName.Normal],this.keys=[["<C-g>"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return L.ReportFileInfo(e,t),t}))}};Ar=i([E.RegisterAction],Ar)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(5),o=r(3);t.StatusBar=new class{constructor(){this._previousModeName=void 0,this._wasRecordingMacro=!1,this._wasHighPriority=!1,this._statusBarItem=n.window.createStatusBarItem(n.StatusBarAlignment.Left),this._statusBarItem.show()}Set(e,t,r,n=!1){const s=t!==this._previousModeName;((s||t===i.ModeName.SearchInProgressMode||t===i.ModeName.CommandlineInProgress||r!==this._wasRecordingMacro||o.configuration.showcmd)&&!this._wasHighPriority||n)&&this.UpdateText(e),o.configuration.statusBarColorControl&&s&&this.UpdateColor(t),s&&t!==i.ModeName.Normal?this._wasHighPriority=!1:n&&(this._wasHighPriority=!0),this._previousModeName=t,this._wasRecordingMacro=r}dispose(){this._statusBarItem.dispose()}Get(){return this._statusBarItem.text}UpdateText(e){this._statusBarItem.text=e||""}UpdateColor(e){let t=void 0,r=void 0,s=o.configuration.statusBarColors[i.ModeName[e].toLowerCase()];void 0!==s&&("string"==typeof s?r=s:[r,t]=s);const a=n.workspace.getConfiguration("workbench"),c=a.get("colorCustomizations"),u=Object.assign({},c||{},{"statusBar.background":`${r}`,"statusBar.noFolderBackground":`${r}`,"statusBar.debuggingBackground":`${r}`,"statusBar.foreground":`${t}`});void 0===r&&(delete u["statusBar.background"],delete u["statusBar.noFolderBackground"],delete u["statusBar.debuggingBackground"]),void 0===t&&delete u["statusBar.foreground"],c!==u&&a.update("colorCustomizations",u,!0)}}},function(e,t,r){"use strict";const n=r(1),i=r(202),{LEVEL:o}=r(2),s=e.exports=function(e={}){i.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};n.inherits(s,i),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);const n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[o]]){if(e&&!this.format)return this.log(e,r);let t,n;try{n=this.format.transform(Object.assign({},e),this.format.options)}catch(e){t=e}if(t||!n){if(r(),t)throw t;return}return this.log(n,r)}return r(null)},s.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let r=0;r<e.length;r++){if(!this._accept(e[r]))continue;if(e[r].chunk&&!this.format){this.log(e[r].chunk,e[r].callback);continue}let n,i;try{i=this.format.transform(Object.assign({},e[r].chunk),this.format.options)}catch(e){n=e}if(n||!i){if(e[r].callback(),n)throw t(null),n}else this.log(i,e[r].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;if(this.silent)return!1;const r=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&r&&!(this.levels[r]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(5),o=r(26),s=r(20);class a{constructor(){this.commandList=[],this.actionKeys=[],this.actionsRun=[],this.hasRunOperator=!1,this.hasRunSurround=!1,this.surroundKeys=[],this.surroundKeyIndexStart=0,this.isInsertion=!1,this.transformations=[],this.count=0,this.registerName=n.configuration.useSystemClipboard?"*":'"'}get commandString(){let e="";for(const t of this.commandList)t===n.configuration.leader?e+="<leader>":e+=t;return e}get commandWithoutCountPrefix(){return this.commandList.join("").replace(/^[0-9]+/g,"")}resetCommandList(){this.commandList=[]}get operator(){return this.actionsRun.filter(e=>e instanceof s.BaseOperator).reverse()[0]}get operators(){return this.actionsRun.filter(e=>e instanceof s.BaseOperator).reverse()}get command(){return this.actionsRun.filter(e=>e instanceof o.BaseCommand).reverse()[0]}get hasRunAMovement(){return this.actionsRun.filter(e=>e.isMotion).length>0}clone(){const e=new a;return e.actionKeys=this.actionKeys.slice(0),e.actionsRun=this.actionsRun.slice(0),e.hasRunOperator=this.hasRunOperator,e.hasRunSurround=this.hasRunSurround,e.surroundKeys=this.surroundKeys,e}operatorReadyToExecute(e){return this.operator&&!this.hasRunOperator&&e!==i.ModeName.SearchInProgressMode&&e!==i.ModeName.CommandlineInProgress&&(this.hasRunAMovement||e===i.ModeName.Visual||e===i.ModeName.VisualLine||this.operators.length>1&&this.operators.reverse()[0].constructor===this.operators.reverse()[1].constructor)}}t.RecordedState=a},function(e,t){e.exports=n,n.default=n,n.stable=o,n.stableStringify=o;var r=[];function n(e,t,n){!function e(t,n,i,o){var s;if("object"==typeof t&&null!==t){for(s=0;s<i.length;s++)if(i[s]===t)return o[n]="[Circular]",void r.push([o,n,t]);if(i.push(t),Array.isArray(t))for(s=0;s<t.length;s++)e(t[s],s,i,t);else{var a=Object.keys(t);for(s=0;s<a.length;s++){var c=a[s];e(t[c],c,i,t)}}i.pop()}}(e,"",[],void 0);for(var i=JSON.stringify(e,t,n);0!==r.length;){var o=r.pop();o[0][o[1]]=o[2]}return i}function i(e,t){return e<t?-1:e>t?1:0}function o(e,t,n){for(var o=function e(t,n,o,s){var a;if("object"==typeof t&&null!==t){for(a=0;a<o.length;a++)if(o[a]===t)return s[n]="[Circular]",void r.push([s,n,t]);if("function"==typeof t.toJSON)return;if(o.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,o,t);else{var c={},u=Object.keys(t).sort(i);for(a=0;a<u.length;a++){var l=u[a];e(t[l],l,o,t),c[l]=t[l]}if(void 0===s)return c;r.push([s,n,t]),s[n]=c}o.pop()}}(e,"",[],void 0)||e,s=JSON.stringify(o,t,n);0!==r.length;){var a=r.pop();a[0][a[1]]=a[2]}return s}},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=`. Received type ${typeof r}`}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(151),o=r(155);r(24)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Unknown=0]="Unknown",e[e.Eof=1]="Eof",e[e.LineNumber=2]="LineNumber",e[e.Dot=3]="Dot",e[e.Dollar=4]="Dollar",e[e.Percent=5]="Percent",e[e.Comma=6]="Comma",e[e.Plus=7]="Plus",e[e.Minus=8]="Minus",e[e.CommandName=9]="CommandName",e[e.CommandArgs=10]="CommandArgs",e[e.ForwardSearch=11]="ForwardSearch",e[e.ReverseSearch=12]="ReverseSearch",e[e.Offset=13]="Offset",e[e.SelectionFirstLine=14]="SelectionFirstLine",e[e.SelectionLastLine=15]="SelectionLastLine",e[e.Mark=16]="Mark"}(t.TokenType||(t.TokenType={}));t.Token=class{constructor(e,t){this.type=e,this.content=t}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(11),s=r(5);function a(e){return void 0!==e.start&&void 0!==e.stop}var c;t.isIMovement=a,function(e){e[e.Concatenating=0]="Concatenating",e[e.Expanding=1]="Expanding"}(c=t.SelectionType||(t.SelectionType={}));t.BaseMovement=class extends o.BaseAction{constructor(e,t){super(),this.modes=[s.ModeName.Normal,s.ModeName.Visual,s.ModeName.VisualLine,s.ModeName.VisualBlock],this.isMotion=!0,this.isJump=!1,this.isRepeat=!1,this.doesntChangeDesiredColumn=!1,this.setsDesiredColumnToEOL=!1,this.minCount=1,this.maxCount=99999,this.selectionType=c.Concatenating,e&&(this.keysPressed=e),t&&(this.isRepeat=t)}execAction(e,t){return n(this,void 0,void 0,(function*(){throw new Error("Not implemented!")}))}execActionForOperator(e,t){return n(this,void 0,void 0,(function*(){return this.execAction(e,t)}))}execActionWithCount(e,t,r){return n(this,void 0,void 0,(function*(){let n=t.recordedState,o=new i.Position(0,0),s=void 0,u=new i.Position(e.line,e.character);r=this.clampCount(r);for(let c=0;c<r;c++){const l=0===c,d=c===r-1;if((o=yield this.createMovementResult(e,t,n,d))instanceof i.Position)e=o;else if(a(o)){if(s&&o.failed)return s;l&&(u=new i.Position(o.start.line,o.start.character)),e=this.adjustPosition(e,o,d),s=o}}return this.selectionType===c.Concatenating&&a(o)&&(o.start=u),o}))}clampCount(e){return e=Math.max(e,this.minCount),e=Math.min(e,this.maxCount)}createMovementResult(e,t,r,i){return n(this,void 0,void 0,(function*(){return r.operator&&i?yield this.execActionForOperator(e,t):yield this.execAction(e,t)}))}adjustPosition(e,t,r){return r||(e=t.stop.getRightThroughLineBreaks()),e}}},function(e,t,r){var n=r(1),i=r(383),o=r(384),s=r(16),a=r(160).StringDecoder,c=r(13).Stream,u=r(112);function l(){}t.setLevels=function(e,r,n,i){return r&&Object.keys(r).forEach((function(t){delete e[t]})),e.levels=n||u.npm.levels,e.padLevels&&(e.levelLength=t.longestElement(Object.keys(e.levels))),Object.keys(e.levels).forEach((function(t){"log"!==t?e[t]=function(r){var n=[t].concat(Array.prototype.slice.call(arguments));e.log.apply(e,n)}:console.warn('Log level named "log" will clash with the method "log". Consider using a different name.')})),e},t.longestElement=function(e){return Math.max.apply(null,e.map((function(e){return e.length})))},t.clone=function(e){if(e instanceof Error){var r={message:e.message};return Object.getOwnPropertyNames(e).forEach((function(t){r[t]=e[t]})),o.decycle(r)}return e instanceof Object?e instanceof Date?new Date(e.getTime()):function(e){var r=Array.isArray(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&(Array.isArray(e[n])?r[n]=e[n].slice(0):e[n]instanceof Buffer?r[n]=e[n].slice(0):"function"!=typeof e[n]?r[n]=e[n]instanceof Object?t.clone(e[n]):e[n]:"function"==typeof e[n]&&(r[n]=e[n]));return r}(o.decycle(e)):e},t.log=function(e){var r,i="function"==typeof e.timestamp?e.timestamp:t.timestamp,o=e.timestamp?i():null,s=void 0===e.showLevel||e.showLevel,a=null!==e.meta&&void 0!==e.meta?t.clone(e.meta):e.meta||null;if(e.raw)return"object"!=typeof a&&null!=a&&(a={meta:a}),(r=t.clone(a)||{}).level=e.level,r.message=e.message.stripColors?e.message.stripColors:e.message,JSON.stringify(r);if(e.json||!0===e.logstash){if("object"!=typeof a&&null!=a&&(a={meta:a}),(r=t.clone(a)||{}).level=e.level,r.message=r.message||"",e.label&&(r.label=e.label),e.message&&(r.message=e.message),o&&(r.timestamp=o),!0===e.logstash){var c={};void 0!==r.message&&(c["@message"]=r.message,delete r.message),void 0!==r.timestamp&&(c["@timestamp"]=r.timestamp,delete r.timestamp),c["@fields"]=t.clone(r),r=c}return"function"==typeof e.stringify?e.stringify(r):JSON.stringify(r,(function(e,t){return t instanceof Buffer?t.toString("base64"):t}))}if("function"==typeof e.formatter)return e.meta=a||e.meta,e.meta instanceof Error&&(e.meta=t.clone(e.meta)),String(e.formatter(t.clone(e)));if(r=o?o+" - ":"",s&&(r+="all"===e.colorize||"level"===e.colorize||!0===e.colorize?u.colorize(e.level):e.level),r+=e.align?"\t":"",r+=o||s?": ":"",r+=e.label?"["+e.label+"] ":"",r+="all"===e.colorize||"message"===e.colorize?u.colorize(e.level,e.message):e.message,null!=a)if("object"!=typeof a)r+=" "+a;else if(Object.keys(a).length>0)if("function"==typeof e.prettyPrint)r+=" "+e.prettyPrint(a);else if(e.prettyPrint)r+=" \n"+n.inspect(a,!1,e.depth||null,e.colorize);else if(e.humanReadableUnhandledException&&Object.keys(a).length>=5&&a.hasOwnProperty("date")&&a.hasOwnProperty("process")&&a.hasOwnProperty("os")&&a.hasOwnProperty("trace")&&a.hasOwnProperty("stack")){var l=a.stack;delete a.stack,delete a.trace,r+=" "+t.serialize(a),l&&(r+="\n"+l.join("\n"))}else r+=" "+t.serialize(a);return r},t.capitalize=function(e){return e&&e[0].toUpperCase()+e.slice(1)},t.hash=function(e){return i.createHash("sha1").update(e).digest("hex")},t.pad=function(e){return e<10?"0"+e.toString(10):e.toString(10)},t.timestamp=function(){return(new Date).toISOString()},t.serialize=function(e,r){if("symbol"==typeof r&&(r=r.toString()),"symbol"==typeof e&&(e=e.toString()),null===e?e="null":void 0===e?e="undefined":!1===e&&(e="false"),"object"!=typeof e)return r?r+"="+e:e;if(e instanceof Buffer)return r?r+"="+e.toString("base64"):e.toString("base64");for(var n="",i=Object.keys(e),o=i.length,s=0;s<o;s++){if(Array.isArray(e[i[s]])){n+=i[s]+"=[";for(var a=0,c=e[i[s]].length;a<c;a++)n+=t.serialize(e[i[s]][a]),a<c-1&&(n+=", ");n+="]"}else e[i[s]]instanceof Date?n+=i[s]+"="+e[i[s]]:n+=t.serialize(e[i[s]],i[s]);s<o-1&&(n+=", ")}return n},t.tailFile=function(e,t){var r=Buffer.alloc(65536),n=new a("utf8"),i=new c,o="",u=0,d=0;return-1===e.start&&delete e.start,i.readable=!0,i.destroy=function(){i.destroyed=!0,i.emit("end"),i.emit("close")},s.open(e.file,"a+","0644",(function(a,c){if(a)return t?t(a):i.emit("error",a),void i.destroy();!function a(){if(!i.destroyed)return s.read(c,r,0,r.length,u,(function(s,c){if(s)return t?t(s):i.emit("error",s),void i.destroy();if(!c)return o&&((null==e.start||d>e.start)&&(t?t(null,o):i.emit("line",o)),d++,o=""),setTimeout(a,1e3);var l=n.write(r.slice(0,c));t||i.emit("data",l);for(var h=(l=(o+l).split(/\n+/)).length-1,f=0;f<h;f++)(null==e.start||d>e.start)&&(t?t(null,l[f]):i.emit("line",l[f])),d++;return o=l[h],u+=c,a()}));s.close(c,l)}()})),t?i.destroy:i},t.stringArrayToSet=function(e,t){return void 0===t&&(t="Cannot make set from Array with non-string elements"),e.reduce((function(e,r){if(!("string"==typeof r||r instanceof String))throw new Error(t);return e[r]=!0,e}),Object.create(null))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static ToControlCharacter(e){return"<tab>"===e?"\t":e}static IsControlKey(e){return e=e.toLocaleUpperCase(),this.isSurroundedByAngleBrackets(e)&&"<BS>"!==e&&"<SHIFT+BS>"!==e&&"<TAB>"!==e}static NormalizeKey(e,t){if("string"!=typeof e)return e;if(!this.isSurroundedByAngleBrackets(e)&&e.length>1&&(e=`<${e.toLocaleLowerCase()}>`),"<leader>"===e.toLocaleLowerCase())return t;if(["<up>","<down>","<left>","<right>"].includes(e.toLocaleLowerCase()))return e.toLocaleLowerCase();for(const t in this._notationMap)if(this._notationMap.hasOwnProperty(t)){const r=new RegExp(this._notationMap[t].join("|"),"gi");if(r.test(e)){e=e.replace(r,t);break}}return e}static isSurroundedByAngleBrackets(e){return e.startsWith("<")&&e.endsWith(">")}}t.Notation=n,n._notationMap={"C-":["ctrl\\+","c\\-"],"D-":["cmd\\+","d\\-"],Esc:["escape","esc"],BS:["backspace","bs"],Del:["delete","del"],Home:["home"],End:["end"],Insert:["insert"]," ":["<space>"],"\n":["<cr>","<enter>"]}},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(53),o=r(2),s=o.LEVEL,a=o.MESSAGE;i.enabled=!0;var c=/\s+/,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.colors&&this.addColors(t.colors),this.options=t}var t,r,o;return t=e,o=[{key:"addColors",value:function(t){var r=Object.keys(t).reduce((function(e,r){return e[r]=c.test(t[r])?t[r].split(c):t[r],e}),{});return e.allColors=Object.assign({},e.allColors||{},r),e.allColors}}],(r=[{key:"addColors",value:function(t){return e.addColors(t)}},{key:"colorize",value:function(t,r,n){if(void 0===n&&(n=r),!Array.isArray(e.allColors[t]))return i[e.allColors[t]](n);for(var o=0,s=e.allColors[t].length;o<s;o++)n=i[e.allColors[t][o]](n);return n}},{key:"transform",value:function(e,t){return t.all&&"string"==typeof e[a]&&(e[a]=this.colorize(e[s],e.level,e[a])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[s],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[s],e.level,e.message)),e}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=function(e){return new u(e)},e.exports.Colorizer=e.exports.Format=u},function(e,t,r){var n=r(13);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(151)).Stream=n||t,t.Readable=t,t.Writable=r(155),t.Duplex=r(32),t.Transform=r(157),t.PassThrough=r(269),t.finished=r(96),t.pipeline=r(270))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor({editor:e,fileName:t,position:r}){this.editor=e,this.fileName=t,this.position=r}static fromStateNow(e){return new n({editor:e.editor,fileName:e.editor.document.fileName,position:e.cursorStopPosition})}static fromStateBefore(e){return new n({editor:e.editor,fileName:e.editor.document.fileName,position:e.cursorsInitialState[0].stop})}isSamePosition(e){return!e||this.fileName===e.fileName&&this.position.line===e.position.line&&this.position.character===e.position.character}}t.Jump=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(297),s=r(8),a=r(4),c=r(18),u=r(47);function l(e=0,t=!1){return n(this,void 0,void 0,(function*(){yield new Promise((r,n)=>{let o=setTimeout(t?n:r,e);const s=i.window.onDidChangeTextEditorSelection(e=>{s.dispose(),clearTimeout(o),r()})})}))}t.waitForCursorSync=l,t.getCursorsAfterSync=function(e=0){return n(this,void 0,void 0,(function*(){const t=s.Logger.get("getCursorsAfterSync");try{yield l(e,!0)}catch(r){t.warn(`getCursorsAfterSync: selection not updated within ${e}ms.`)}return i.window.activeTextEditor.selections.map(e=>new c.Range(a.Position.FromVSCodePosition(e.start),a.Position.FromVSCodePosition(e.end)))}))},t.getExtensionDirPath=function(){const e=s.Logger.get("getExtensionDirPath"),t=new o("VSCodeVim");return e.debug("VSCodeVim Cache Directory: "+t.userCache()),t.userCache()},t.executeShell=function(e){return new Promise((t,r)=>{try{u.exec(e,(e,n,i)=>{e?r(e):t(n)})}catch(e){r(e)}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),i=r(27),o=r(3);function s(e){i.StatusBar.Set("",e.currentMode,e.isRecordingMacro,!0)}t.ReportClear=s,t.ReportLinesChanged=function(e,t){e>o.configuration.report?i.StatusBar.Set(e+" more lines",t.currentMode,t.isRecordingMacro,!0):-e>o.configuration.report?i.StatusBar.Set(Math.abs(e)+" fewer lines",t.currentMode,t.isRecordingMacro,!0):s(t)},t.ReportLinesYanked=function(e,t){e>o.configuration.report?t.currentMode===n.ModeName.VisualBlock?i.StatusBar.Set("block of "+e+" lines yanked",t.currentMode,t.isRecordingMacro,!0):i.StatusBar.Set(e+" lines yanked",t.currentMode,t.isRecordingMacro,!0):s(t)},t.ReportFileInfo=function(e,t){const r=t.editor.document,n=Math.floor((e.line+1)/r.lineCount*100);i.StatusBar.Set(`"${r.fileName}" ${r.lineCount} lines --${n}%--`,t.currentMode,t.isRecordingMacro,!0)},t.ReportSearch=function(e,t,r){i.StatusBar.Set(`match ${e+1} of ${t}`,r.currentMode,r.isRecordingMacro,!0)}},function(e,t,r){"use strict";var n,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(21),s=r(67),a=Symbol("DO_REQUEST");n=a,t.BaseApi=class extends o.EventEmitter{constructor({transport:e,data:t,logger:r,metadata:i,client:o}){super(),this[n]=(e,t=[])=>new Promise((r,n)=>{this.transport.request(e,t,(t,i)=>{this.logger.debug(`response -> neovim.api.${e}: ${i}`),t?n(new Error(`${e}: ${t[1]}`)):r(i)})}),this.setTransport(e),this.data=t,this.logger=r||s.logger,this.client=o,i&&Object.defineProperty(this,"metadata",{value:i})}setTransport(e){this.transport=e}equals(e){try{return String(this.data)===String(e.data)}catch(e){return!1}}request(e,t=[]){return i(this,void 0,void 0,(function*(){return yield this._isReady,this.logger.debug(`request -> neovim.api.${e}`),this[a](e,t)}))}_getArgsByPrefix(...e){const t=[];return"nvim_"!==this.prefix&&t.push(this),t.concat(e)}getVar(e){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}get_var`,t).then(e=>e,e=>{if(e&&e.message&&e.message.includes("not found"))return null;throw e})}setVar(e,t){const r=this._getArgsByPrefix(e,t);return this.request(`${this.prefix}set_var`,r)}deleteVar(e){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}del_var`,t)}getOption(e){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}get_option`,t)}setOption(e,t){const r=this._getArgsByPrefix(e,t);return this.request(`${this.prefix}set_option`,r)}notify(e,t){this.logger.debug(`notify -> neovim.api.${e}`),this.transport.notify(e,t)}}},function(e,t,r){var n={};e.exports=n,n.themes={};var i=n.styles=r(386),o=Object.defineProperties;n.supportsColor=r(387),void 0===n.enabled&&(n.enabled=n.supportsColor),n.stripColors=n.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};n.stylize=function(e,t){return i[t].open+e+i[t].close};var s=/[|\\{}()[\]^$+*?.]/g;function a(e){var t=function e(){return d.apply(e,arguments)};return t._styles=e,t.__proto__=l,t}var c,u=(c={},i.grey=i.gray,Object.keys(i).forEach((function(e){i[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(s,"\\$&")}(i[e].close),"g"),c[e]={get:function(){return a(this._styles.concat(e))}}})),c),l=o((function(){}),u);function d(){var e=arguments,t=e.length,r=0!==t&&String(arguments[0]);if(t>1)for(var o=1;o<t;o++)r+=" "+e[o];if(!n.enabled||!r)return r;for(var s=this._styles,a=s.length;a--;){var c=i[s[a]];r=c.open+r.replace(c.closeRe,c.open)+c.close}return r}function h(e){for(var t in e)!function(t){n[t]=function(r){return n[e[t]](r)}}(t)}n.setTheme=function(e){if("string"==typeof e)try{return n.themes[e]=r(388)(e),h(n.themes[e]),n.themes[e]}catch(e){return console.log(e),e}else h(e)};var f=function(e,t){var r=t.split("");return(r=r.map(e)).join("")};for(var m in n.trap=r(389),n.zalgo=r(390),n.maps={},n.maps.america=r(391),n.maps.zebra=r(392),n.maps.rainbow=r(393),n.maps.random=r(394),n.maps)!function(e){n[e]=function(t){return f(n.maps[e],t)}}(m);o(n,function(){var e={};return Object.keys(u).forEach((function(t){e[t]={get:function(){return a([t])}}})),e}())},function(e,t,r){var n=r(21),i=r(1),o=t.Transport=function(e){n.EventEmitter.call(this),e=e||{},this.silent=e.silent||!1,this.raw=e.raw||!1,this.name=e.name||this.name,this.formatter=e.formatter,this.level=e.level,this.handleExceptions=e.handleExceptions||!1,this.exceptionsLevel=e.exceptionsLevel||"error",this.humanReadableUnhandledException=e.humanReadableUnhandledException||!1};i.inherits(o,n.EventEmitter),o.prototype.formatQuery=function(e){return e},o.prototype.normalizeQuery=function(e){return(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until)),e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from)),e.order=e.order||"desc",e.fields=e.fields,e},o.prototype.formatResults=function(e,t){return e},o.prototype.logException=function(e,t,r){var n,i=this;if(this.silent)return r();function o(){n||(n=!0,i.removeListener("logged",o),i.removeListener("error",o),r())}this.once("logged",o),this.once("error",o),this.log(i.exceptionsLevel,e,t,(function(){}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ValidatorResults=class{constructor(){this.errors=new Array}append(e){this.errors.push(e)}concat(e){this.errors=this.errors.concat(e.get())}get(){return this.errors}get numErrors(){return this.errors.filter(e=>"error"===e.level).length}get hasError(){return this.numErrors>0}get numWarnings(){return this.errors.filter(e=>"warning"===e.level).length}get hasWarning(){return this.numWarnings>0}}},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,r)}));case 4:return process.nextTick((function(){e.call(null,t,r,n)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},function(e,t,r){var n=r(37),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n=r(48),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var o=r(75);o.inherits=r(24);var s=r(204),a=r(115);o.inherits(d,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=a.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";const n=r(53),{LEVEL:i,MESSAGE:o}=r(2);n.enabled=!0;const s=/\s+/;class a{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce((t,r)=>(t[r]=s.test(e[r])?e[r].split(s):e[r],t),{});return a.allColors=Object.assign({},a.allColors||{},t),a.allColors}addColors(e){return a.addColors(e)}colorize(e,t,r){if(void 0===r&&(r=t),!Array.isArray(a.allColors[e]))return n[a.allColors[e]](r);for(let t=0,i=a.allColors[e].length;t<i;t++)r=n[a.allColors[e][t]](r);return r}transform(e,t){return t.all&&"string"==typeof e[o]&&(e[o]=this.colorize(e[i],e.level,e[o])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=e=>new a(e),e.exports.Colorizer=e.exports.Format=a},function(e,t,r){var n=r(211);e.exports=n},function(e,t,r){"use strict";var n=r(38).Colorizer;e.exports=function(e){return n.addColors(e.colors||e),e}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(2),s=o.configs,a=o.LEVEL,c=o.MESSAGE,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:s.npm.levels};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}var t,r,o;return t=e,o=[{key:"getLongestLevel",value:function(e){var t=Object.keys(e).map((function(e){return e.length}));return Math.max.apply(Math,n(t))}},{key:"paddingForLevel",value:function(e,t,r){var n=r+1-e.length,i=Math.floor(n/t.length);return"".concat(t).concat(t.repeat(i)).slice(0,n)}},{key:"paddingForLevels",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=e.getLongestLevel(t);return Object.keys(t).reduce((function(t,i){return t[i]=e.paddingForLevel(i,r,n),t}),{})}}],(r=[{key:"transform",value:function(e,t){return e.message="".concat(this.paddings[e[a]]).concat(e.message),e[c]&&(e[c]="".concat(this.paddings[e[a]]).concat(e[c])),e}}])&&i(t.prototype,r),o&&i(t,o),e}();e.exports=function(e){return new u(e)},e.exports.Padder=e.exports.Format=u},function(e,t,r){var n=r(238),i=r(143);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var n,i=r(241),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(e){return s&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return a(e)?(0,o.default)(e):e},t.isAsync=a},function(e,t,r){"use strict";var n=r(271),i=r(279),o=r(281),s=r(1),a=r(284).isatty(1),c=process.stdout;function u(e,t){return i(e)?((t=t||{}).colors="colors"in t?t.colors:a,t.ansi=t.colors?o(e,n(e)):e,t.stream=t.stream||c,Array.isArray(t.stream)||(t.stream=[t.stream]),function(e){e instanceof Error&&(e=e.stack||e.message||e),e=[t.ansi," ",e].join(""),e=s.format.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))+"\n",t.stream.forEach((function(t){t.write(e)}))}):function(){}}u.to=function(e){return c=e,u},e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(3),o=r(4),s=r(5),a=r(6);var c;!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(c=t.SearchDirection||(t.SearchDirection={}));class u{constructor(e,t,r="",{isRegex:n=!1}={},i){this.previousMode=s.ModeName.Normal,this._matchRanges=[],this._searchDirection=c.Forward,this.needle="",this._searchString="",this._searchDirection=e,this._searchCursorStartPosition=t,this.isRegex=n,this.searchString=r,this.previousMode=i}get matchRanges(){return this._matchRanges}get searchCursorStartPosition(){return this._searchCursorStartPosition}get searchDirection(){return this._searchDirection}get searchString(){return this._searchString}set searchString(e){if(this._searchString!==e){this._searchString=e;const t=this.needle;this.needle=e,this.offset=void 0;const r=this.searchDirection===c.Backward?e.split("?"):e.split("/");if(r.length>1){this.needle=r[0];const e=Number(r[1]);isNaN(e)?/b(\+-)?[0-9]*/.test(r[1])?this.offset={type:"beginning",num:Number(r[1].slice(1))}:/e(\+-)?[0-9]*/.test(r[1])&&(this.offset={type:"end",num:Number(r[1].slice(1))}):this.offset={type:"line",num:e}}this.needle!==t&&this._recalculateSearchRanges({forceRecalc:!0})}}_recalculateSearchRanges({forceRecalc:e}={}){const t=this.needle;if(""!==t&&a.TextEditor.isActive&&(this._cachedDocumentName!==a.TextEditor.getDocumentName()||this._cachedDocumentVersion!==a.TextEditor.getDocumentVersion()||e)){this._cachedDocumentVersion=a.TextEditor.getDocumentVersion(),this._cachedDocumentName=a.TextEditor.getDocumentName(),this._matchRanges=[];let e=i.configuration.ignorecase;e&&i.configuration.smartcase&&/[A-Z]/.test(t)&&(e=!1);let r=t.match(u.caseOverrideRegex),s=t;r&&(s=t.replace(u.caseOverrideRegex,""),e="c"===r[0][1]),this.isRegex||(s=t.replace(u.specialCharactersRegex,"\\$&"));const c=e?"gim":"gm";let l;try{l=new RegExp(s,c)}catch(e){s=t.replace(u.specialCharactersRegex,"\\$&"),l=new RegExp(s,c)}const d=new o.Position(a.TextEditor.getLineCount()-1,0).getLineEndIncludingEOL(),h=a.TextEditor.getText(new n.Range(new o.Position(0,0),d)),f=h.split("\n").map(e=>e.length+1);let m=[],p=0;for(const e of f)m.push(p),p+=e;const g=(e,t,r,n)=>{const i=Math.floor((t+r)/2);return t===r-1?new o.Position(t,e-n[i]):n[i]>e?g(e,t,i,n):g(e,i,r,n)},v=n.window.activeTextEditor.selection,y=m[Math.min(v.start.line,v.end.line)]+v.active.character;l.lastIndex=y;let w=l.exec(h),x=!1;do{if(this._matchRanges.length>=u.MAX_SEARCH_RANGES)break;if(w||x||(l.lastIndex=0,x=!0,w=l.exec(h)),!w)break;this._matchRanges.push(new n.Range(g(w.index,0,m.length,m),g(w.index+w[0].length,0,m.length,m))),w.index===l.lastIndex&&l.lastIndex++,(w=l.exec(h))||x||(l.lastIndex=0,x=!0,w=l.exec(h))}while(w&&!(x&&w.index>=y));this._matchRanges.sort((e,t)=>e.start.line<t.start.line||e.start.line===t.start.line&&e.start.character<t.start.character?-1:1)}}getNextSearchMatchPosition(e,t=1){const{start:r,end:n,match:i,index:s}=this.getNextSearchMatchRange(e,t);let a=r;return this.offset&&("line"===this.offset.type?a=r.add(o.PositionDiff.NewBOLDiff(this.offset.num)):"beginning"===this.offset.type?a=r.getOffsetThroughLineBreaks(this.offset.num):"end"===this.offset.type&&(a=n.getOffsetThroughLineBreaks(this.offset.num-1))),{pos:a,match:i,index:s}}getNextSearchMatchRange(e,t=1){if(this._recalculateSearchRanges(),0===this._matchRanges.length)return{start:e,end:e,match:!1,index:-1};if(t*this._searchDirection===c.Forward){for(let[t,r]of this._matchRanges.entries())if(r.start.compareTo(e)>0)return{start:o.Position.FromVSCodePosition(r.start),end:o.Position.FromVSCodePosition(r.end),match:!0,index:t};if(i.configuration.wrapscan){const e=this._matchRanges[0];return{start:o.Position.FromVSCodePosition(e.start),end:o.Position.FromVSCodePosition(e.end),match:!0,index:0}}return{start:e,end:e,match:!0,index:this._matchRanges.length-1}}for(let[t,r]of this._matchRanges.slice(0).reverse().entries())if(r.start.compareTo(e)<0)return{start:o.Position.FromVSCodePosition(r.start),end:o.Position.FromVSCodePosition(r.end),match:!0,index:this._matchRanges.length-t-1};if(i.configuration.wrapscan){const e=this._matchRanges[this._matchRanges.length-1];return{start:o.Position.FromVSCodePosition(e.start),end:o.Position.FromVSCodePosition(e.end),match:!0,index:this._matchRanges.length-1}}return{start:e,end:e,match:!0,index:0}}getSearchMatchRangeOf(e){if(this._recalculateSearchRanges(),0===this._matchRanges.length)return{start:e,end:e,match:!1,index:-1};for(let[t,r]of this._matchRanges.entries())if(r.start.compareTo(e)<=0&&r.end.compareTo(e)>0)return{start:o.Position.FromVSCodePosition(r.start),end:o.Position.FromVSCodePosition(r.end),match:!0,index:t};return{start:e,end:e,match:!1,index:-1}}}t.SearchState=u,u.MAX_SEARCH_RANGES=1e3,u.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,u.caseOverrideRegex=/\\[Cc]/g},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(15),s=r(7);t.QuitCommand=class extends s.CommandBase{constructor(e){super(),this._name="quit",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,(function*(){if(this.activeTextEditor.document.isDirty&&!this.arguments.bang)throw o.VimError.fromCode(o.ErrorCode.E37);this._arguments.quitAll?yield i.commands.executeCommand("workbench.action.closeAllEditors"):this.arguments.bang?yield i.commands.executeCommand("workbench.action.revertAndCloseActiveEditor"):yield i.commands.executeCommand("workbench.action.closeActiveEditor")}))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(302),o=r(0),s=r(171),a=r(5),c=r(8),u=r(27),l=r(15),d=r(3),h=r(14),f=r(29);t.commandLine=new class{constructor(){this._logger=c.Logger.get("CommandLine"),this._commandLineHistoryIndex=0,this.lastKeyPressed="",this.autoCompleteIndex=0,this.autoCompleteItems=[],this.preCompleteCharacterPos=0,this.preCompleteCommand="",this.previousMode=a.ModeName.Normal,this._history=new s.CommandLineHistory}get commandlineHistoryIndex(){return this._commandLineHistoryIndex}set commandlineHistoryIndex(e){this._commandLineHistoryIndex=e}get historyEntries(){return this._history.get()}load(){return n(this,void 0,void 0,(function*(){return this._history.load()}))}Run(e,t){return n(this,void 0,void 0,(function*(){if(e&&0!==e.length)if(e&&":"===e[0]&&(e=e.slice(1)),"help".startsWith(e.split(/\s/)[0]))u.StatusBar.Set(":help Not supported.",t.currentMode,t.isRecordingMacro,!0);else{if(this._history.add(e),this._commandLineHistoryIndex=this._history.get().length,!e.startsWith("reg")){let t=new f.RecordedState;t.registerName=":",t.commandList=e.split(""),h.Register.putByKey(t,":",void 0,!0)}try{const r=i.parse(e);if(d.configuration.enableNeovim&&r.command&&r.command.neovimCapable()){const r=yield t.nvim.run(t,e);u.StatusBar.Set(r,t.currentMode,t.isRecordingMacro,!0)}else yield r.execute(t.editor,t)}catch(r){r instanceof l.VimError?r.code===l.ErrorCode.E492&&d.configuration.enableNeovim?yield t.nvim.run(t,e):u.StatusBar.Set(`${r.toString()}. ${e}`,t.currentMode,t.isRecordingMacro,!0):this._logger.error(`Error executing cmd=${e}. err=${r}.`)}}}))}PromptAndRun(e,t){return n(this,void 0,void 0,(function*(){if(!o.window.activeTextEditor)return void this._logger.debug("No active document");let r=yield o.window.showInputBox(this.getInputBoxOptions(e));yield this.Run(r,t)}))}getInputBoxOptions(e){return{prompt:"Vim command line",value:e,ignoreFocusOut:!1,valueSelection:[e.length,e.length]}}ShowHistory(e,t){return n(this,void 0,void 0,(function*(){if(!o.window.activeTextEditor)return this._logger.debug("No active document."),"";return this._history.add(e),yield o.window.showQuickPick(this._history.get().slice().reverse(),{placeHolder:"Vim command history",ignoreFocusOut:!1})}))}}},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),s=r(18),a=r(5),c=r(14),u=r(6),l=r(11),d=r(34),h=r(63),f=r(20);class m extends d.BaseMovement{constructor(){super(...arguments),this.modes=[a.ModeName.Normal,a.ModeName.Visual,a.ModeName.VisualBlock]}execActionForOperator(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.execAction(e,t);return r.stop=new o.Position(r.stop.line,r.stop.character+1),r}))}}t.TextObjectMovement=m;let p=class extends m{constructor(){super(...arguments),this.keys=["a","w"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r,n;const i=u.TextEditor.getCharAt(e);return/\s/.test(i)?(r=e.getLastWordEnd().getRight(),n=e.getCurrentWordEnd()):((n=e.getWordRight()).isEqual(n.getFirstLineNonBlankChar())&&(n=n.getLineBegin()),r=(n=n.getLeftThroughLineBreaks().getLeftIfEOL()).isEqual(e.getCurrentWordEnd(!0))&&!e.getWordLeft(!0).isEqual(e.getFirstLineNonBlankChar())&&0===t.recordedState.count?e.getLastWordEnd().getRight():e.getWordLeft(!0)),t.currentMode!==a.ModeName.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getWordLeft(!0):e.getLastWordEnd().getRight())),{start:r,stop:n}}))}};p=n([l.RegisterAction],p),t.SelectWord=p;let g=class extends m{constructor(){super(...arguments),this.keys=["a","W"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r,n;const i=u.TextEditor.getLineAt(e).text[e.character];if(/\s/.test(i))r=e.getLastBigWordEnd().getRight(),n=e.getCurrentBigWordEnd();else{const i=e.getBigWordRight();(i.line>e.line||i.isAtDocumentEnd())&&0===t.recordedState.count?(r=e.getLastBigWordEnd().isLineBeginning()?e.getLastBigWordEnd():e.getLastBigWordEnd().getRight(),n=e.getLineEnd()):(i.isEqual(i.getFirstLineNonBlankChar())||i.isLineEnd())&&0===t.recordedState.count?(r=e.getLastWordEnd().getRight(),n=e.getLineEnd()):(r=e.getBigWordLeft(!0),n=e.getBigWordRight().getLeft())}return t.currentMode!==a.ModeName.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getBigWordLeft():e.getLastBigWordEnd().getRight())),{start:r,stop:n}}))}};g=n([l.RegisterAction],g),t.SelectABigWord=g;let v=class extends h.ExpandingSelection{constructor(){super(...arguments),this.keys=["a","f"],this.modes=[a.ModeName.Visual,a.ModeName.VisualLine]}execAction(e,t){return i(this,void 0,void 0,(function*(){const r=[new h.MoveADoubleQuotes,new h.MoveASingleQuotes,new h.MoveABacktick,new h.MoveAClosingCurlyBrace,new h.MoveAParentheses,new h.MoveASquareBracket,new h.MoveAroundTag];let n=[];for(const i of r){const r=new o.Position(e.line,e.character),s=new o.Position(t.cursorStartPosition.line,t.cursorStartPosition.character);n.push(yield i.execAction(r,t)),t.cursorStartPosition=s}n=n.filter(e=>!e.failed);let i=void 0;for(const e of n){const r=new s.Range(t.cursorStartPosition,t.cursorStopPosition);if(e.failed)continue;const n=s.Range.FromIMovement(e);let o=void 0;if(n.start.isBefore(r.start)&&n.stop.isAfter(r.stop)&&(i?n.start.isAfter(i.start)&&n.stop.isBefore(i.stop)&&(o=n):o=n),o){o.equals(new s.Range(t.cursorStartPosition,t.cursorStopPosition))||t.currentMode===a.ModeName.VisualLine&&o.start.line===t.cursorStartPosition.line&&o.stop.line===t.cursorStopPosition.line||(i=o)}}return i?(t.cursorStartPosition=new o.Position(i.start.line,i.start.character),t.cursorStopPosition=new o.Position(i.stop.line,i.stop.character),t.recordedState.operatorPositionDiff=void 0,{start:i.start,stop:i.stop}):{start:t.cursorStartPosition,stop:t.cursorStopPosition}}))}};v=n([l.RegisterAction],v),t.SelectAnExpandingBlock=v;let y=class extends m{constructor(){super(...arguments),this.modes=[a.ModeName.Normal,a.ModeName.Visual],this.keys=["i","w"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r,n;const i=u.TextEditor.getLineAt(e).text[e.character];return/\s/.test(i)?(r=e.getLastWordEnd().getRight(),n=e.getWordRight().getLeftThroughLineBreaks()):(r=e.getWordLeft(!0),n=e.getCurrentWordEnd(!0)),t.currentMode!==a.ModeName.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getLastWordEnd().getRight():e.getWordLeft(!0))),{start:r,stop:n}}))}};y=n([l.RegisterAction],y),t.SelectInnerWord=y;let w=class extends m{constructor(){super(...arguments),this.modes=[a.ModeName.Normal,a.ModeName.Visual],this.keys=["i","W"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r,n;const i=u.TextEditor.getLineAt(e).text[e.character];return/\s/.test(i)?(r=e.getLastBigWordEnd().getRight(),n=e.getBigWordRight().getLeft()):(r=e.getBigWordLeft(!0),n=e.getCurrentBigWordEnd(!0)),t.currentMode!==a.ModeName.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getLastBigWordEnd().getRight():e.getBigWordLeft())),{start:r,stop:n}}))}};w=n([l.RegisterAction],w),t.SelectInnerBigWord=w;let x=class extends m{constructor(){super(...arguments),this.keys=["a","s"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r,n;const i=e.getSentenceBegin({forward:!1}),o=i.getCurrentSentenceEnd();if(o.isBefore(e))r=o.getRight(),n=i.getSentenceBegin({forward:!0}).getCurrentSentenceEnd();else{const e=i.getSentenceBegin({forward:!0});e.isEqual(i.getCurrentSentenceEnd())?(r=i.getSentenceBegin({forward:!1}).getCurrentSentenceEnd().getRight(),n=e):(r=i,n=e.getLeft())}return t.currentMode!==a.ModeName.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=o.isAfter(t.cursorStopPosition)?i.getSentenceBegin({forward:!1}).getCurrentSentenceEnd().getRight():i)),{start:r,stop:n}}))}};x=n([l.RegisterAction],x),t.SelectSentence=x;let b=class extends m{constructor(){super(...arguments),this.keys=["i","s"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r,n;const i=e.getSentenceBegin({forward:!1}),o=i.getCurrentSentenceEnd();return o.isBefore(e)?(r=o.getRight(),n=i.getSentenceBegin({forward:!0}).getLeft()):(r=i,n=o),t.currentMode!==a.ModeName.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=o.isAfter(t.cursorStopPosition)?i:o.getRight())),{start:r,stop:n}}))}};b=n([l.RegisterAction],b),t.SelectInnerSentence=b;let C=class extends m{constructor(){super(...arguments),this.keys=["a","p"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r;t.currentRegisterMode=c.RegisterMode.LineWise;const n=e.getCurrentParagraphBeginning(!0);r=e.isLineWhite()?e.getCurrentParagraphBeginning(!0).getCurrentParagraphEnd(!0):n.isLineBeginning()&&n.isLineEnd()?n.getRightThroughLineBreaks():n;let i=e.getCurrentParagraphEnd(!0);for(;i.line<u.TextEditor.getLineCount()-1&&i.getDown(0).isLineWhite();)i=i.getDown(0);return{start:r,stop:i}}))}};C=n([l.RegisterAction],C),t.SelectParagraph=C;let M=class extends m{constructor(){super(...arguments),this.keys=["i","p"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r,n;if(t.currentRegisterMode=c.RegisterMode.LineWise,e.isLineWhite()){for(r=e.getLineBegin(),n=e.getLineEnd();r.line>0&&r.getUp(0).isLineWhite();)r=r.getUp(0);for(;n.line<u.TextEditor.getLineCount()-1&&n.getDown(0).isLineWhite();)n=n.getDown(0)}else{const t=e.getCurrentParagraphBeginning(!0);for(n=e.getCurrentParagraphEnd(!0),r=t.isLineWhite()?t.getRightThroughLineBreaks():t;n.line>0&&n.isLineWhite();)n=n.getUp(0).getLineEnd()}return{start:r,stop:n}}))}};M=n([l.RegisterAction],M),t.SelectInnerParagraph=M;class S extends m{constructor(){super(...arguments),this.setsDesiredColumnToEOL=!0,this.includeLineAbove=!1,this.includeLineBelow=!1}execAction(e,t){return i(this,void 0,void 0,(function*(){const r=t.recordedState.operator instanceof f.ChangeOperator,n=S.findFirstValidLine(e),i=u.TextEditor.getLineAt(new o.Position(n,0)).firstNonWhitespaceCharacterIndex;let s=S.findRangeStartOrEnd(n,i,-1),c=S.findRangeStartOrEnd(n,i,1);this.includeLineAbove&&(s-=1),s<0&&(s=0),this.includeLineBelow&&(c+=1),c>u.TextEditor.getLineCount()-1&&(c=u.TextEditor.getLineCount()-1);let l,d=0;return r&&(d=u.TextEditor.getLineAt(new o.Position(s,0)).firstNonWhitespaceCharacterIndex),c===u.TextEditor.getLineCount()-1||t.currentMode===a.ModeName.Visual?l=u.TextEditor.getLineMaxColumn(c):(l=0,c++),{start:new o.Position(s,d),stop:new o.Position(c,l)}}))}execActionForOperator(e,t){return i(this,void 0,void 0,(function*(){return this.execAction(e,t)}))}static findFirstValidLine(e){for(let t=e.line;t>=0;t--){if(!u.TextEditor.getLineAt(new o.Position(t,0)).isEmptyOrWhitespace)return t}return e.line}static findRangeStartOrEnd(e,t,r){let n=e,i=e;const s=1===r?u.TextEditor.getLineCount():-1;for(;n!==s;n+=r){const e=u.TextEditor.getLineAt(new o.Position(n,0)),r=e.isEmptyOrWhitespace;if(e.firstNonWhitespaceCharacterIndex<t&&!r)break;i=n}return i}}let E=class extends S{constructor(){super(...arguments),this.keys=["i","i"]}};E=n([l.RegisterAction],E);let k=class extends S{constructor(){super(...arguments),this.keys=["a","i"],this.includeLineAbove=!0}};k=n([l.RegisterAction],k);let _=class extends S{constructor(){super(...arguments),this.keys=["a","I"],this.includeLineAbove=!0,this.includeLineBelow=!0}};_=n([l.RegisterAction],_)},function(e,t,r){"use strict";var n,i,o,s,a,c=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const l=r(0),d=r(20),h=r(6),f=r(5),m=r(102),p=r(4),g=r(339),v=r(11),y=r(14),w=r(172),x=r(340),b=r(3),C=r(341),M=r(15),S=r(42),E=r(36),k=r(25),_=r(34),P=r(180);class A extends _.BaseMovement{constructor(){super(...arguments),this.selectionType=_.SelectionType.Expanding}adjustPosition(e,t,r){return r||(e=t.stop),e}}t.ExpandingSelection=A;class R extends _.BaseMovement{constructor(){super(...arguments),this.modes=[f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine],this.value=1}execAction(e,t){return u(this,void 0,void 0,(function*(){if(yield l.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==f.ModeName.Normal,by:this.by,value:this.value}),t.currentMode===f.ModeName.Normal)return p.Position.FromVSCodePosition(t.editor.selection.active);{let e=p.Position.FromVSCodePosition(t.editor.selection.start),r=p.Position.FromVSCodePosition(t.editor.selection.end),n=p.Position.FromVSCodePosition(t.editor.selection.active);return e.isEqual(n)&&(e,[e,r]=[r,e],e=e.getLeft()),{start:e,stop:r}}}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){return yield l.commands.executeCommand("cursorMove",{to:this.movementType,select:!0,by:this.by,value:this.value}),{start:p.Position.FromVSCodePosition(t.editor.selection.start),stop:p.Position.FromVSCodePosition(t.editor.selection.end)}}))}}class N extends R{constructor(){super(...arguments),this.movementType="up",this.by="wrappedLine",this.value=1}}t.MoveUpByScreenLine=N;class T extends R{constructor(){super(...arguments),this.movementType="down",this.by="wrappedLine",this.value=1}}class L extends R{constructor(){super(...arguments),this.doesntChangeDesiredColumn=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){let r=t.desiredColumn,n=t.editor.selection.active.line;if(t.currentMode!==f.ModeName.Normal){let r=p.Position.FromVSCodePosition(t.editor.selection.start);("down"===this.movementType&&e.line>r.line||"up"===this.movementType&&e.line<n)&&(yield l.commands.executeCommand("cursorMove",{to:"left",select:!0,by:"character",value:1}))}if(yield l.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==f.ModeName.Normal,by:this.by,value:this.value}),t.currentMode===f.ModeName.Normal){let e=p.Position.FromVSCodePosition(t.editor.selection.active);return n!==e.line&&(e=e.withColumn(r)),e}{let i=p.Position.FromVSCodePosition(t.editor.selection.start),o=p.Position.FromVSCodePosition(t.editor.selection.end),s=p.Position.FromVSCodePosition(t.editor.selection.active);return i.isEqual(s)&&!i.isEqual(o)&&([i,o]=[o,i],n!==i.line&&(i=i.getLeft())),e.line!==o.line&&(o=o.withColumn(r)),{start:i,stop:o}}}))}}class B extends L{constructor(){super(...arguments),this.movementType="down",this.by="line",this.value=1}execAction(e,t){return u(this,void 0,void 0,(function*(){if(e.line>=h.TextEditor.getLineCount()-1)return e;let r,n=e.line,i=e.character;const o=t.desiredColumn,s=new T;do{const o=n!==(r=(r=yield s.execAction(e,t))instanceof p.Position?r:r.stop).line,a=i!==r.character;if(o||!a)break;i=r.character,n=r.line}while(r.line===e.line);return r.character!==o&&(r=new p.Position(r.line,o)),r}))}}let F=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["j"],this.doesntChangeDesiredColumn=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){return b.configuration.foldfix&&t.currentMode!==f.ModeName.VisualBlock?(new B).execAction(e,t):e.getDown(t.desiredColumn)}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){return t.currentRegisterMode=y.RegisterMode.LineWise,e.getDown(e.getLineEnd().character)}))}};F=c([v.RegisterAction],F);let $=class extends F{constructor(){super(...arguments),this.keys=["<down>"]}};$=c([v.RegisterAction],$);let O=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["k"],this.doesntChangeDesiredColumn=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){return b.configuration.foldfix&&t.currentMode!==f.ModeName.VisualBlock?(new D).execAction(e,t):e.getUp(t.desiredColumn)}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){return t.currentRegisterMode=y.RegisterMode.LineWise,e.getUp(e.getLineEnd().character)}))}};O=c([v.RegisterAction],O);let D=class extends L{constructor(){super(...arguments),this.movementType="up",this.by="line",this.value=1}execAction(e,t){return u(this,void 0,void 0,(function*(){if(0===e.line)return e;let r;const n=t.desiredColumn,i=new N;do{r=(r=yield i.execAction(e,t))instanceof p.Position?r:r.stop}while(r.line===e.line);return r.character!==n&&(r=new p.Position(r.line,n)),r}))}};D=c([v.RegisterAction],D);let j=class extends O{constructor(){super(...arguments),this.keys=["<up>"]}};j=c([v.RegisterAction],j);let I=class extends _.BaseMovement{constructor(){super(...arguments),this.modes=[f.ModeName.Replace],this.keys=[["<up>"],["<down>"],["<left>"],["<right>"]]}execAction(e,t){return u(this,void 0,void 0,(function*(){let r=e;switch(this.keysPressed[0]){case"<up>":r=yield(new j).execAction(e,t);break;case"<down>":r=yield(new $).execAction(e,t);break;case"<left>":r=yield(new Y).execAction(e,t);break;case"<right>":r=yield(new X).execAction(e,t)}return t.replaceState=new w.ReplaceState(r),r}))}};I=c([v.RegisterAction],I);let V=class extends I{constructor(){super(...arguments),this.keys=[["<up>"]]}};V=c([v.RegisterAction],V);let W=class extends I{constructor(){super(...arguments),this.keys=[["<down>"]]}};W=c([v.RegisterAction],W);let H=class extends I{constructor(){super(...arguments),this.keys=[["<left>"]]}};H=c([v.RegisterAction],H);let q=class extends I{constructor(){super(...arguments),this.keys=[["<right>"]]}};q=c([v.RegisterAction],q);let U=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["n"],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){const r=k.globalState.searchState;if(!r||""===r.searchString)return e;let n;return k.globalState.hl=!0,n=e.getRight().isEqual(e.getLineEnd())?r.getNextSearchMatchPosition(e.getRight()):r.getNextSearchMatchPosition(e),S.ReportSearch(n.index,r.matchRanges.length,t),n.pos}))}};U=c([v.RegisterAction],U);let z=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["N"],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){const r=k.globalState.searchState;if(!r||""===r.searchString)return e;k.globalState.hl=!0;const n=r.getNextSearchMatchPosition(e,-1);return S.ReportSearch(n.index,r.matchRanges.length,t),n.pos}))}};z=c([v.RegisterAction],z);let K=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["'","<character>"],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){const e=this.keysPressed[1],r=t.historyTracker.getMark(e);if(t.currentRegisterMode=y.RegisterMode.LineWise,null==r)throw M.VimError.fromCode(M.ErrorCode.E20);return r.position.getFirstLineNonBlankChar()}))}};K=c([v.RegisterAction],K),t.MarkMovementBOL=K;let J=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["`","<character>"],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){const e=this.keysPressed[1],r=t.historyTracker.getMark(e);if(null==r)throw M.VimError.fromCode(M.ErrorCode.E20);return r.position}))}};J=c([v.RegisterAction],J),t.MarkMovement=J;let G=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["h"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return C.shouldWrapKey(t,this.keysPressed)?e.getLeftThroughLineBreaks():e.getLeft()}))}};G=c([v.RegisterAction],G),t.MoveLeft=G;let Y=class extends G{constructor(){super(...arguments),this.modes=[f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine,f.ModeName.VisualBlock],this.keys=["<left>"]}};Y=c([v.RegisterAction],Y);let Q=class extends _.BaseMovement{constructor(){super(...arguments),this.modes=[f.ModeName.Normal],this.keys=["<BS>"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getLeftThroughLineBreaks()}))}};Q=c([v.RegisterAction],Q);let Z=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["l"]}execAction(e,t){return u(this,void 0,void 0,(function*(){if(C.shouldWrapKey(t,this.keysPressed)){const r=t.currentMode===f.ModeName.Insert;return e.getRightThroughLineBreaks(r)}return e.getRight()}))}};Z=c([v.RegisterAction],Z);let X=class extends Z{constructor(){super(...arguments),this.modes=[f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine,f.ModeName.VisualBlock],this.keys=["<right>"]}};X=c([v.RegisterAction],X);let ee=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[" "]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getRightThroughLineBreaks()}))}};ee=c([v.RegisterAction],ee);let te=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["+"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return t.currentRegisterMode=y.RegisterMode.LineWise,e.getDownByCount(Math.max(r,1)).getFirstLineNonBlankChar()}))}};te=c([v.RegisterAction],te);let re=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["-"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return t.currentRegisterMode=y.RegisterMode.LineWise,e.getUpByCount(Math.max(r,1)).getFirstLineNonBlankChar()}))}};re=c([v.RegisterAction],re);let ne=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["_"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return e.getDownByCount(Math.max(r-1,0)).getFirstLineNonBlankChar()}))}};ne=c([v.RegisterAction],ne);let ie=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["|"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return new p.Position(e.line,Math.max(0,r-1))}))}};ie=c([v.RegisterAction],ie);let oe=n=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["f","<character>"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){if(b.configuration.sneakReplacesF){const n=yield new P.SneakForward(this.keysPressed.concat("\n"),this.isRepeat).execActionWithCount(e,t,r);return t.recordedState.operator&&!_.isIMovement(n)?n.getRight():n}r=r||1;const i=E.Notation.ToControlCharacter(this.keysPressed[1]);let o=e.findForwards(i,r);return o?(t.recordedState.operator&&(o=o.getRight()),this.isRepeat||t.recordedState.operator&&_.isIMovement(o)&&o.failed||(t.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),t.lastCommaRepeatableMovement=new se(this.keysPressed,!0)),o):{start:e,stop:e,failed:!0}}))}};oe=n=c([v.RegisterAction],oe);let se=i=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["F","<character>"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){if(b.configuration.sneakReplacesF)return new P.SneakBackward(this.keysPressed.concat("\n"),this.isRepeat).execActionWithCount(e,t,r);r=r||1;const n=E.Notation.ToControlCharacter(this.keysPressed[1]);let o=e.findBackwards(n,r);return o?(this.isRepeat||t.recordedState.operator&&_.isIMovement(o)&&o.failed||(t.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),t.lastCommaRepeatableMovement=new oe(this.keysPressed,!0)),o):{start:e,stop:e,failed:!0}}))}};se=i=c([v.RegisterAction],se);let ae=o=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["t","<character>"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){r=r||1;const n=E.Notation.ToControlCharacter(this.keysPressed[1]);let i=e.tilForwards(n,r);return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=e.tilForwards(n,2)),i?(t.recordedState.operator&&(i=i.getRight()),this.isRepeat||t.recordedState.operator&&_.isIMovement(i)&&i.failed||(t.lastSemicolonRepeatableMovement=new o(this.keysPressed,!0),t.lastCommaRepeatableMovement=new ce(this.keysPressed,!0)),i):{start:e,stop:e,failed:!0}}))}};ae=o=c([v.RegisterAction],ae);let ce=s=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["T","<character>"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){r=r||1;const n=E.Notation.ToControlCharacter(this.keysPressed[1]);let i=e.tilBackwards(n,r);return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=e.tilBackwards(n,2)),i?(this.isRepeat||t.recordedState.operator&&_.isIMovement(i)&&i.failed||(t.lastSemicolonRepeatableMovement=new s(this.keysPressed,!0),t.lastCommaRepeatableMovement=new ae(this.keysPressed,!0)),i):{start:e,stop:e,failed:!0}}))}};ce=s=c([v.RegisterAction],ce);let ue=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[";"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){const n=t.lastSemicolonRepeatableMovement;return n?n.execActionWithCount(e,t,r):e}))}};ue=c([v.RegisterAction],ue);let le=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[","]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){const n=t.lastCommaRepeatableMovement;return n?n.execActionWithCount(e,t,r):e}))}};le=c([v.RegisterAction],le);let de=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["$"],["<End>"],["<D-right>"]],this.setsDesiredColumnToEOL=!0}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return e.getDownByCount(Math.max(r-1,0)).getLineEnd()}))}};de=c([v.RegisterAction],de);let he=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["0"],["<Home>"],["<D-left>"]]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getLineBegin()}))}doesActionApply(e,t){return super.doesActionApply(e,t)&&0===e.recordedState.count}couldActionApply(e,t){return super.couldActionApply(e,t)&&0===e.recordedState.count}};he=c([v.RegisterAction],he);let fe=class extends R{constructor(){super(...arguments),this.keys=["g","0"],this.movementType="wrappedLineStart"}};fe=c([v.RegisterAction],fe);let me=class extends R{constructor(){super(...arguments),this.keys=["g","^"],this.movementType="wrappedLineFirstNonWhitespaceCharacter"}};me=c([v.RegisterAction],me);let pe=class extends R{constructor(){super(...arguments),this.keys=["g","$"],this.movementType="wrappedLineEnd"}};pe=c([v.RegisterAction],pe);let ge=class extends R{constructor(){super(...arguments),this.keys=["g","_"],this.movementType="wrappedLineLastNonWhitespaceCharacter"}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){r=r||1;const n=yield this.execAction(e,t),i=n;return n instanceof p.Position?n.getDownByCount(r-1):_.isIMovement(n)?{start:n.start,stop:n.stop.getDownByCount(r-1).getLeft()}:i.getDownByCount(r-1)}))}};ge=c([v.RegisterAction],ge);let ve=class extends R{constructor(){super(...arguments),this.keys=["g","m"],this.movementType="wrappedLineColumnCenter"}};ve=c([v.RegisterAction],ve);let ye=class extends L{constructor(){super(...arguments),this.modes=[f.ModeName.Insert,f.ModeName.Normal,f.ModeName.Visual],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="wrappedLine",this.value=1}};ye=c([v.RegisterAction],ye),t.MoveUpByScreenLineMaintainDesiredColumn=ye;let we=class extends L{constructor(){super(...arguments),this.modes=[f.ModeName.Insert,f.ModeName.Normal,f.ModeName.Visual],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="wrappedLine",this.value=1}};we=c([v.RegisterAction],we);let xe=class extends R{constructor(){super(...arguments),this.modes=[f.ModeName.VisualLine],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="line",this.value=1}};xe=c([v.RegisterAction],xe);let be=class extends R{constructor(){super(...arguments),this.modes=[f.ModeName.VisualLine],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="line",this.value=1}};be=c([v.RegisterAction],be);let Ce=class extends _.BaseMovement{constructor(){super(...arguments),this.modes=[f.ModeName.VisualBlock],this.keys=[["g","k"],["g","<up>"]],this.doesntChangeDesiredColumn=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getUp(t.desiredColumn)}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){return t.currentRegisterMode=y.RegisterMode.LineWise,e.getUp(e.getLineEnd().character)}))}};Ce=c([v.RegisterAction],Ce);let Me=class extends _.BaseMovement{constructor(){super(...arguments),this.modes=[f.ModeName.VisualBlock],this.keys=[["g","j"],["g","<down>"]],this.doesntChangeDesiredColumn=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getDown(t.desiredColumn)}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){return t.currentRegisterMode=y.RegisterMode.LineWise,e.getDown(e.getLineEnd().character)}))}};Me=c([v.RegisterAction],Me);let Se=class extends R{constructor(){super(...arguments),this.modes=[f.ModeName.Insert,f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine],this.keys=["z","h"],this.movementType="right",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Se=c([v.RegisterAction],Se);let Ee=class extends R{constructor(){super(...arguments),this.modes=[f.ModeName.Insert,f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine],this.keys=["z","l"],this.movementType="left",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Ee=c([v.RegisterAction],Ee);let ke=class extends R{constructor(){super(...arguments),this.modes=[f.ModeName.Insert,f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine],this.keys=["z","H"],this.movementType="right",this.by="halfLine",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};ke=c([v.RegisterAction],ke);let _e=class extends R{constructor(){super(...arguments),this.modes=[f.ModeName.Insert,f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine],this.keys=["z","L"],this.movementType="left",this.by="halfLine",this.value=1,this.isJump=!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};_e=c([v.RegisterAction],_e);let Pe=class extends R{constructor(){super(...arguments),this.keys=["H"],this.movementType="viewPortTop",this.by="line",this.value=1,this.isJump=!0}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return this.value=r<1?1:r,this.execAction(e,t)}))}};Pe=c([v.RegisterAction],Pe);let Ae=class extends R{constructor(){super(...arguments),this.keys=["L"],this.movementType="viewPortBottom",this.by="line",this.value=1,this.isJump=!0}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return this.value=r<1?1:r,this.execAction(e,t)}))}};Ae=c([v.RegisterAction],Ae);let Re=class extends R{constructor(){super(...arguments),this.keys=["M"],this.movementType="viewPortCenter",this.by="line",this.isJump=!0}};Re=c([v.RegisterAction],Re);let Ne=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["^"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getFirstLineNonBlankChar()}))}};Ne=c([v.RegisterAction],Ne);let Te=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["\n"]}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return t.currentRegisterMode=y.RegisterMode.LineWise,0===r&&r++,e.getDownByCount(r).getFirstLineNonBlankChar()}))}};Te=c([v.RegisterAction],Te);let Le=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["g","g"],this.isJump=!0}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){return 0===r?e.getDocumentBegin().getFirstLineNonBlankChar():(r>h.TextEditor.getLineCount()&&(r=h.TextEditor.getLineCount()),new p.Position(r-1,0).getFirstLineNonBlankChar())}))}};Le=c([v.RegisterAction],Le);let Be=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["G"],this.isJump=!0}execActionWithCount(e,t,r){return u(this,void 0,void 0,(function*(){let e;return e=0===r?new p.Position(h.TextEditor.getLineCount()-1,0):new p.Position(Math.min(r,h.TextEditor.getLineCount())-1,0),{start:t.cursorStartPosition,stop:e,registerMode:y.RegisterMode.LineWise}}))}};Be=c([v.RegisterAction],Be);let Fe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["w"]}execAction(e,t,r=!1){return u(this,void 0,void 0,(function*(){if(r&&!b.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof d.ChangeOperator){if(h.TextEditor.getLineAt(e).text.length<1)return e;const t=h.TextEditor.getLineAt(e).text[e.character];return" \t".includes(t)?e.getWordRight():e.getCurrentWordEnd(!0).getRight()}return e.getWordRight()}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){const r=yield this.execAction(e,t,!0);return r.line>e.line+1||r.line===e.line+1&&r.isFirstWordOfLine()?e.getLineEnd():r.isLineEnd()?new p.Position(r.line,r.character+1):r}))}};Fe=c([v.RegisterAction],Fe),t.MoveWordBegin=Fe;let $e=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["W"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return!b.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof d.ChangeOperator?e.getCurrentBigWordEnd().getRight():e.getBigWordRight()}))}};$e=c([v.RegisterAction],$e);let Oe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["e"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getCurrentWordEnd()}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){let t=e.getCurrentWordEnd();return new p.Position(t.line,t.character+1)}))}};Oe=c([v.RegisterAction],Oe);let De=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["E"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getCurrentBigWordEnd()}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){return e.getCurrentBigWordEnd().getRight()}))}};De=c([v.RegisterAction],De);let je=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["g","e"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getLastWordEnd()}))}};je=c([v.RegisterAction],je);let Ie=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["g","E"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getLastBigWordEnd()}))}};Ie=c([v.RegisterAction],Ie);let Ve=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["b"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getWordLeft()}))}};Ve=c([v.RegisterAction],Ve);let We=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["B"]}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getBigWordLeft()}))}};We=c([v.RegisterAction],We);let He=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["("],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getSentenceBegin({forward:!1})}))}};He=c([v.RegisterAction],He);let qe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[")"],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getSentenceBegin({forward:!0})}))}};qe=c([v.RegisterAction],qe);let Ue=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["}"],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){const r=e.isLineBeginning()&&t.currentMode===f.ModeName.Normal&&t.recordedState.operator;let n=e.getCurrentParagraphEnd();return t.currentRegisterMode=r?y.RegisterMode.LineWise:y.RegisterMode.AscertainFromCurrentMode,r?n.getLeftThroughLineBreaks(!0):n}))}};Ue=c([v.RegisterAction],Ue);let ze=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["{"],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getCurrentParagraphBeginning()}))}};ze=c([v.RegisterAction],ze);class Ke extends _.BaseMovement{constructor(){super(...arguments),this.modes=[f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){return e.getSectionBoundary({forward:this.forward,boundary:this.boundary})}))}}let Je=class extends Ke{constructor(){super(...arguments),this.keys=["]","]"],this.boundary="{",this.forward=!0}};Je=c([v.RegisterAction],Je);let Ge=class extends Ke{constructor(){super(...arguments),this.keys=["]","["],this.boundary="}",this.forward=!0}};Ge=c([v.RegisterAction],Ge);let Ye=class extends Ke{constructor(){super(...arguments),this.keys=["[","["],this.boundary="{",this.forward=!1}};Ye=c([v.RegisterAction],Ye);let Qe=class extends Ke{constructor(){super(...arguments),this.keys=["[","]"],this.boundary="}",this.forward=!1}};Qe=c([v.RegisterAction],Qe);let Ze=a=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["%"],this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){e=e.getLeftIfEOL();const t=h.TextEditor.getLineAt(e).text,r={start:e,stop:e,failed:!0};for(let n=e.character;n<t.length;n++){const i=m.PairMatcher.pairings[t[n]];if(i&&i.matchesWithPercentageMotion)return m.PairMatcher.nextPairedChar(new p.Position(e.line,n),t[n])||r}return r}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){const r=yield this.execAction(e,t);if(_.isIMovement(r)){if(r.failed)return r;throw new Error("Did not ever handle this case!")}return e.compareTo(r)>0?{start:r,stop:e.getRight()}:r.getRight()}))}execActionWithCount(e,t,r){const n=Object.create(null,{execActionWithCount:{get:()=>super.execActionWithCount}});return u(this,void 0,void 0,(function*(){if(Object.getPrototypeOf(this)===a.prototype){if(0===r)return t.recordedState.operator?this.execActionForOperator(e,t):this.execAction(e,t);if(r<0||r>100)return{start:e,stop:e,failed:!0};const n=Math.round(r*h.TextEditor.getLineCount()/100);return new p.Position(n-1,0).getFirstLineNonBlankChar()}return n.execActionWithCount.call(this,e,t,r)}))}};Ze=a=c([v.RegisterAction],Ze);class Xe extends A{constructor(){super(...arguments),this.modes=[f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualLine,f.ModeName.VisualBlock],this.includeSurrounding=!1,this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){const r=m.PairMatcher.pairings[this.charToMatch].match;let n=new p.Position(t.cursorStartPosition.line,t.cursorStartPosition.character);const i={start:n,stop:e,failed:!0};if(!this.includeSurrounding){const i=n.getLeftThroughLineBreaks();let o=e.getRightThroughLineBreaks();t.recordedState.operator&&(o=o.getLeftThroughLineBreaks());const s=h.TextEditor.getCharAt(i),a=h.TextEditor.getCharAt(o);s===this.charToMatch&&a===r&&(n=i,t.cursorStartPosition=i,e=o,t.cursorStopPosition=o)}let o,s=m.PairMatcher.nextPairedChar(n,r,t);if(void 0===s)return i;o=s.isAfterOrEqual(s.getLineEnd().getLeft())?new p.Position(s.line+1,0):new p.Position(s.line,s.character+1);let a=m.PairMatcher.nextPairedChar(e,this.charToMatch,t);return void 0===a?i:(this.includeSurrounding?t.currentMode!==f.ModeName.Visual&&(a=new p.Position(a.line,a.character+1)):(s=o,a.isInLeadingWhitespace()&&(a=a.getLineBegin()),t.currentMode===f.ModeName.Visual&&(a=a.getLeftThroughLineBreaks())),e.isBefore(s)&&(t.recordedState.operatorPositionDiff=s.subtract(e)),t.cursorStartPosition=s,{start:s,stop:a,diff:new p.PositionDiff(0,s===e?1:0)})}))}}t.MoveInsideCharacter=Xe;let et=class extends Xe{constructor(){super(...arguments),this.keys=["i","("],this.charToMatch="("}};et=c([v.RegisterAction],et);let tt=class extends Xe{constructor(){super(...arguments),this.keys=["i",")"],this.charToMatch="("}};tt=c([v.RegisterAction],tt);let rt=class extends Xe{constructor(){super(...arguments),this.keys=["i","b"],this.charToMatch="("}};rt=c([v.RegisterAction],rt);let nt=class extends Xe{constructor(){super(...arguments),this.keys=["a","("],this.charToMatch="(",this.includeSurrounding=!0}};nt=c([v.RegisterAction],nt),t.MoveAParentheses=nt;let it=class extends Xe{constructor(){super(...arguments),this.keys=["a",")"],this.charToMatch="(",this.includeSurrounding=!0}};it=c([v.RegisterAction],it);let ot=class extends Xe{constructor(){super(...arguments),this.keys=["a","b"],this.charToMatch="(",this.includeSurrounding=!0}};ot=c([v.RegisterAction],ot);let st=class extends Xe{constructor(){super(...arguments),this.keys=["i","{"],this.charToMatch="{"}};st=c([v.RegisterAction],st);let at=class extends Xe{constructor(){super(...arguments),this.keys=["i","}"],this.charToMatch="{"}};at=c([v.RegisterAction],at);let ct=class extends Xe{constructor(){super(...arguments),this.keys=["i","B"],this.charToMatch="{"}};ct=c([v.RegisterAction],ct);let ut=class extends Xe{constructor(){super(...arguments),this.keys=["a","{"],this.charToMatch="{",this.includeSurrounding=!0}};ut=c([v.RegisterAction],ut),t.MoveACurlyBrace=ut;let lt=class extends Xe{constructor(){super(...arguments),this.keys=["a","}"],this.charToMatch="{",this.includeSurrounding=!0}};lt=c([v.RegisterAction],lt),t.MoveAClosingCurlyBrace=lt;let dt=class extends Xe{constructor(){super(...arguments),this.keys=["a","B"],this.charToMatch="{",this.includeSurrounding=!0}};dt=c([v.RegisterAction],dt);let ht=class extends Xe{constructor(){super(...arguments),this.keys=["i","<"],this.charToMatch="<"}};ht=c([v.RegisterAction],ht);let ft=class extends Xe{constructor(){super(...arguments),this.keys=["i",">"],this.charToMatch="<"}};ft=c([v.RegisterAction],ft);let mt=class extends Xe{constructor(){super(...arguments),this.keys=["a","<"],this.charToMatch="<",this.includeSurrounding=!0}};mt=c([v.RegisterAction],mt),t.MoveACaret=mt;let pt=class extends Xe{constructor(){super(...arguments),this.keys=["a",">"],this.charToMatch="<",this.includeSurrounding=!0}};pt=c([v.RegisterAction],pt);let gt=class extends Xe{constructor(){super(...arguments),this.keys=["i","["],this.charToMatch="["}};gt=c([v.RegisterAction],gt);let vt=class extends Xe{constructor(){super(...arguments),this.keys=["i","]"],this.charToMatch="["}};vt=c([v.RegisterAction],vt);let yt=class extends Xe{constructor(){super(...arguments),this.keys=["a","["],this.charToMatch="[",this.includeSurrounding=!0}};yt=c([v.RegisterAction],yt),t.MoveASquareBracket=yt;let wt=class extends Xe{constructor(){super(...arguments),this.keys=["a","]"],this.charToMatch="[",this.includeSurrounding=!0}};wt=c([v.RegisterAction],wt);class xt extends _.BaseMovement{constructor(){super(...arguments),this.modes=[f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualBlock],this.includeSurrounding=!1,this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){const r=h.TextEditor.getLineAt(e).text,n=new g.QuoteMatcher(this.charToMatch,r);let i=n.findOpening(e.character),o=n.findClosing(i+1);if(o<i&&i===e.character&&(o=i,i=n.findOpening(o-1)),-1===i||-1===o||o===i||o<e.character)return{start:e,stop:e,failed:!0};let s=new p.Position(e.line,i),a=new p.Position(e.line,o);return this.includeSurrounding||(s=s.getRight(),a=a.getLeft()),e.isBefore(s)&&(t.recordedState.operatorPositionDiff=s.subtract(e)),{start:s,stop:a}}))}execActionForOperator(e,t){return u(this,void 0,void 0,(function*(){const r=yield this.execAction(e,t);return _.isIMovement(r)&&(r.failed?(t.recordedState.hasRunOperator=!1,t.recordedState.actionsRun=[]):r.stop=r.stop.getRight()),r}))}}t.MoveQuoteMatch=xt;let bt=class extends xt{constructor(){super(...arguments),this.keys=["i","'"],this.charToMatch="'",this.includeSurrounding=!1}};bt=c([v.RegisterAction],bt);let Ct=class extends xt{constructor(){super(...arguments),this.keys=["a","'"],this.charToMatch="'",this.includeSurrounding=!0}};Ct=c([v.RegisterAction],Ct),t.MoveASingleQuotes=Ct;let Mt=class extends xt{constructor(){super(...arguments),this.keys=["i",'"'],this.charToMatch='"',this.includeSurrounding=!1}};Mt=c([v.RegisterAction],Mt);let St=class extends xt{constructor(){super(...arguments),this.keys=["a",'"'],this.charToMatch='"',this.includeSurrounding=!0}};St=c([v.RegisterAction],St),t.MoveADoubleQuotes=St;let Et=class extends xt{constructor(){super(...arguments),this.keys=["i","`"],this.charToMatch="`",this.includeSurrounding=!1}};Et=c([v.RegisterAction],Et);let kt=class extends xt{constructor(){super(...arguments),this.keys=["a","`"],this.charToMatch="`",this.includeSurrounding=!0}};kt=c([v.RegisterAction],kt),t.MoveABacktick=kt;let _t=class extends Ze{constructor(){super(...arguments),this.keys=["[","("]}execAction(e,t){return u(this,void 0,void 0,(function*(){const t={start:e,stop:e,failed:!0},r=m.PairMatcher.nextPairedChar(e,")");return r||t}))}};_t=c([v.RegisterAction],_t);let Pt=class extends Ze{constructor(){super(...arguments),this.keys=["]",")"]}execAction(e,t){return u(this,void 0,void 0,(function*(){const r={start:e,stop:e,failed:!0},n=m.PairMatcher.nextPairedChar(e,"(");return n?t.recordedState.operator instanceof d.ChangeOperator||t.recordedState.operator instanceof d.DeleteOperator||t.recordedState.operator instanceof d.YankOperator?n.getLeftThroughLineBreaks():n:r}))}};Pt=c([v.RegisterAction],Pt);let At=class extends Ze{constructor(){super(...arguments),this.keys=["[","{"]}execAction(e,t){return u(this,void 0,void 0,(function*(){const t={start:e,stop:e,failed:!0},r=m.PairMatcher.nextPairedChar(e,"}");return r||t}))}};At=c([v.RegisterAction],At);let Rt=class extends Ze{constructor(){super(...arguments),this.keys=["]","}"]}execAction(e,t){return u(this,void 0,void 0,(function*(){const r={start:e,stop:e,failed:!0},n=m.PairMatcher.nextPairedChar(e,"{");return n?t.recordedState.operator instanceof d.ChangeOperator||t.recordedState.operator instanceof d.DeleteOperator||t.recordedState.operator instanceof d.YankOperator?n.getLeftThroughLineBreaks():n:r}))}};Rt=c([v.RegisterAction],Rt);class Nt extends A{constructor(){super(...arguments),this.modes=[f.ModeName.Normal,f.ModeName.Visual,f.ModeName.VisualBlock],this.includeTag=!1,this.isJump=!0}execAction(e,t){return u(this,void 0,void 0,(function*(){const r=h.TextEditor.getText(),n=h.TextEditor.getOffsetAt(e),i=new x.TagMatcher(r,n,t),o=new p.Position(t.cursorStartPosition.line,t.cursorStartPosition.character),s=i.findOpening(this.includeTag),a=i.findClosing(this.includeTag);if(void 0===s||void 0===a)return{start:o,stop:e,failed:!0};let c=s>=0?h.TextEditor.getPositionAt(s):o,u=a>=0?h.TextEditor.getPositionAt(a):e;return t.currentMode!==f.ModeName.Visual&&t.currentMode!==f.ModeName.SurroundInputMode||(u=u.getLeftThroughLineBreaks()),e.isAfter(u)?t.recordedState.transformations.push({type:"moveCursor",diff:u.subtract(e)}):e.isBefore(c)&&t.recordedState.transformations.push({type:"moveCursor",diff:c.subtract(e)}),t.cursorStartPosition=c,{start:c,stop:u}}))}}let Tt=class extends Nt{constructor(){super(...arguments),this.keys=["i","t"],this.includeTag=!1}};Tt=c([v.RegisterAction],Tt),t.MoveInsideTag=Tt;let Lt=class extends Nt{constructor(){super(...arguments),this.keys=["a","t"],this.includeTag=!0}};Lt=c([v.RegisterAction],Lt),t.MoveAroundTag=Lt;class Bt extends _.BaseMovement{constructor(){super(...arguments),this.modes=[f.ModeName.Insert]}execAction(e,t){return u(this,void 0,void 0,(function*(){t.recordedState.actionsRun=[t.recordedState.actionsRun.shift(),t.recordedState.actionsRun.pop()];let r=e;switch(this.keys[0]){case"<up>":r=yield(new j).execAction(e,t);break;case"<down>":r=yield(new $).execAction(e,t);break;case"<left>":r=yield new Y(this.keysPressed).execAction(e,t);break;case"<right>":r=yield new X(this.keysPressed).execAction(e,t)}return t.replaceState=new w.ReplaceState(r),r}))}}t.ArrowsInInsertMode=Bt;let Ft=class extends Bt{constructor(){super(...arguments),this.keys=["<up>"]}};Ft=c([v.RegisterAction],Ft);let $t=class extends Bt{constructor(){super(...arguments),this.keys=["<down>"]}};$t=c([v.RegisterAction],$t);let Ot=class extends Bt{constructor(){super(...arguments),this.keys=["<left>"]}};Ot=c([v.RegisterAction],Ot);let Dt=class extends Bt{constructor(){super(...arguments),this.keys=["<right>"]}};Dt=c([v.RegisterAction],Dt)},function(e,t,r){var n=r(51);t.createCodec=a,t.install=function(e){for(var t in e)o.prototype[t]=s(o.prototype[t],e[t])},t.filter=function(e){return n(e)?function(e){return e=e.slice(),function(r){return e.reduce(t,r)};function t(e,t){return t(e)}}(e):e};var i=r(17);function o(e){if(!(this instanceof o))return new o(e);this.options=e,this.init()}function s(e,t){return e&&t?function(){return e.apply(this,arguments),t.apply(this,arguments)}:e||t}function a(e){return new o(e)}o.prototype.init=function(){var e=this.options;return e&&e.uint8array&&(this.bufferish=i.Uint8Array),this},t.preset=a({preset:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(66),i=r(68),o=r(69);!function(e){e[e.Buffer=0]="Buffer",e[e.Window=1]="Window",e[e.Tabpage=2]="Tabpage"}(t.ExtType||(t.ExtType={})),t.Metadata=[{constructor:n.Buffer,name:"Buffer",prefix:"nvim_buf_"},{constructor:i.Window,name:"Window",prefix:"nvim_win_"},{constructor:o.Tabpage,name:"Tabpage",prefix:"nvim_tabpage_"}]},function(e,t,r){"use strict";var n,i,o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(43),a=r(65);t.DETACH=Symbol("detachBuffer"),t.ATTACH=Symbol("attachBuffer");n=t.ATTACH,i=t.DETACH,t.Buffer=class extends s.BaseApi{constructor(){super(...arguments),this.prefix=a.Metadata[a.ExtType.Buffer].prefix,this[n]=(e=!1,t={})=>o(this,void 0,void 0,(function*(){return!!this.client.isAttached(this)||this.request(`${this.prefix}attach`,[this,e,t])})),this[i]=()=>this.request(`${this.prefix}detach`,[this])}get isAttached(){return this.client.isAttached(this)}get id(){return this.data}get length(){return this.request(`${this.prefix}line_count`,[this])}get lines(){return this.getLines()}get changedtick(){return this.request(`${this.prefix}get_changedtick`,[this])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(`${this.prefix}get_commands`,[this,e])}getLines({start:e,end:t,strictIndexing:r}={start:0,end:-1,strictIndexing:!0}){const n=void 0===r||r;return this.request(`${this.prefix}get_lines`,[this,e,t,n])}setLines(e,{start:t,end:r,strictIndexing:n}={strictIndexing:!0}){const i=void 0===n||n,o="string"==typeof e?[e]:e,s=void 0!==r?r:t+1;return this.request(`${this.prefix}set_lines`,[this,t,s,i,o])}insert(e,t){return this.setLines(e,{start:t,end:t,strictIndexing:!0})}replace(e,t){const r="string"==typeof e?[e]:e;return this.setLines(r,{start:t,end:t+r.length,strictIndexing:!1})}remove(e,t,r){return this.setLines([],{start:e,end:t,strictIndexing:r})}append(e){return this.setLines(e,{start:-1,end:-1,strictIndexing:!1})}get name(){return this.request(`${this.prefix}get_name`,[this])}set name(e){this.request(`${this.prefix}set_name`,[this,e])}get valid(){return this.request(`${this.prefix}is_valid`,[this])}mark(e){return this.request(`${this.prefix}get_mark`,[this,e])}getKeymap(e){return this.request(`${this.prefix}get_keymap`,[this,e])}get loaded(){return this.request(`${this.prefix}is_loaded`,[this])}getOffset(e){return this.request(`${this.prefix}get_offset`,[this,e])}addHighlight({hlGroup:e,line:t,colStart:r,colEnd:n,srcId:i}){const o=void 0!==e?e:"",s=void 0!==n?n:-1,a=void 0!==r?r:-0,c=void 0!==i?i:-1;return this.request(`${this.prefix}add_highlight`,[this,c,o,t,a,s])}clearHighlight(e={}){console.warn("`clearHighlight` is deprecated, use ``clearNamespace()` instead");const{srcId:t,lineStart:r,lineEnd:n}=Object.assign({},{srcId:-1,lineStart:0,lineEnd:-1},e);return this.request(`${this.prefix}clear_highlight`,[this,t,r,n])}clearNamespace(e){const{nsId:t,lineStart:r,lineEnd:n}=Object.assign({},{nsId:-1,lineStart:0,lineEnd:-1},e);this.request(`${this.prefix}clear_namespace`,[this,t,r,n])}setVirtualText(e,t,r,n={}){return this.request(`${this.prefix}set_virtual_text`,[this,e,t,r,n])}listen(e,r){return this.isAttached||this[t.ATTACH]().then(t=>{t||this.unlisten(e,r)}),this.client.attachBuffer(this,e,r),()=>{this.unlisten(e,r)}}unlisten(e,r){if(!this.isAttached)return;this.client.detachBuffer(this,e,r)&&this[t.DETACH]()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(111),i=[],o=process.env.NVIM_NODE_LOG_LEVEL||"debug";process.env.NVIM_NODE_LOG_FILE&&i.push(new n.transports.File({filename:process.env.NVIM_NODE_LOG_FILE,level:o,json:!1})),process.env.ALLOW_CONSOLE&&i.push(n.transports.Console);const s=new n.Logger({level:o,transports:i});t.logger=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(43),i=r(65),o=r(113),s=r(69),a=r(66);t.Window=class extends n.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Window].prefix}get id(){return this.data}get buffer(){return o.createChainableApi.call(this,"Buffer",a.Buffer,()=>this.request(`${this.prefix}get_buf`,[this]))}get tabpage(){return o.createChainableApi.call(this,"Tabpage",s.Tabpage,()=>this.request(`${this.prefix}get_tabpage`,[this]))}get cursor(){return this.request(`${this.prefix}get_cursor`,[this])}set cursor(e){this.request(`${this.prefix}set_cursor`,[this,e])}get height(){return this.request(`${this.prefix}get_height`,[this])}set height(e){this.request(`${this.prefix}set_height`,[this,e])}get width(){return this.request(`${this.prefix}get_width`,[this])}set width(e){this.request(`${this.prefix}set_width`,[this,e])}get position(){return this.request(`${this.prefix}get_position`,[this])}get row(){return this.request(`${this.prefix}get_position`,[this]).then(e=>e[0])}get col(){return this.request(`${this.prefix}get_position`,[this]).then(e=>e[1])}get valid(){return this.request(`${this.prefix}is_valid`,[this])}get number(){return this.request(`${this.prefix}get_number`,[this])}close(e=!1){return this.request(`${this.prefix}close`,[this,e])}config(e={}){return this.request(`${this.prefix}set_config`,[this,e])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(43),i=r(65),o=r(113),s=r(68);t.Tabpage=class extends n.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Tabpage].prefix}get windows(){return this.request(`${this.prefix}list_wins`,[this])}get window(){return o.createChainableApi.call(this,"Window",s.Window,()=>this.request(`${this.prefix}get_win`,[this]))}get valid(){return this.request(`${this.prefix}is_valid`,[this])}get number(){return this.request(`${this.prefix}get_number`,[this])}getOption(){this.logger.error("Tabpage does not have `getOption`")}setOption(){this.logger.error("Tabpage does not have `setOption`")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NVIM_PLUGIN="_nvim_plugin",t.NVIM_DEV_MODE="_nvim_dev_mode",t.NVIM_SPEC="_nvim_rpc_spec",t.NVIM_SYNC="_nvim_rpc_sync",t.NVIM_METHOD_NAME="_nvim_rpc_method_name"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{}t.Globals=n,n.isTesting=!1},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0);t.VsCodeContext=new class{constructor(){this.contextMap={}}Set(e,t){return n(this,void 0,void 0,(function*(){const r=this.Get(e);if(!r||r!==t)return this.contextMap[e]=t,i.commands.executeCommand("setContext",e,t)}))}Get(e){return this.contextMap[e]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.decoration=new class{set Default(e){this._default&&this._default.dispose(),this._default=e}get Default(){return this._default}set SearchHighlight(e){this._searchHighlight&&this._searchHighlight.dispose(),this._searchHighlight=e}get SearchHighlight(){return this._searchHighlight}set EasyMotion(e){this._easyMotion&&this._easyMotion.dispose(),this._easyMotion=e}get EasyMotion(){return this._easyMotion}load(e){this.Default=n.window.createTextEditorDecorationType({backgroundColor:new n.ThemeColor("editorCursor.foreground"),borderColor:new n.ThemeColor("editorCursor.foreground"),dark:{color:"rgb(81,80,82)"},light:{color:"rgb(255, 255, 255)"},borderStyle:"solid",borderWidth:"1px"}),this.SearchHighlight=n.window.createTextEditorDecorationType({backgroundColor:e.searchHighlightColor,overviewRulerColor:new n.ThemeColor("editorOverviewRuler.findMatchForeground")}),this.EasyMotion=n.window.createTextEditorDecorationType({backgroundColor:e.searchHighlightColor})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8),i=r(5),o=r(4),s=r(59),a=r(5),c=r(25);!function(e){e[e.Insert=0]="Insert",e[e.Append=1]="Append"}(t.VisualBlockInsertionType||(t.VisualBlockInsertionType={}));t.NormalMode=class extends i.Mode{constructor(){super(i.ModeName.Normal,"-- Normal --",a.VSCodeVimCursorType.Block)}};t.InsertMode=class extends i.Mode{constructor(){super(i.ModeName.Insert,"-- Insert --",a.VSCodeVimCursorType.Native)}getStatusBarCommandText(e){return""}};t.VisualMode=class extends i.Mode{constructor(){super(i.ModeName.Visual,"-- Visual --",a.VSCodeVimCursorType.TextDecoration,!0)}getStatusBarCommandText(e){const t=e.recordedState.commandString;return 0===t.length||"v"===t[0]?t.slice(1):t}};t.VisualBlockMode=class extends i.Mode{constructor(){super(i.ModeName.VisualBlock,"-- Visual Block --",a.VSCodeVimCursorType.TextDecoration,!0)}static getTopLeftPosition(e,t){return new o.Position(Math.min(e.line,t.line),Math.min(e.character,t.character))}static getBottomRightPosition(e,t){return new o.Position(Math.max(e.line,t.line),Math.max(e.character,t.character))}};t.VisualLineMode=class extends i.Mode{constructor(){super(i.ModeName.VisualLine,"-- Visual Line --",a.VSCodeVimCursorType.Block,!0)}};t.SearchInProgressMode=class extends i.Mode{constructor(){super(i.ModeName.SearchInProgressMode,"",a.VSCodeVimCursorType.Block),this._logger=n.Logger.get("SearchInProgressMode")}getStatusBarText(e){if(void 0===c.globalState.searchState)return this._logger.warn("globalState.searchState is undefined."),"";const t=c.globalState.searchState.searchDirection===s.SearchDirection.Forward?"/":"?";let r=c.globalState.searchState.searchString.split("");return r.splice(e.statusBarCursorCharacterPos,0,"|"),`${t}${r.join("")}`}getStatusBarCommandText(e){return""}};t.CommandlineInProgress=class extends i.Mode{constructor(){super(i.ModeName.CommandlineInProgress,"",a.VSCodeVimCursorType.Block)}getStatusBarText(e){let t=e.currentCommandlineText.split("");return t.splice(e.statusBarCursorCharacterPos,0,"|"),`:${t.join("")}`}getStatusBarCommandText(e){return""}};t.ReplaceMode=class extends i.Mode{constructor(){super(i.ModeName.Replace,"-- Replace --",a.VSCodeVimCursorType.Underline)}};t.EasyMotionMode=class extends i.Mode{constructor(){super(i.ModeName.EasyMotionMode,"-- EasyMotion --",a.VSCodeVimCursorType.Block)}getStatusBarCommandText(e){return`Target key: ${e.easyMotion.accumulation}`}};t.EasyMotionInputMode=class extends i.Mode{constructor(){super(i.ModeName.EasyMotionInputMode,"-- EasyMotion Input --",a.VSCodeVimCursorType.Block)}getStatusBarCommandText(e){if(!e.easyMotion)return"";const t=e.easyMotion.searchAction.searchCharCount;return(t>0?`Search for ${t} character(s): `:"Search for characters: ")+e.easyMotion.searchAction.getSearchString()}};t.SurroundInputMode=class extends i.Mode{constructor(){super(i.ModeName.SurroundInputMode,"-- Surround Input --",a.VSCodeVimCursorType.Block)}getStatusBarCommandText(e){return e.surround&&e.surround.replacement?e.surround.replacement:""}};t.DisabledMode=class extends i.Mode{constructor(){super(i.ModeName.Disabled,"-- VIM: Disabled --",a.VSCodeVimCursorType.Line)}}},function(e,t){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,r){"use strict";const{Colorizer:n}=r(52);e.exports=e=>(n.addColors(e.colors||e),e)},function(e,t,r){"use strict";const{configs:n,LEVEL:i,MESSAGE:o}=r(2);class s{constructor(e={levels:n.npm.levels}){this.paddings=s.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map(e=>e.length);return Math.max(...t)}static paddingForLevel(e,t,r){const n=r+1-e.length,i=Math.floor(n/t.length);return`${t}${t.repeat(i)}`.slice(0,n)}static paddingForLevels(e,t=" "){const r=s.getLongestLevel(e);return Object.keys(e).reduce((e,n)=>(e[n]=s.paddingForLevel(n,t,r),e),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[o]&&(e[o]=`${this.paddings[e[i]]}${e[o]}`),e}}e.exports=e=>new s(e),e.exports.Padder=e.exports.Format=s},function(e,t,r){"use strict";const n=r(12),{MESSAGE:i}=r(2),o=r(30);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=n((e,t={})=>(e[i]=o(e,t.replacer||s,t.space),e))},function(e,t,r){"use strict";var n=r(9);e.exports=n((function(e){return e.message="\t".concat(e.message),e}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(38).Colorizer,o=r(55).Padder,s=r(2),a=s.configs,c=s.MESSAGE,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.levels||(t.levels=a.npm.levels),this.colorizer=new i(t),this.padder=new o(t),this.options=t}var t,r,s;return t=e,(r=[{key:"transform",value:function(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[c]="".concat(e.level,":").concat(e.message),e}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=function(e){return new u(e)},e.exports.Format=u},function(e,t,r){"use strict";var n=r(9);function i(e){if(e.every(o))return function(t){for(var r=t,n=0;n<e.length;n++)if(!(r=e[n].transform(r,e[n].options)))return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=n(i(t)),s=o();return s.Format=o.Format,s},e.exports.cascade=i},function(e,t,r){"use strict";var n=r(9),i=r(2).MESSAGE,o=r(30);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=n((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i]=o(e,t.replacer||s,t.space),e}))},function(e,t,r){"use strict";var n=r(9);e.exports=n((function(e,t){return t.message?(e.message="[".concat(t.label,"] ").concat(e.message),e):(e.label=t.label,e)}))},function(e,t,r){"use strict";var n=r(9),i=r(2).MESSAGE,o=r(30);e.exports=n((function(e){var t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},function(e,t,r){"use strict";var n=r(9);function i(e,t,r){var n,i,o,s=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),a=Object.keys(e).reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{});return Object.assign(e,s,(o=a,(i=r)in(n={})?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n)),e}function o(e,t,r){return e[r]=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),e}e.exports=n((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="metadata";t.key&&(r=t.key);var n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?i(e,n,r):t.fillWith?o(e,t.fillWith,r):e}))},function(e,t,r){"use strict";var n=r(1).inspect,i=r(9),o=r(2),s=o.LEVEL,a=o.MESSAGE,c=o.SPLAT;e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e);return delete r[s],delete r[a],delete r[c],e[a]=n(r,!1,t.depth||null,t.colorize),e}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(2).MESSAGE,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=t}var t,r,o;return t=e,(r=[{key:"transform",value:function(e){return e[i]=this.template(e),e}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=function(e){return new o(e)},e.exports.Printf=e.exports.Format=o},function(e,t,r){"use strict";var n=r(9),i=r(2).MESSAGE,o=r(30);e.exports=n((function(e){var t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?"".concat(e.level,":").concat(r," ").concat(e.message," ").concat(t):"".concat(e.level,":").concat(r," ").concat(e.message),e}))},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(1),s=r(2).SPLAT,a=/%[scdjifoO%]/g,c=/%%/g,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,r,u;return t=e,(r=[{key:"_splat",value:function(e,t){var r=e.message,i=e[s]||e.splat||[],a=r.match(c),u=a&&a.length||0,l=t.length-u-i.length,d=l<0?i.splice(l,-1*l):[],h=d.length;if(h)for(var f=0;f<h;f++)Object.assign(e,d[f]);return e.message=o.format.apply(o,[r].concat(n(i))),e}},{key:"transform",value:function(e){var t=e.message,r=e[s]||e.splat;if(!r||!r.length)return e;var n=t&&t.match&&t.match(a);if(!n&&(r||r.length)){var i=r.length>1?r.splice(0):r,o=i.length;if(o)for(var c=0;c<o;c++)Object.assign(e,i[c]);return e}return n?this._splat(e,n):e}}])&&i(t.prototype,r),u&&i(t,u),e}();e.exports=function(e){return new u(e)}},function(e,t,r){"use strict";var n=r(131),i=r(9);e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e}))},function(e,t,r){"use strict";var n=r(53),i=r(9),o=r(2).MESSAGE;e.exports=i((function(e,t){return!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=n.strip(e[o])),e}))},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(139),i=r(239),o=r(240),s="[object Null]",a="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:c&&c in Object(e)?i(e):o(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n},e.exports=t.default},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";var n=r(31).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},m=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},p=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",m),t.req?p():t.on("request",p)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",f),t.on("close",m),function(){t.removeListener("complete",l),t.removeListener("abort",m),t.removeListener("request",p),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",m)}}},function(e,t,r){"use strict";const n=r(22),{configs:i}=r(2);t.cli=n.levels(i.cli),t.npm=n.levels(i.npm),t.syslog=n.levels(i.syslog),t.addColors=n.levels},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,n.default)(e,(0,i.default)((0,o.default)(t)),r)};var n=s(r(289)),i=s(r(290)),o=s(r(57));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t){function r(e){for(var t in e)this[t]=e[t]}t.get=function(e){var r=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var n={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(n,e||t.get);var o=n.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=r,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var r=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(r){var n=null,i=null,o=null,s=null,a=null,c="native"===r[5];if(r[1]){var u=(o=r[1]).lastIndexOf(".");if("."==o[u-1]&&u--,u>0){n=o.substr(0,u),i=o.substr(u+1);var l=n.indexOf(".Module");l>0&&(o=o.substr(l+1),n=n.substr(0,l))}s=null}i&&(s=n,a=i),"<anonymous>"===i&&(a=null,o=null);var d={fileName:r[2]||null,lineNumber:parseInt(r[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(r[4],10)||null,native:c};return t._createParsedCallSite(d)}})).filter((function(e){return!!e}))};["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){r.prototype[e]=null,r.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){r.prototype[e]=!1,r.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new r(e)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(1),s=r(0),a=r(8),c=r(169),u=r(7),l=r(170);function d(e){return n(this,void 0,void 0,(function*(){if(!s.window.activeTextEditor){return o.promisify(i.exists)(e.fsPath)}try{return yield s.workspace.fs.stat(e),!0}catch(e){return!1}}))}var h;!function(e){e[e.NewWindowVerticalSplit=0]="NewWindowVerticalSplit",e[e.NewWindowHorizontalSplit=1]="NewWindowHorizontalSplit"}(h=t.FilePosition||(t.FilePosition={}));t.FileCommand=class extends u.CommandBase{constructor(e){super(),this._logger=a.Logger.get("File"),this._name="file",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,(function*(){if(this.arguments.bang)return void(yield s.commands.executeCommand("workbench.action.files.revert"));const e=s.window.activeTextEditor.document.uri;let t=e.fsPath,r=!1;this.arguments.position===h.NewWindowVerticalSplit&&(yield s.commands.executeCommand("workbench.action.splitEditorRight"),r=!0),this.arguments.position===h.NewWindowHorizontalSplit&&(yield s.commands.executeCommand("workbench.action.splitEditorDown"),r=!0);let i=function(){return n(this,void 0,void 0,(function*(){!0===r&&(yield s.commands.executeCommand("workbench.action.previousEditor"),yield s.commands.executeCommand("workbench.action.closeActiveEditor"))}))};if(void 0===this.arguments.name)return void(!0===this.arguments.createFileIfNotExists&&(yield s.commands.executeCommand("workbench.action.files.newUntitledFile"),yield i()));this.arguments.name&&"file"===e.scheme&&(this._arguments.name=l(this.arguments.name));let o=e;if(""===this.arguments.name){if(!0===r)return;const e=yield s.window.showOpenDialog({});e&&e.length>0&&(o=e[0])}else{this._arguments.name=this.arguments.name.replace(/^file:\/\//,"");const r=!!s.env.remoteName,{fullPath:n,path:i}=c.getPathDetails(this.arguments.name,e,r);if(n!==t){const s=c.resolveUri(n,i.sep,e,r);if(null===s)return;let a=yield d(s);if(a)o=s;else{const s=n+i.extname(t),u=c.resolveUri(s,i.sep,e,r);null!==u&&(a=yield d(u))&&(o=u)}if(!a){if(!this.arguments.createFileIfNotExists)return void this._logger.error(`${this.arguments.name} does not exist.`);o=s.with({scheme:"untitled"})}}}const a=yield s.workspace.openTextDocument(o);s.window.showTextDocument(a),this.arguments.lineNumber&&s.window.activeTextEditor.revealRange(new s.Range(new s.Position(this.arguments.lineNumber,0),new s.Position(this.arguments.lineNumber,0))),yield i()}))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(8);class s{static Copy(e){return n(this,void 0,void 0,(function*(){try{yield i.env.clipboard.writeText(e)}catch(e){this.logger.error(e,`Error copying to clipboard. err=${e}`)}}))}static Paste(){return n(this,void 0,void 0,(function*(){return i.env.clipboard.readText()}))}}t.Clipboard=s,s.logger=o.Logger.get("Clipboard")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(4),s=r(3);class a{static findPairedChar(e,t,r,n,s,c){let u=e.line,l=e.character,d=i.TextEditor.getLineCount(),h=i.TextEditor.getCharAt(e);if(c){let r=c.cursorStartPosition,n=c.cursorStopPosition;if(r.isEqual(n)&&h===t)return e}for(;a.keepSearching(u,d,s);){let a=i.TextEditor.getLineAt(new o.Position(u,0)).text.split("");const c=a.length;for(u===e.line&&(a=s?a.slice(l+1,c):a.slice(0,l));!(a.length<=0||n<=-1);){let e;if((e=s?a.shift():a.pop())===r)n++;else{if(e!==t)continue;n--}}if(n<=-1){let e;return e=s?Math.max(0,c-a.length-1):a.length,new o.Position(u,e)}s?u++:u--}}static keepSearching(e,t,r){return r?e<=t-1:e>=0}static nextPairedChar(e,t,r){const n=this.pairings[t];if(void 0===n||n.directionless)return;let i;const o=n.match,s=t;return(i=a.findPairedChar(e,o,s,0,n.isNextMatchForward,r))||void 0}static shouldDeleteMatchingBracket(e){const t="bracket"===e?"editor.autoClosingBrackets":"editor.autoClosingQuotes",r=s.configuration.getConfiguration().get(t);return"never"!==r}static immediateMatchingBracket(e){const t=(this.shouldDeleteMatchingBracket("bracket")?"{[(":"")+(this.shouldDeleteMatchingBracket("quote")?"\"'`":""),r=new n.Range(e,e.getLeftThroughLineBreaks()),i=n.window.activeTextEditor.document.getText(r);let s,c=!1;if(t.includes(i)){const t=e.add(new o.PositionDiff(0,1));s=new n.Range(t,t.getLeftThroughLineBreaks()),c=n.window.activeTextEditor.document.getText(s)===a.pairings[i].match}if(c&&s)return s}}t.PairMatcher=a,a.pairings={"(":{match:")",isNextMatchForward:!0,matchesWithPercentageMotion:!0},"{":{match:"}",isNextMatchForward:!0,matchesWithPercentageMotion:!0},"[":{match:"]",isNextMatchForward:!0,matchesWithPercentageMotion:!0},")":{match:"(",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"}":{match:"{",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"]":{match:"[",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"<":{match:">",isNextMatchForward:!0},">":{match:"<",isNextMatchForward:!1},'"':{match:'"',isNextMatchForward:!1,directionless:!0},"'":{match:"'",isNextMatchForward:!1,directionless:!0},"`":{match:"`",isNextMatchForward:!1,directionless:!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(4),o=r(3),s=r(6),a=r(344);class c{constructor(){this.accumulation="",this._markers=[],this.visibleMarkers=[],this.decorations=[]}get markers(){return this._markers}static createMarkerGenerator(e){return new a.MarkerGenerator(e)}static getDecorationType(e){const t=this.decorationTypeCache[e];if(t)return t;{const t=8*e,r=n.window.createTextEditorDecorationType({after:{margin:`0 0 0 -${t}px`,height:"14px",width:`${t}px; position:absoulute; z-index:99;`}});return this.decorationTypeCache[e]=r,r}}clearDecorations(){const e=n.window.activeTextEditor;for(let t=1;t<=this.decorations.length;t++)e.setDecorations(c.getDecorationType(t),[])}clearMarkers(){this._markers=[],this.visibleMarkers=[]}addMarker(e){this._markers.push(e)}getMarker(e){return this._markers[e]}findMarkers(e,t){return(t?this.visibleMarkers:this._markers).filter(t=>t.name.startsWith(e))}sortedSearch(e,t="",r={}){const n="string"==typeof t?new RegExp(t.replace(c.specialCharactersRegex,"\\$&"),"g"):t,o=[];let a,u=e.character;const l=s.TextEditor.getLineCount(),d=r.min?Math.max(r.min.line,0):0,h=r.max?Math.min(r.max.line+1,l):l;e:for(let t=d;t<h;t++){const l=s.TextEditor.getLineAt(new i.Position(t,0)).text;let d=n.exec(l);for(;d;){if(o.length>=1e3)break e;{const s=new i.Position(t,d.index);r.min&&s.isBefore(r.min)||r.max&&s.isAfter(r.max)||Math.abs(s.line-e.line)>100?d=n.exec(l):(a&&!a.position.isBefore(e)||(u=o.length),s.isEqual(e)?d=n.exec(l):(a=new c.Match(s,d[0],o.length),o.push(a),d=n.exec(l)))}}}return o.sort((e,t)=>{return r(e.index)-r(t.index);function r(e){const t=Math.abs(u-e);return e<u?t-.5:t}}),o}themeColorApiSupported(){return parseInt(n.version.replace(/\./g,""),10)>=1120}getMarkerColor(e,t,r){return this.themeColorApiSupported()?e||new n.ThemeColor(r):e||t}getEasymotionMarkerBackgroundColor(){return this.getMarkerColor(o.configuration.easymotionMarkerBackgroundColor,"#000","activityBarBadge.background")}getEasymotionMarkerForegroundColorOneChar(){return this.getMarkerColor(o.configuration.easymotionMarkerForegroundColorOneChar,"#f00","activityBarBadge.foreground")}getEasymotionMarkerForegroundColorTwoChar(){return this.getMarkerColor(o.configuration.easymotionMarkerForegroundColorTwoChar,"#ffa500","activityBarBadge.foreground")}updateDecorations(){this.clearDecorations(),this.visibleMarkers=[],this.decorations=[];for(const e of this._markers.filter(e=>e.name.startsWith(this.accumulation))){const t=e.position,r=e.name.substr(this.accumulation.length);this.decorations[r.length]||(this.decorations[r.length]=[]);const i=r.length>1?this.getEasymotionMarkerForegroundColorTwoChar():this.getEasymotionMarkerForegroundColorOneChar(),s={after:{contentText:r,backgroundColor:this.getEasymotionMarkerBackgroundColor(),height:`${o.configuration.easymotionMarkerHeight}px`,width:`${r.length*o.configuration.easymotionMarkerWidthPerChar}px`,color:i,textDecoration:`none;\n          font-family: ${o.configuration.easymotionMarkerFontFamily};\n          font-size: ${o.configuration.easymotionMarkerFontSize}px;\n          font-weight: ${o.configuration.easymotionMarkerFontWeight};\n          position: absolute;\n          z-index: 99;\n          bottom: ${o.configuration.easymotionMarkerYOffset}px`}},a=t.character+1+(r.length-1);this.decorations[r.length].push({range:new n.Range(t.line,a,t.line,a),renderOptions:{dark:s,light:s}}),this.visibleMarkers.push(e)}const e=n.window.activeTextEditor;for(let t=1;t<this.decorations.length;t++)this.decorations[t]&&e.setDecorations(c.getDecorationType(t),this.decorations[t])}}t.EasyMotion=c,c.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,c.decorationTypeCache=[],function(e){e.Marker=class{constructor(e,t){this._name=e,this._position=t}get name(){return this._name}get position(){return this._position}};e.Match=class{constructor(e,t,r){this._position=e,this._text=t,this._index=r}get position(){return this._position}get text(){return this._text}get index(){return this._index}set position(e){this._position=e}toRange(){return new n.Range(this.position,this.position.translate(0,this.text.length))}}}(c=t.EasyMotion||(t.EasyMotion={}))},function(e,t,r){t.EncodeBuffer=i;var n=r(105).preset;function i(e){if(!(this instanceof i))return new i(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}r(188).FlexEncoder.mixin(i.prototype),i.prototype.codec=n,i.prototype.write=function(e){this.codec.encode(this,e)}},function(e,t,r){var n=r(106).ExtBuffer,i=r(368),o=r(369),s=r(64);function a(){var e=this.options;return this.encode=function(e){var t=o.getWriteType(e);return function(e,r){var n=t[typeof r];if(!n)throw new Error('Unsupported type "'+typeof r+'": '+r);n(e,r)}}(e),e&&e.preset&&i.setExtPackers(this),this}s.install({addExtPacker:function(e,t,r){r=s.filter(r);var i=t.name;if(i&&"Object"!==i){(this.extPackers||(this.extPackers={}))[i]=o}else{(this.extEncoderList||(this.extEncoderList=[])).unshift([t,o])}function o(t){return r&&(t=r(t)),new n(t,e)}},getExtPacker:function(e){var t=this.extPackers||(this.extPackers={}),r=e.constructor,n=r&&r.name&&t[r.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(r===a[0])return a[1]}},init:a}),t.preset=a.call(s.preset)},function(e,t,r){t.ExtBuffer=function e(t,r){if(!(this instanceof e))return new e(t,r);this.buffer=n.from(t);this.type=r};var n=r(17)},function(e,t,r){var n=r(367);t.copy=c,t.slice=u,t.toString=function(e,t,r){return(!s&&i.isBuffer(this)?this.toString:n.toString).apply(this,arguments)},t.write=function(e){return function(){return(this[e]||n[e]).apply(this,arguments)}}("write");var i=r(17),o=i.global,s=i.hasBuffer&&"TYPED_ARRAY_SUPPORT"in o,a=s&&!o.TYPED_ARRAY_SUPPORT;function c(e,t,r,o){var s=i.isBuffer(this),c=i.isBuffer(e);if(s&&c)return this.copy(e,t,r,o);if(a||s||c||!i.isView(this)||!i.isView(e))return n.copy.call(this,e,t,r,o);var l=r||null!=o?u.call(this,r,o):this;return e.set(l,t),l.length}function u(e,t){var r=this.slice||!a&&this.subarray;if(r)return r.call(this,e,t);var n=i.alloc.call(this,t-e);return c.call(this,n,0,e,t),n}},function(e,t,r){!function(e){var t,r="undefined",n=r!==typeof Buffer&&Buffer,i=r!==typeof Uint8Array&&Uint8Array,o=r!==typeof ArrayBuffer&&ArrayBuffer,s=[0,0,0,0,0,0,0,0],a=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},c=4294967296,u=16777216;function l(a,l,b){var C=l?0:4,M=l?4:0,S=l?0:3,E=l?1:2,k=l?2:1,_=l?3:0,P=l?v:w,A=l?y:x,R=L.prototype,N="is"+a,T="_"+N;return R.buffer=void 0,R.offset=0,R[T]=!0,R.toNumber=B,R.toString=function(e){var t=this.buffer,r=this.offset,n=$(t,r+C),i=$(t,r+M),o="",s=!b&&2147483648&n;s&&(n=~n,i=c-i);e=e||10;for(;;){var a=n%e*c+i;if(n=Math.floor(n/e),i=Math.floor(a/e),o=(a%e).toString(e)+o,!n&&!i)break}s&&(o="-"+o);return o},R.toJSON=B,R.toArray=d,n&&(R.toBuffer=h),i&&(R.toArrayBuffer=f),L[N]=function(e){return!(!e||!e[T])},e[a]=L,L;function L(e,n,a,u){return this instanceof L?function(e,n,a,u,l){i&&o&&(n instanceof o&&(n=new i(n)),u instanceof o&&(u=new i(u)));if(!(n||a||u||t))return void(e.buffer=g(s,0));if(!m(n,a)){var d=t||Array;l=a,u=n,a=0,n=new d(8)}if(e.buffer=n,e.offset=a|=0,r===typeof u)return;"string"==typeof u?function(e,t,r,n){var i=0,o=r.length,s=0,a=0;"-"===r[0]&&i++;var u=i;for(;i<o;){var l=parseInt(r[i++],n);if(!(l>=0))break;a=a*n+l,s=s*n+Math.floor(a/c),a%=c}u&&(s=~s,a?a=c-a:s++);F(e,t+C,s),F(e,t+M,a)}(n,a,u,l||10):m(u,l)?p(n,a,u,l):"number"==typeof l?(F(n,a+C,u),F(n,a+M,l)):u>0?P(n,a,u):u<0?A(n,a,u):p(n,a,s,0)}(this,e,n,a,u):new L(e,n,a,u)}function B(){var e=this.buffer,t=this.offset,r=$(e,t+C),n=$(e,t+M);return b||(r|=0),r?r*c+n:n}function F(e,t,r){e[t+_]=255&r,r>>=8,e[t+k]=255&r,r>>=8,e[t+E]=255&r,r>>=8,e[t+S]=255&r}function $(e,t){return e[t+S]*u+(e[t+E]<<16)+(e[t+k]<<8)+e[t+_]}}function d(e){var r=this.buffer,n=this.offset;return t=null,!1!==e&&0===n&&8===r.length&&a(r)?r:g(r,n)}function h(e){var r=this.buffer,i=this.offset;if(t=n,!1!==e&&0===i&&8===r.length&&Buffer.isBuffer(r))return r;var o=new n(8);return p(o,0,r,i),o}function f(e){var r=this.buffer,n=this.offset,s=r.buffer;if(t=i,!1!==e&&0===n&&s instanceof o&&8===s.byteLength)return s;var a=new i(8);return p(a,0,r,n),a.buffer}function m(e,t){var r=e&&e.length;return t|=0,r&&t+8<=r&&"string"!=typeof e[t]}function p(e,t,r,n){t|=0,n|=0;for(var i=0;i<8;i++)e[t++]=255&r[n++]}function g(e,t){return Array.prototype.slice.call(e,t,t+8)}function v(e,t,r){for(var n=t+8;n>t;)e[--n]=255&r,r/=256}function y(e,t,r){var n=t+8;for(r++;n>t;)e[--n]=255&-r^255,r/=256}function w(e,t,r){for(var n=t+8;t<n;)e[t++]=255&r,r/=256}function x(e,t,r){var n=t+8;for(r++;t<n;)e[t++]=255&-r^255,r/=256}l("Uint64BE",!0,!0),l("Int64BE",!0,!1),l("Uint64LE",!1,!0),l("Int64LE",!1,!1)}("string"!=typeof t.nodeName?t:this||{})},function(e,t,r){t.DecodeBuffer=i;var n=r(110).preset;function i(e){if(!(this instanceof i))return new i(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}r(188).FlexDecoder.mixin(i.prototype),i.prototype.codec=n,i.prototype.fetch=function(){return this.codec.decode(this)}},function(e,t,r){var n=r(106).ExtBuffer,i=r(371),o=r(190).readUint8,s=r(372),a=r(64);function c(){var e=this.options;return this.decode=function(e){var t=s.getReadToken(e);return function(e){var r=o(e),n=t[r];if(!n)throw new Error("Invalid type: "+(r?"0x"+r.toString(16):r));return n(e)}}(e),e&&e.preset&&i.setExtUnpackers(this),this}a.install({addExtUnpacker:function(e,t){(this.extUnpackers||(this.extUnpackers=[]))[e]=a.filter(t)},getExtUnpacker:function(e){return(this.extUnpackers||(this.extUnpackers=[]))[e]||function(t){return new n(t,e)}},init:c}),t.preset=c.call(a.preset)},function(e,t,r){var n=t;n.version=r(380).version,n.transports=r(381);var i=r(35);n.hash=i.hash,n.clone=i.clone,n.longestElement=i.longestElement,n.exception=r(193),n.config=r(112),n.addColors=n.config.addColors,n.Container=r(402).Container,n.Logger=r(403).Logger,n.Transport=r(45).Transport,n.loggers=new n.Container;var o=new n.Logger({transports:[new n.transports.Console]});i.setLevels(n,null,o.levels),["log","query","stream","add","remove","clear","profile","startTimer","extend","cli","handleExceptions","unhandleExceptions","configure"].forEach((function(e){n[e]=function(){return o[e].apply(o,arguments)}})),n.cli=function(){return n.padLevels=!0,i.setLevels(n,o.levels,n.config.cli.levels),o.setLevels(n.config.cli.levels),n.config.addColors(n.config.cli.colors),o.transports.console&&(o.transports.console.colorize=!0,o.transports.console.timestamp=!1),n},n.setLevels=function(e){i.setLevels(n,o.levels,e),o.setLevels(e)},Object.defineProperty(n,"level",{get:function(){return o.level},set:function(e){o.level=e,Object.keys(o.transports).forEach((function(t){o.transports[t].level=e}))}}),["emitErrs","exitOnError","padLevels","levelLength","stripColors"].forEach((function(e){Object.defineProperty(n,e,{get:function(){return o[e]},set:function(t){o[e]=t}})})),Object.defineProperty(n,"default",{get:function(){return{transports:o.transports,exceptionHandlers:o.exceptionHandlers}}})},function(e,t,r){var n=r(385);n.enabled=!0;var i=t,o=t.allColors={};i.addColors=function(e){!function(e){Array.prototype.slice.call(arguments,1).forEach((function(t){for(var r=Object.keys(t),n=0;n<r.length;n++)e[r[n]]=t[r[n]]}))}(o,e)},i.colorize=function(e,t){void 0===t&&(t=e);var r=t;if(o[e]instanceof Array)for(var i=0,s=o[e].length;i<s;++i)r=n[o[e][i]](r);else if(o[e].match(/\s/)){var a=o[e].split(/\s+/);for(i=0;i<a.length;++i)r=n[a[i]](r);o[e]=a}else r=n[o[e]](r);return r},i.cli=r(395),i.npm=r(396),i.syslog=r(397),i.addColors(i.cli.colors),i.addColors(i.npm.colors),i.addColors(i.syslog.colors)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(43),i=Object.getOwnPropertyNames(n.BaseApi.prototype);t.createChainableApi=function(e,t,r,o){if(this[`${e}Promise`]&&0===this[`${e}Promise`].status&&this[`${e}Proxy`])return this[`${e}Proxy`];this[`${e}Promise`]=r(),[...i,...Object.getOwnPropertyNames(t.prototype)].forEach(t=>{Object.defineProperty(this[`${e}Promise`],t,{enumerable:!0,writable:!0,configurable:!0})});const s={get:(r,i)=>{const s=Object.prototype.hasOwnProperty.call(t.prototype,i)||Object.prototype.hasOwnProperty.call(n.BaseApi.prototype,i),a=Object.getOwnPropertyDescriptor(t.prototype,i)||Object.getOwnPropertyDescriptor(n.BaseApi.prototype,i),c=a&&(void 0!==a.get||void 0!==a.set);return t&&s?s&&!c&&(i in t.prototype&&"function"==typeof t.prototype[i]||i in n.BaseApi.prototype&&"function"==typeof n.BaseApi.prototype[i])?(...t)=>this[`${e}Promise`].then(e=>e[i].call(e,...t)):o&&o()||this[`${e}Promise`].then(e=>e[i]):i in r?"function"==typeof r[i]?r[i].bind(r):r[i]:null},set:(e,t,r,n)=>(n&&(n instanceof Promise||"then"in n)?n.then(e=>{t in e&&(e[t]=r)}):e[t]=r,!0)};return this[`${e}Proxy`]=new Proxy(this[`${e}Promise`],s),this[`${e}Proxy`]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(43),i=r(113),o=r(66),s=r(69),a=r(68);t.Neovim=class extends n.BaseApi{constructor(){super(...arguments),this.prefix="nvim_",this.Buffer=o.Buffer,this.Window=a.Window,this.Tabpage=s.Tabpage}get apiInfo(){return this.request(`${this.prefix}get_api_info`)}get buffers(){return this.request(`${this.prefix}list_bufs`)}get buffer(){return i.createChainableApi.call(this,"Buffer",o.Buffer,()=>this.request(`${this.prefix}get_current_buf`))}set buffer(e){this.request(`${this.prefix}set_current_buf`,[e])}get chans(){return this.request(`${this.prefix}list_chans`)}getChanInfo(e){return this.request(`${this.prefix}get_chan_info`,[e])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(`${this.prefix}get_commands`,[e])}get tabpages(){return this.request(`${this.prefix}list_tabpages`)}get tabpage(){return i.createChainableApi.call(this,"Tabpage",s.Tabpage,()=>this.request(`${this.prefix}get_current_tabpage`))}set tabpage(e){this.request(`${this.prefix}set_current_tabpage`,[e])}get windows(){return this.getWindows()}get window(){return this.getWindow()}set window(e){this.setWindow(e)}getWindows(){return this.request(`${this.prefix}list_wins`)}getWindow(){return i.createChainableApi.call(this,"Window",a.Window,()=>this.request(`${this.prefix}get_current_win`))}setWindow(e){return this.request(`${this.prefix}set_current_win`,[e])}get runtimePaths(){return this.request(`${this.prefix}list_runtime_paths`)}set dir(e){this.request(`${this.prefix}set_current_dir`,[e])}get line(){return this.getLine()}set line(e){"string"==typeof e&&this.setLine(e)}getLine(){return this.request(`${this.prefix}get_current_line`)}setLine(e){return this.request(`${this.prefix}set_current_line`,[e])}getKeymap(e){return this.request(`${this.prefix}get_keymap`,[e])}get mode(){return this.request(`${this.prefix}get_mode`)}get colorMap(){return this.request(`${this.prefix}get_color_map`)}getColorByName(e){return this.request(`${this.prefix}get_color_by_name`,[e])}getHighlight(e,t=!0){const r="string"==typeof e?"by_name":"by_id";return this.request(`${this.prefix}get_hl_${r}`,[e,t])}getHighlightByName(e,t=!0){return this.request(`${this.prefix}get_hl_by_name`,[e,t])}getHighlightById(e,t=!0){return this.request(`${this.prefix}get_hl_by_id`,[e,t])}deleteCurrentLine(){return this.request(`${this.prefix}del_current_line`)}eval(e){return this.request(`${this.prefix}eval`,[e])}lua(e,t=[]){const r=Array.isArray(t)?t:[t];return this.request(`${this.prefix}execute_lua`,[e,r])}executeLua(e,t=[]){return this.lua(e,t)}callDictFunction(e,t,r=[]){const n=Array.isArray(r)?r:[r];return this.request(`${this.prefix}call_dict_function`,[e,t,n])}call(e,t=[]){const r=Array.isArray(t)?t:[t];return this.request(`${this.prefix}call_function`,[e,r])}callFunction(e,t=[]){return this.call(e,t)}callAtomic(e){return this.request(`${this.prefix}call_atomic`,[e])}command(e){return this.request(`${this.prefix}command`,[e])}commandOutput(e){return this.request(`${this.prefix}command_output`,[e])}getVvar(e){return this.request(`${this.prefix}get_vvar`,[e])}setVvar(e,t){return this.request(`${this.prefix}set_vvar`,[e,t])}feedKeys(e,t,r){return this.request(`${this.prefix}feedkeys`,[e,t,r])}input(e){return this.request(`${this.prefix}input`,[e])}inputMouse(e,t,r,n,i,o){return this.request(`${this.prefix}input_mouse`,[e,t,r,n,i,o])}parseExpression(e,t,r){return this.request(`${this.prefix}parse_expression`,[e,t,r])}getProc(e){return this.request(`${this.prefix}get_proc`,[e])}getProcChildren(e){return this.request(`${this.prefix}get_proc_children`,[e])}replaceTermcodes(e,t,r,n){return this.request(`${this.prefix}replace_termcodes`,[e,t,r,n])}strWidth(e){return this.request(`${this.prefix}strwidth`,[e])}outWrite(e){return this.request(`${this.prefix}out_write`,[e])}outWriteLine(e){return this.outWrite(`${e}\n`)}errWrite(e){return this.request(`${this.prefix}err_write`,[e])}errWriteLine(e){return this.request(`${this.prefix}err_writeln`,[e])}get uis(){return this.request(`${this.prefix}list_uis`)}uiAttach(e,t,r){return this.request(`${this.prefix}ui_attach`,[e,t,r])}uiDetach(){return this.request(`${this.prefix}ui_detach`,[])}uiTryResize(e,t){return this.request(`${this.prefix}ui_try_resize`,[e,t])}uiTryResizeGrid(e,t,r){return this.request(`${this.prefix}ui_try_resize_grid`,[e,t,r])}uiSetOption(e,t){return this.request(`${this.prefix}ui_set_option`,[e,t])}subscribe(e){return this.request(`${this.prefix}subscribe`,[e])}unsubscribe(e){return this.request(`${this.prefix}unsubscribe`,[e])}setClientInfo(e,t,r,n,i){this.request(`${this.prefix}set_client_info`,[e,t,r,n,i])}createNamespace(e=""){return this.request(`${this.prefix}create_namespace`,[e])}get namespaces(){return this.getNamespaces()}getNamespaces(){return this.request(`${this.prefix}get_namespaces`)}selectPopupmenuItem(e,t,r,n={}){return this.request(`${this.prefix}select_popupmenu_item`,[e,t,r,n])}createBuf(e,t){return this.request(`${this.prefix}create_buf`,[e,t])}createBuffer(e,t){return this.createBuf(e,t)}openWin(e,t,r){return this.request(`${this.prefix}open_win`,[e,t,r])}openWindow(e,t,r){return this.openWin(e,t,r)}winConfig(e,t={}){return e.config(t)}windowConfig(e,t={}){return this.winConfig(e,t)}winClose(e,t){return e.close(t)}windowClose(e,t){return this.winClose(e,t)}quit(){this.command("qa!")}}},function(e,t,r){"use strict";var n=r(48);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;g.WritableState=p;var a=r(75);a.inherits=r(24);var c={deprecate:r(116)},u=r(117),l=r(49).Buffer,d=global.Uint8Array||function(){};var h,f=r(118);function m(){}function p(e,t){o=o||r(50),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),C(e,t))}(e,r,i,t,o);else{var a=x(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),i?s(y,e,r,a,o):y(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||r(50),!(h.call(g,this)||this instanceof o))return new g(e);this._writableState=new p(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function v(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(v(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var r=x(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(b,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}a.inherits(g,u),p.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(p.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof p)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,l.isBuffer(i)||i instanceof d);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=m),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=f.destroy,g.prototype._undestroy=f.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,r){e.exports=r(1).deprecate},function(e,t,r){e.exports=r(13)},function(e,t,r){"use strict";var n=r(48);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(49).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";const n=r(12);e.exports=n(e=>(e.message=`\t${e.message}`,e))},function(e,t,r){"use strict";const{Colorizer:n}=r(52),{Padder:i}=r(77),{configs:o,MESSAGE:s}=r(2);class a{constructor(e={}){e.levels||(e.levels=o.npm.levels),this.colorizer=new n(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[s]=`${e.level}:${e.message}`,e}}e.exports=e=>new a(e),e.exports.Format=a},function(e,t,r){"use strict";const n=r(12);function i(e){if(e.every(o))return t=>{let r=t;for(let t=0;t<e.length;t++)if(!(r=e[t].transform(r,e[t].options)))return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=(...e)=>{const t=n(i(e)),r=t();return r.Format=t.Format,r},e.exports.cascade=i},function(e,t,r){"use strict";const n=r(12);e.exports=n((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e))},function(e,t,r){"use strict";const n=r(12),{MESSAGE:i}=r(2),o=r(30);e.exports=n(e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e})},function(e,t,r){"use strict";const n=r(12);e.exports=n((e,t={})=>{let r="metadata";t.key&&(r=t.key);let n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?function(e,t,r){const n=t.reduce((t,r)=>(t[r]=e[r],delete e[r],t),{}),i=Object.keys(e).reduce((t,r)=>(t[r]=e[r],delete e[r],t),{});return Object.assign(e,n,{[r]:i}),e}(e,n,r):t.fillWith?function(e,t,r){return e[r]=t.reduce((t,r)=>(t[r]=e[r],delete e[r],t),{}),e}(e,t.fillWith,r):e})},function(e,t,r){"use strict";const n=r(1).inspect,i=r(12),{LEVEL:o,MESSAGE:s,SPLAT:a}=r(2);e.exports=i((e,t={})=>{const r=Object.assign({},e);return delete r[o],delete r[s],delete r[a],e[s]=n(r,!1,t.depth||null,t.colorize),e})},function(e,t,r){"use strict";const{MESSAGE:n}=r(2);class i{constructor(e){this.template=e}transform(e){return e[n]=this.template(e),e}}e.exports=e=>new i(e),e.exports.Printf=e.exports.Format=i},function(e,t,r){"use strict";const n=r(12),{MESSAGE:i}=r(2),o=r(30);e.exports=n(e=>{const t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${r} ${e.message} ${t}`:`${e.level}:${r} ${e.message}`,e})},function(e,t,r){"use strict";const n=r(1),{SPLAT:i}=r(2),o=/%[scdjifoO%]/g,s=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const r=e.message,o=e[i]||e.splat||[],a=r.match(s),c=a&&a.length||0,u=t.length-c-o.length,l=u<0?o.splice(u,-1*u):[],d=l.length;if(d)for(let t=0;t<d;t++)Object.assign(e,l[t]);return e.message=n.format(r,...o),e}transform(e){const t=e.message,r=e[i]||e.splat;if(!r||!r.length)return e;const n=t&&t.match&&t.match(o);if(!n&&(r||r.length)){const t=r.length>1?r.splice(0):r,n=t.length;if(n)for(let r=0;r<n;r++)Object.assign(e,t[r]);return e}return n?this._splat(e,n):e}}e.exports=e=>new a(e)},function(e,t,r){"use strict";const n=r(131),i=r(12);e.exports=i((e,t={})=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e))},function(e,t,r){var n;!function(i){"use strict";var o={},s=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a=/\d\d?/,c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,u=/\[([^]*?)\]/gm,l=function(){};function d(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}function h(e){return function(t,r,n){var i=n[e].indexOf(r.charAt(0).toUpperCase()+r.substr(1).toLowerCase());~i&&(t.month=i)}}function f(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],g=d(p,3),v=d(m,3);o.i18n={dayNamesShort:v,dayNames:m,monthNamesShort:g,monthNames:p,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var y={D:function(e){return e.getDate()},DD:function(e){return f(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return f(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return f(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return f(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return f(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return f(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return f(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return f(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return f(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return f(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+f(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},w={D:[a,function(e,t){e.day=t}],Do:[new RegExp(a.source+c.source),function(e,t){e.day=parseInt(t,10)}],M:[a,function(e,t){e.month=t-1}],YY:[a,function(e,t){var r=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?r-1:r)+t}],h:[a,function(e,t){e.hour=t}],m:[a,function(e,t){e.minute=t}],s:[a,function(e,t){e.second=t}],YYYY:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],d:[a,l],ddd:[c,l],MMM:[c,h("monthNamesShort")],MMMM:[c,h("monthNames")],a:[c,function(e,t,r){var n=t.toLowerCase();n===r.amPm[0]?e.isPm=!1:n===r.amPm[1]&&(e.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(e,t){"Z"===t&&(t="+00:00");var r,n=(t+"").match(/([\+\-]|\d\d)/gi);n&&(r=60*n[1]+parseInt(n[2],10),e.timezoneOffset="+"===n[0]?r:-r)}]};w.dd=w.d,w.dddd=w.ddd,w.DD=w.D,w.mm=w.m,w.hh=w.H=w.HH=w.h,w.MM=w.M,w.ss=w.s,w.A=w.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(e,t,r){var n=r||o.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=o.masks[t]||t||o.masks.default;var i=[];return(t=(t=t.replace(u,(function(e,t){return i.push(t),"??"}))).replace(s,(function(t){return t in y?y[t](e,n):t.slice(1,t.length-1)}))).replace(/\?\?/g,(function(){return i.shift()}))},o.parse=function(e,t,r){var n=r||o.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=o.masks[t]||t,e.length>1e3)return!1;var i=!0,a={};if(t.replace(s,(function(t){if(w[t]){var r=w[t],o=e.search(r[0]);~o?e.replace(r[0],(function(t){return r[1](a,t,n),e=e.substr(o+t.length),t})):i=!1}return w[t]?"":t.slice(1,t.length-1)})),!i)return!1;var c,u=new Date;return!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0),null!=a.timezoneOffset?(a.minute=+(a.minute||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||u.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):c=new Date(a.year||u.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0),c},e.exports?e.exports=o:void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){"use strict";const n=r(53),i=r(12),{MESSAGE:o}=r(2);e.exports=i((e,t)=>(!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=n.strip(e[o])),e))},function(e,t,r){"use strict";var n=t.format=r(9);t.levels=r(54),Object.defineProperty(n,"align",{value:r(79)}),Object.defineProperty(n,"cli",{value:r(80)}),Object.defineProperty(n,"combine",{value:r(81)}),Object.defineProperty(n,"colorize",{value:r(38)}),Object.defineProperty(n,"json",{value:r(82)}),Object.defineProperty(n,"label",{value:r(83)}),Object.defineProperty(n,"logstash",{value:r(84)}),Object.defineProperty(n,"metadata",{value:r(85)}),Object.defineProperty(n,"padLevels",{value:r(55)}),Object.defineProperty(n,"prettyPrint",{value:r(86)}),Object.defineProperty(n,"printf",{value:r(87)}),Object.defineProperty(n,"simple",{value:r(88)}),Object.defineProperty(n,"splat",{value:r(89)}),Object.defineProperty(n,"timestamp",{value:r(90)}),Object.defineProperty(n,"uncolorize",{value:r(91)})},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(9),o=r(2),s=o.LEVEL,a=o.MESSAGE;e.exports=i((function(e,t){var r=t.stack;if(e instanceof Error){var i,o=Object.assign({},e,(n(i={level:e.level},s,e[s]||e.level),n(i,"message",e.message),n(i,a,e[a]||e.message),i));return r&&(o.stack=e.stack),o}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);var c=e.message;return e.message=c.message,e[a]=c.message,r&&(e.stack=c.stack),e}))},function(e,t,r){"use strict";var n=t.format=r(9);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:function(){return r(223)("./".concat(t,".js"))},configurable:!0})}t.levels=r(54),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t,r){"use strict";var n=r(9),i=r(137);e.exports=n((function(e){var t=+new Date;return(void 0).diff=t-((void 0).prevTime||t),(void 0).prevTime=t,e.ms="+".concat(i((void 0).diff)),e}))},function(e,t){var r=1e3,n=60*r,i=60*n,o=24*i,s=7*o,a=365.25*o;function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=n)return c(e,t,n,"minute");if(t>=r)return c(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";const{format:n}=r(1);t.warn={deprecated:e=>()=>{throw new Error(n("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([n("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,r,n){n.forEach(n=>{e[n]=t.warn[r](n)})},moved(e,t,r){function i(){return()=>{throw new Error([n("winston.%s was moved in winston@3.0.0.",r),n("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,r,{get:i,set:i})},forProperties(e,r,n){n.forEach(n=>{const i=t.warn[r](n);Object.defineProperty(e,n,{get:i,set:i})})}}},function(e,t,r){var n=r(140).Symbol;e.exports=n},function(e,t,r){var n=r(141),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,o){(0,n.default)(t)(e,(0,i.default)(r),o)};var n=o(r(245)),i=o(r(57));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,i){return e(r,t,n,i)}},e.exports=t.default},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";var n;e.exports=M,M.ReadableState=C;r(21).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=r(152),s=r(37).Buffer,a=global.Uint8Array||function(){};var c,u=r(1);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h=r(265),f=r(153),m=r(154).getHighWaterMark,p=r(31).codes,g=p.ERR_INVALID_ARG_TYPE,v=p.ERR_STREAM_PUSH_AFTER_EOF,y=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x=r(266).emitExperimentalWarning;r(24)(M,o);var b=["error","close","destroy","pause","resume"];function C(e,t,i){n=n||r(32),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(156).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function M(e){if(n=n||r(32),!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function S(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)e.emit("error",o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?e.emit("error",new w):E(e,u,t,!0);else if(u.ended)e.emit("error",new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?E(e,u,t,!1):R(e,u)):E(e,u,t,!1)}else n||(u.reading=!1,R(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),R(e,t)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),M.prototype.destroy=f.destroy,M.prototype._undestroy=f.undestroy,M.prototype._destroy=function(e,t){t(e)},M.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},M.prototype.unshift=function(e){return S(this,e,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(e){return l||(l=r(156).StringDecoder),this._readableState.decoder=new l(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var k=8388608;function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function T(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){c("readable nexttick read 0"),e.read(0)}function B(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function O(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(D,t,e))}function D(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}M.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):P(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&O(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(r,t))),null===(n=e>0?$(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&O(this)),null!==n&&this.emit("data",n),n},M.prototype._read=function(e){this.emit("error",new y("_read()"))},M.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:p;function s(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",f),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",d),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,F(e))}}(r);e.on("drain",u);var l=!1;function d(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){c("onerror",t),p(),e.removeListener("error",h),0===i(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",m),p()}function m(){c("onfinish"),e.removeListener("close",f),p()}function p(){c("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",f),e.once("finish",m),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},M.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},M.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?P(this):n.reading||process.nextTick(L,this))),r},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(T,this),r},M.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(T,this),t},M.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(B,e,t))}(this,e)),e.paused=!1,this},M.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(M.prototype[Symbol.asyncIterator]=function(){return x("Readable[Symbol.asyncIterator]"),void 0===d&&(d=r(268)),d(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),M._fromList=$,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,r){e.exports=r(13)},function(e,t,r){"use strict";function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(process.nextTick(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(31).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=M,M.WritableState=C;var o={deprecate:r(116)},s=r(152),a=r(37).Buffer,c=global.Uint8Array||function(){};var u,l=r(153),d=r(154).getHighWaterMark,h=r(31).codes,f=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,x=h.ERR_UNKNOWN_ENCODING;function b(){}function C(e,t,o){i=i||r(32),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),A(e,t))}(e,r,n,t,i);else{var o=_(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?process.nextTick(E,e,r,o,i):E(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function M(e){var t=this instanceof(i=i||r(32));if(!t&&!u.call(M,this))return new M(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function S(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,S(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=_(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}r(24)(M,s),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===M&&(e&&e._writableState instanceof C)}})):u=function(e){return e instanceof this},M.prototype.pipe=function(){this.emit("error",new g)},M.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=b),i.ending?function(e,t){var r=new w;e.emit("error",r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new f("chunk",["string","Buffer"],r)),!i||(e.emit("error",i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,c,n,i,o);return u}(this,i,s,e,t,r)),o},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new x(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,r){r(new m("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=l.destroy,M.prototype._undestroy=l.undestroy,M.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";var n=r(267).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=l;var n=r(31).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(32);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(24)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){var n=r(158),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=s[a].channels,u=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:c}),Object.defineProperty(s[a],"labels",{value:u})}s.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(n,i,o),a=Math.max(n,i,o),c=a-s;return a===s?t=0:n===a?t=(i-o)/c:i===a?t=2+(o-n)/c:o===a&&(t=4+(n-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),r=(s+a)/2,[t,100*(a===s?0:r<=.5?c/(a+s):c/(2-a-s)),100*r]},s.rgb.hsv=function(e){var t,r,n,i,o,s=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(s,a,c),l=u-Math.min(s,a,c),d=function(e){return(u-e)/6/l+.5};return 0===l?i=o=0:(o=l/u,t=d(s),r=d(a),n=d(c),s===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},s.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[s.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},s.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,o,s,a=1/0;for(var c in n)if(n.hasOwnProperty(c)){var u=n[c],l=(o=e,s=u,Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));l<a&&(a=l,r=c)}return r},s.keyword.rgb=function(e){return n[e]},s.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.hsl.rgb=function(e){var t,r,n,i,o,s=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[o=255*c,o,o];t=2*c-(r=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var u=0;u<3;u++)(n=s+1/3*-(u-1))<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*o;return i},s.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[t,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},s.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}},s.hsv.hsl=function(e){var t,r,n,i=e[0],o=e[1]/100,s=e[2]/100,a=Math.max(s,.01);return n=(2-o)*s,r=o*a,[i,100*(r=(r/=(t=(2-o)*a)<=1?t:2-t)||0),100*(n/=2)]},s.hwb.rgb=function(e){var t,r,n,i,o,s,a,c=e[0]/360,u=e[1]/100,l=e[2]/100,d=u+l;switch(d>1&&(u/=d,l/=d),n=6*c-(t=Math.floor(6*c)),0!=(1&t)&&(n=1-n),i=u+n*((r=1-l)-u),t){default:case 6:case 0:o=r,s=i,a=u;break;case 1:o=i,s=r,a=u;break;case 2:o=u,s=r,a=i;break;case 3:o=u,s=i,a=r;break;case 4:o=i,s=u,a=r;break;case 5:o=r,s=u,a=i}return[255*o,255*s,255*a]},s.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},s.xyz.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,s=e[2]/100;return r=-.9689*i+1.8758*o+.0415*s,n=.0557*i+-.204*o+1.057*s,t=(t=3.2406*i+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},s.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},s.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var o=Math.pow(r,3),s=Math.pow(t,3),a=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},s.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},s.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},s.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(r,n),i),s=Math.min(Math.min(r,n),i),a=o-s;return t=a<=0?0:o===r?(n-i)/a%6:o===n?2+(i-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},s.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},s.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],s=t%1*6,a=s%1,c=1-a;switch(Math.floor(s)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},s.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},s.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},s.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},s.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t){e.exports=require("string_decoder")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,r){"use strict";var n=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,r){"use strict";const{LEVEL:n}=r(2),i=r(97),o=r(288),s=r(58)("winston:create-logger");e.exports=function(e={}){e.levels=e.levels||i.npm.levels;class t extends o{constructor(e){super(e)}}const r=new t(e);return Object.keys(e.levels).forEach((function(e){s('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(...t){const i=this||r;if(1===t.length){const[o]=t,s=o&&o.message&&o||{message:o};return s.level=s[n]=e,i._addDefaultMeta(s),i.write(s),this||r}return 0===t.length?(i.log(e,""),i):i.log(e,...t)},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||r).isLevelEnabled(e)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})),r}},function(e,t,r){"use strict";const n=r(19),i=r(98),o=r(58)("winston:exception"),s=r(166),a=r(99),c=r(167);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:[`uncaughtException: ${t||"(no error message)"}`,e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),r=this._getExceptionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,(e,t)=>{const r=s(t),n=e.transport||e;function i(e){return()=>{o(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>{return(e.transport||e).handleExceptions})}}},function(e,t,r){"use strict";e.exports=function(e){var t,r=0;function n(){return r?t:(r=1,t=e.apply(this,arguments),e=null,t)}return n.displayName=e.displayName||e.name||n.displayName||n.name,n}},function(e,t,r){"use strict";const{Writable:n}=r(39);e.exports=class extends n{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,r){return e.exception?this.transport.log(e,r):(r(),!0)}}},function(e,t,r){"use strict";const n=r(19),i=r(98),o=r(58)("winston:rejection"),s=r(166),a=r(99),c=r(167);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:[`unhandledRejection: ${t||"(no error message)"}`,e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){const t=this.getAllInfo(e),r=this._getRejectionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,(e,t)=>{const r=s(t),n=e.transport||e;function i(e){return()=>{o(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>{return(e.transport||e).handleRejections})}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(23),s=r(170);function a(e,t){if(t===o.win32.sep&&e[0]===t&&e[1]===t){if(-1===e.indexOf(t,2))return[e,""]}const r=e.lastIndexOf(t)+1,n=e.slice(r);return[e.slice(0,r),n]}function c(e,t,r,n){const s=t===o.win32.sep;if(s&&!/^(\\\\.+\\)|([a-zA-Z]:\\)/.test(e))return null;if(!s&&e[0]!==t)return null;const a=!n&&"untitled"===r.scheme;return s?i.Uri.file(e):r.with({scheme:a?"file":r.scheme,path:e})}t.separatePath=a,t.getPathDetails=function(e,t,r){let n;const i=(n="untitled"===t.scheme?o===o.win32&&!r:"file"===t.scheme&&"/"!==t.fsPath[0])?o.win32:o.posix;n&&(e=e.replace(/\//g,"\\"));const c=e;("file"===t.scheme||"untitled"===t.scheme&&!r)&&(e=s(e));let u,[l,d]=a(e,i.sep);return u=i.isAbsolute(l)?l:i.join(a(n?t.fsPath:t.path,i.sep)[0],l),{fullPath:i.join(u,d),fullDirPath:u,dirName:l,baseName:d,partialPath:c,path:i}},t.resolveUri=c,t.readDirectory=function(e,t,r,o,s){return n(this,void 0,void 0,(function*(){try{const n=c(e,t,r,o);return null===n?[]:(yield i.workspace.fs.readDirectory(n)).map(e=>e[0]+(e[1]===i.FileType.Directory?t:"")).concat(s?[`.${t}`,`..${t}`]:[])}catch(e){return[]}}))}},function(e,t,r){"use strict";const n=r(19).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a string, got ${typeof e}`);return n?e.replace(/^~(?=$|\/|\\)/,n):e}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(23),s=r(8),a=r(3),c=r(41),u=r(1),l=r(299);class d{constructor(e,t){this._logger=s.Logger.get("HistoryFile"),this._history=[],this._historyFileName=e,this._historyDir=t||c.getExtensionDirPath()}get historyFilePath(){return o.join(this._historyDir,this._historyFileName)}add(e){return n(this,void 0,void 0,(function*(){if(!e||0===e.length)return;let t=this._history.indexOf(e);return-1!==t&&this._history.splice(t,1),this._history.push(e),this._history.length>a.configuration.history&&(this._history=this._history.slice(this._history.length-a.configuration.history)),this.save()}))}get(){return this._history.length>a.configuration.history&&(this._history=this._history.slice(this._history.length-a.configuration.history)),this._history}clear(){try{this._history=[],i.unlinkSync(this.historyFilePath)}catch(e){this._logger.warn(`Unable to delete ${this.historyFilePath}. err=${e}.`)}}load(){return n(this,void 0,void 0,(function*(){let e="";try{e=yield u.promisify(i.readFile)(this.historyFilePath,"utf-8")}catch(e){return void("ENOENT"===e.code?this._logger.debug(`History does not exist. path=${this._historyDir}`):this._logger.warn(`Failed to load history. path=${this._historyDir} err=${e}.`))}if(0!==e.length)try{let t=JSON.parse(e);if(!Array.isArray(t))throw Error("Unexpected format in history file. Expected JSON.");this._history=t}catch(e){this._logger.warn(`Deleting corrupted history file. path=${this._historyDir} err=${e}.`),this.clear()}}))}save(){return n(this,void 0,void 0,(function*(){try{yield u.promisify(l)(this._historyDir,509),yield u.promisify(i.writeFile)(this.historyFilePath,JSON.stringify(this._history),"utf-8")}catch(e){throw this._logger.error(`Failed to save history. filepath=${this.historyFilePath}. err=${e}.`),e}}))}}t.HistoryFile=d;t.SearchHistory=class extends d{constructor(e){super(".search_history",e)}};t.CommandLineHistory=class extends d{constructor(e){super(".cmdline_history",e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6);t.ReplaceState=class{constructor(e,t=1){this.originalChars=[],this.newChars=[],this.replaceCursorStartPosition=e,this.timesToRepeat=t;let r=n.TextEditor.getLineAt(e).text.substring(e.character);for(let[t,n]of r.split("").entries())this.originalChars[t+e.character]=n}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(7);t.OnlyCommand=class extends o.CommandBase{constructor(e){super(),this._name="only",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,(function*(){yield i.commands.executeCommand("workbench.action.closeEditorsInOtherGroups")}))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(23),o=r(0),s=r(7);var a;!function(e){e[e.Next=0]="Next",e[e.Previous=1]="Previous",e[e.First=2]="First",e[e.Last=3]="Last",e[e.Absolute=4]="Absolute",e[e.New=5]="New",e[e.Close=6]="Close",e[e.Only=7]="Only",e[e.Move=8]="Move"}(a=t.Tab||(t.Tab={}));t.TabCommand=class extends s.CommandBase{constructor(e){super(),this._name="tab",this._arguments=e}get arguments(){return this._arguments}executeCommandWithCount(e,t){return n(this,void 0,void 0,(function*(){for(let r=0;r<e;r++)yield o.commands.executeCommand(t)}))}execute(){return n(this,void 0,void 0,(function*(){switch(this._arguments.tab){case a.Absolute:void 0!==this._arguments.count&&this._arguments.count>=0&&(yield o.commands.executeCommand("workbench.action.openEditorAtIndex",this._arguments.count));break;case a.Next:if(void 0!==this._arguments.count&&this._arguments.count<=0)break;yield this.executeCommandWithCount(this._arguments.count||1,"workbench.action.nextEditorInGroup");break;case a.Previous:if(void 0!==this._arguments.count&&this._arguments.count<=0)break;yield this.executeCommandWithCount(this._arguments.count||1,"workbench.action.previousEditorInGroup");break;case a.First:yield o.commands.executeCommand("workbench.action.openEditorAtIndex1");break;case a.Last:yield o.commands.executeCommand("workbench.action.lastEditorInGroup");break;case a.New:if(!(void 0===this.arguments.file||""===this.arguments.file)){const e=i.isAbsolute(this.arguments.file),t=void 0!==o.workspace.workspaceFolders&&o.workspace.workspaceFolders.length>0,r=o.window.activeTextEditor.document.uri.fsPath;let n;if(e)n=this.arguments.file;else if(t){const e=o.workspace.workspaceFolders[0].uri.path;n=i.join(e,this.arguments.file)}else n=i.join(i.dirname(r),this.arguments.file);n!==r&&(yield o.commands.executeCommand("vscode.open",o.Uri.file(n)))}else yield o.commands.executeCommand("workbench.action.files.newUntitledFile");break;case a.Close:if(void 0===this._arguments.count){yield o.commands.executeCommand("workbench.action.closeActiveEditor");break}if(0===this._arguments.count)break;break;case a.Only:yield o.commands.executeCommand("workbench.action.closeOtherEditors");break;case a.Move:0===this.arguments.count?yield o.commands.executeCommand("moveActiveEditor",{to:"first"}):void 0===this.arguments.count?yield o.commands.executeCommand("moveActiveEditor",{to:"last"}):yield o.commands.executeCommand("moveActiveEditor",{to:"position",by:"tab",value:this.arguments.count+1})}}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18);t.isTextTransformation=e=>"insertText"===e.type||"replaceText"===e.type||"deleteText"===e.type||"deleteRange"===e.type||"moveCursor"===e.type;const i=e=>{switch(e.type){case"insertText":return new n.Range(e.position,e.position);case"replaceText":return new n.Range(e.start,e.end);case"deleteText":return new n.Range(e.position,e.position);case"deleteRange":return e.range;case"moveCursor":return}throw new Error("Unhandled text transformation: "+e)};t.areAnyTransformationsOverlapping=e=>{for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++){const n=e[t],o=e[r],s=i(n),a=i(o);if(s&&a&&s.overlaps(a))return!0}return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(304),i=r(306),o=r(308),s=r(310),a=r(311),c=r(313),u=r(314),l=r(315),d=r(317),h=r(319),f=r(321),m=r(323),p=r(326),g=r(327),v=r(328),y=r(329),w=r(331),x=r(333),b=r(335),C=r(337);t.commandParsers={w:v.parseWriteCommandArgs,write:v.parseWriteCommandArgs,wa:g.parseWallCommandArgs,wall:g.parseWallCommandArgs,nohlsearch:a.parseNohlCommandArgs,noh:a.parseNohlCommandArgs,nohl:a.parseNohlCommandArgs,close:n.parseCloseCommandArgs,clo:n.parseCloseCommandArgs,quit:u.parseQuitCommandArgs,q:u.parseQuitCommandArgs,qa:u.parseQuitAllCommandArgs,qall:u.parseQuitAllCommandArgs,wq:y.parseWriteQuitCommandArgs,writequit:y.parseWriteQuitCommandArgs,x:y.parseWriteQuitCommandArgs,wqa:w.parseWriteQuitAllCommandArgs,wqall:w.parseWriteQuitAllCommandArgs,xa:w.parseWriteQuitAllCommandArgs,xall:w.parseWriteQuitAllCommandArgs,tabn:p.parseTabNCommandArgs,tabnext:p.parseTabNCommandArgs,tabp:p.parseTabPCommandArgs,tabprevious:p.parseTabPCommandArgs,tabN:p.parseTabPCommandArgs,tabNext:p.parseTabPCommandArgs,tabfirst:p.parseTabFirstCommandArgs,tabfir:p.parseTabFirstCommandArgs,tablast:p.parseTabLastCommandArgs,tabl:p.parseTabLastCommandArgs,tabe:p.parseTabNewCommandArgs,tabedit:p.parseTabNewCommandArgs,tabnew:p.parseTabNewCommandArgs,tabclose:p.parseTabCloseCommandArgs,tabc:p.parseTabCloseCommandArgs,tabo:p.parseTabOnlyCommandArgs,tabonly:p.parseTabOnlyCommandArgs,tabm:p.parseTabMovementCommandArgs,s:m.parseSubstituteCommandArgs,smile:C.parseSmileCommandArgs,e:s.parseEditFileCommandArgs,edit:s.parseEditFileCommandArgs,ene:s.parseEditNewFileCommandArgs,enew:s.parseEditNewFileCommandArgs,sp:s.parseEditFileInNewHorizontalWindowCommandArgs,split:s.parseEditFileInNewHorizontalWindowCommandArgs,vs:s.parseEditFileInNewVerticalWindowCommandArgs,vsp:s.parseEditFileInNewVerticalWindowCommandArgs,vsplit:s.parseEditFileInNewVerticalWindowCommandArgs,new:s.parseEditNewFileInNewHorizontalWindowCommandArgs,vne:s.parseEditNewFileInNewVerticalWindowCommandArgs,vnew:s.parseEditNewFileInNewVerticalWindowCommandArgs,on:c.parseOnlyCommandArgs,only:c.parseOnlyCommandArgs,set:h.parseOptionsCommandArgs,se:h.parseOptionsCommandArgs,read:l.parseReadCommandArgs,r:l.parseReadCommandArgs,reg:d.parseRegisterCommandArgs,dig:o.parseDigraphCommandArgs,digr:o.parseDigraphCommandArgs,digraph:o.parseDigraphCommandArgs,digraphs:o.parseDigraphCommandArgs,d:i.parseDeleteRangeLinesCommandArgs,sort:f.parseSortCommandArgs,f:x.parseFileInfoCommandArgs,fi:x.parseFileInfoCommandArgs,fil:x.parseFileInfoCommandArgs,file:x.parseFileInfoCommandArgs,marks:b.parseMarksCommandArgs}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultDigraphs={SH:["^A",1],SX:["^B",2],EX:["^C",3],ET:["^D",4],EQ:["^E",5],AK:["^F",6],BL:["^G",7],BS:["^H",8],HT:["^I",9],LF:["^@",10],NU:["^@",10],VT:["^K",11],FF:["^L",12],CR:["^M",13],SO:["^N",14],SI:["^O",15],DL:["^P",16],D1:["^Q",17],D2:["^R",18],D3:["^S",19],D4:["^T",20],NK:["^U",21],SY:["^V",22],EB:["^W",23],CN:["^X",24],EM:["^Y",25],SB:["^Z",26],EC:["^[",27],FS:["^\\",28],GS:["^]",29],RS:["^^",30],US:["^_",31],SP:[" ",32],Nb:["#",35],DO:["$",36],At:["@",64],"<(":["[",91],"//":["\\",92],")>":["]",93],"'>":["^",94],"'!":["`",96],"(!":["{",123],"!!":["|",124],"!)":["}",125],"'?":["~",126],DT:["^?",127],PA:["<80>",128],HO:["<81>",129],BH:["<82>",130],NH:["<83>",131],IN:["<84>",132],NL:["<85>",133],SA:["<86>",134],ES:["<87>",135],HS:["<88>",136],HJ:["<89>",137],VS:["<8a>",138],PD:["<8b>",139],PU:["<8c>",140],RI:["<8d>",141],S2:["<8e>",142],S3:["<8f>",143],DC:["<90>",144],P1:["<91>",145],P2:["<92>",146],TS:["<93>",147],CC:["<94>",148],MW:["<95>",149],SG:["<96>",150],EG:["<97>",151],SS:["<98>",152],GC:["<99>",153],SC:["<9a>",154],CI:["<9b>",155],ST:["<9c>",156],OC:["<9d>",157],PM:["<9e>",158],AC:["<9f>",159],NS:["",160],"~!":["",161],"!I":["",161],Ct:["",162],"c|":["",162],Pd:["",163],$$:["",163],Cu:["",164],ox:["",164],Ye:["",165],"Y-":["",165],BB:["",166],"||":["",166],SE:["",167],"':":["",168],Co:["",169],cO:["",169],"-a":["",170],"<<":["",171],NO:["",172],"-,":["",172],"--":["",173],Rg:["",174],"'m":["",175],"-=":["",175],DG:["",176],"~o":["",176],"+-":["",177],"2S":["",178],22:["",178],"3S":["",179],33:["",179],"''":["",180],My:["",181],PI:["",182],pp:["",182],".M":["",183],"~.":["",183],"',":["",184],"1S":["",185],11:["",185],"-o":["",186],">>":["",187],14:["",188],12:["",189],34:["",190],"?I":["",191],"~?":["",191],"A!":["",192],"A`":["",192],"A'":["",193],"A>":["",194],"A^":["",194],"A?":["",195],"A~":["",195],"A:":["",196],'A"':["",196],AA:["",197],"A@":["",197],AE:["",198],"C,":["",199],"E!":["",200],"E`":["",200],"E'":["",201],"E>":["",202],"E^":["",202],"E:":["",203],'E"':["",203],"I!":["",204],"I`":["",204],"I'":["",205],"I>":["",206],"I^":["",206],"I:":["",207],'I"':["",207],"D-":["",208],"N?":["",209],"N~":["",209],"O!":["",210],"O`":["",210],"O'":["",211],"O>":["",212],"O^":["",212],"O?":["",213],"O~":["",213],"O:":["",214],"*X":["",215],"/\\":["",215],"O/":["",216],"U!":["",217],"U`":["",217],"U'":["",218],"U>":["",219],"U^":["",219],"U:":["",220],"Y'":["",221],TH:["",222],Ip:["",222],ss:["",223],"a!":["",224],"a`":["",224],"a'":["",225],"a>":["",226],"a^":["",226],"a?":["",227],"a~":["",227],"a:":["",228],'a"':["",228],aa:["",229],"a@":["",229],ae:["",230],"c,":["",231],"e!":["",232],"e`":["",232],"e'":["",233],"e>":["",234],"e^":["",234],"e:":["",235],'e"':["",235],"i!":["",236],"i`":["",236],"i'":["",237],"i>":["",238],"i^":["",238],"i:":["",239],"d-":["",240],"n?":["",241],"n~":["",241],"o!":["",242],"o`":["",242],"o'":["",243],"o>":["",244],"o^":["",244],"o?":["",245],"o~":["",245],"o:":["",246],"-:":["",247],"o/":["",248],"u!":["",249],"u`":["",249],"u'":["",250],"u>":["",251],"u^":["",251],"u:":["",252],"y'":["",253],th:["",254],"y:":["",255],'y"':["",255],"A-":["",256],"a-":["",257],"A(":["",258],"a(":["",259],"A;":["",260],"a;":["",261],"C'":["",262],"c'":["",263],"C>":["",264],"c>":["",265],"C.":["",266],"c.":["",267],"C<":["",268],"c<":["",269],"D<":["",270],"d<":["",271],"D/":["",272],"d/":["",273],"E-":["",274],"e-":["",275],"E(":["",276],"e(":["",277],"E.":["",278],"e.":["",279],"E;":["",280],"e;":["",281],"E<":["",282],"e<":["",283],"G>":["",284],"g>":["",285],"G(":["",286],"g(":["",287],"G.":["",288],"g.":["",289],"G,":["",290],"g,":["",291],"H>":["",292],"h>":["",293],"H/":["",294],"h/":["",295],"I?":["",296],"i?":["",297],"I-":["",298],"i-":["",299],"I(":["",300],"i(":["",301],"I;":["",302],"i;":["",303],"I.":["",304],"i.":["",305],IJ:["",306],ij:["",307],"J>":["",308],"j>":["",309],"K,":["",310],"k,":["",311],kk:["",312],"L'":["",313],"l'":["",314],"L,":["",315],"l,":["",316],"L<":["",317],"l<":["",318],"L.":["",319],"l.":["",320],"L/":["",321],"l/":["",322],"N'":["",323],"n'":["",324],"N,":["",325],"n,":["",326],"N<":["",327],"n<":["",328],"'n":["",329],NG:["",330],ng:["",331],"O-":["",332],"o-":["",333],"O(":["",334],"o(":["",335],'O"':["",336],'o"':["",337],OE:["",338],oe:["",339],"R'":["",340],"r'":["",341],"R,":["",342],"r,":["",343],"R<":["",344],"r<":["",345],"S'":["",346],"s'":["",347],"S>":["",348],"s>":["",349],"S,":["",350],"s,":["",351],"S<":["",352],"s<":["",353],"T,":["",354],"t,":["",355],"T<":["",356],"t<":["",357],"T/":["",358],"t/":["",359],"U?":["",360],"u?":["",361],"U-":["",362],"u-":["",363],"U(":["",364],"u(":["",365],U0:["",366],u0:["",367],'U"':["",368],'u"':["",369],"U;":["",370],"u;":["",371],"W>":["",372],"w>":["",373],"Y>":["",374],"y>":["",375],"Y:":["",376],"Z'":["",377],"z'":["",378],"Z.":["",379],"z.":["",380],"Z<":["",381],"z<":["",382],fs:["",383],O9:["",416],o9:["",417],OI:["",418],oi:["",419],yr:["",422],U9:["",431],u9:["",432],"Z/":["",437],"z/":["",438],ED:["",439],"A<":["",461],"a<":["",462],"I<":["",463],"i<":["",464],"O<":["",465],"o<":["",466],"U<":["",467],"u<":["",468],A1:["",478],a1:["",479],A7:["",480],a7:["",481],A3:["",482],a3:["",483],"G/":["",484],"g/":["",485],"G<":["",486],"g<":["",487],"K<":["",488],"k<":["",489],"O;":["",490],"o;":["",491],O1:["",492],o1:["",493],EZ:["",494],ez:["",495],"j<":["",496],"G'":["",500],"g'":["",501],";S":["",703],"'<":["",711],"'(":["",728],"'.":["",729],"'0":["",730],"';":["",731],"'\"":["",733],"A%":["",902],"E%":["",904],"Y%":["",905],"I%":["",906],"O%":["",908],"U%":["",910],"W%":["",911],i3:["",912],"A*":["",913],"B*":["",914],"G*":["",915],"D*":["",916],"E*":["",917],"Z*":["",918],"Y*":["",919],"H*":["",920],"I*":["",921],"K*":["",922],"L*":["",923],"M*":["",924],"N*":["",925],"C*":["",926],"O*":["",927],"P*":["",928],"R*":["",929],"S*":["",931],"T*":["",932],"U*":["",933],"F*":["",934],"X*":["",935],"Q*":["",936],"W*":["",937],"J*":["",938],"V*":["",939],"a%":["",940],"e%":["",941],"y%":["",942],"i%":["",943],u3:["",944],"a*":["",945],"b*":["",946],"g*":["",947],"d*":["",948],"e*":["",949],"z*":["",950],"y*":["",951],"h*":["",952],"i*":["",953],"k*":["",954],"l*":["",955],"m*":["",956],"n*":["",957],"c*":["",958],"o*":["",959],"p*":["",960],"r*":["",961],"*s":["",962],"s*":["",963],"t*":["",964],"u*":["",965],"f*":["",966],"x*":["",967],"q*":["",968],"w*":["",969],"j*":["",970],"v*":["",971],"o%":["",972],"u%":["",973],"w%":["",974],"'G":["",984],",G":["",985],T3:["",986],t3:["",987],M3:["",988],m3:["",989],K3:["",990],k3:["",991],P3:["",992],p3:["",993],"'%":["",1012],j3:["",1013],IO:["",1025],"D%":["",1026],"G%":["",1027],IE:["",1028],DS:["",1029],II:["",1030],YI:["",1031],"J%":["",1032],LJ:["",1033],NJ:["",1034],Ts:["",1035],KJ:["",1036],"V%":["",1038],DZ:["",1039],"A=":["",1040],"B=":["",1041],"V=":["",1042],"G=":["",1043],"D=":["",1044],"E=":["",1045],"Z%":["",1046],"Z=":["",1047],"I=":["",1048],"J=":["",1049],"K=":["",1050],"L=":["",1051],"M=":["",1052],"N=":["",1053],"O=":["",1054],"P=":["",1055],"R=":["",1056],"S=":["",1057],"T=":["",1058],"U=":["",1059],"F=":["",1060],"H=":["",1061],"C=":["",1062],"C%":["",1063],"S%":["",1064],Sc:["",1065],'="':["",1066],"Y=":["",1067],'%"':["",1068],JE:["",1069],JU:["",1070],JA:["",1071],"a=":["",1072],"b=":["",1073],"v=":["",1074],"g=":["",1075],"d=":["",1076],"e=":["",1077],"z%":["",1078],"z=":["",1079],"i=":["",1080],"j=":["",1081],"k=":["",1082],"l=":["",1083],"m=":["",1084],"n=":["",1085],"o=":["",1086],"p=":["",1087],"r=":["",1088],"s=":["",1089],"t=":["",1090],"u=":["",1091],"f=":["",1092],"h=":["",1093],"c=":["",1094],"c%":["",1095],"s%":["",1096],sc:["",1097],"='":["",1098],"y=":["",1099],"%'":["",1100],je:["",1101],ju:["",1102],ja:["",1103],io:["",1105],"d%":["",1106],"g%":["",1107],ie:["",1108],ds:["",1109],ii:["",1110],yi:["",1111],"j%":["",1112],lj:["",1113],nj:["",1114],ts:["",1115],kj:["",1116],"v%":["",1118],dz:["",1119],Y3:["",1122],y3:["",1123],O3:["",1130],o3:["",1131],F3:["",1138],f3:["",1139],V3:["",1140],v3:["",1141],C3:["",1152],c3:["",1153],G3:["",1168],g3:["",1169],"A+":["",1488],"B+":["",1489],"G+":["",1490],"D+":["",1491],"H+":["",1492],"W+":["",1493],"Z+":["",1494],"X+":["",1495],Tj:["",1496],"J+":["",1497],"K%":["",1498],"K+":["",1499],"L+":["",1500],"M%":["",1501],"M+":["",1502],"N%":["",1503],"N+":["",1504],"S+":["",1505],"E+":["",1506],"P%":["",1507],"P+":["",1508],Zj:["",1509],ZJ:["",1510],"Q+":["",1511],"R+":["",1512],Sh:["",1513],"T+":["",1514],",+":["",1548],";+":["",1563],"?+":["",1567],"H'":["",1569],aM:["",1570],aH:["",1571],wH:["",1572],ah:["",1573],yH:["",1574],"a+":["",1575],"b+":["",1576],tm:["",1577],"t+":["",1578],tk:["",1579],"g+":["",1580],hk:["",1581],"x+":["",1582],"d+":["",1583],dk:["",1584],"r+":["",1585],"z+":["",1586],"s+":["",1587],sn:["",1588],"c+":["",1589],dd:["",1590],tj:["",1591],zH:["",1592],"e+":["",1593],"i+":["",1594],"++":["",1600],"f+":["",1601],"q+":["",1602],"k+":["",1603],"l+":["",1604],"m+":["",1605],"n+":["",1606],"h+":["",1607],"w+":["",1608],"j+":["",1609],"y+":["",1610],":+":["",1611],'"+':["",1612],"=+":["",1613],"/+":["",1614],"'+":["",1615],"1+":["",1616],"3+":["",1617],"0+":["",1618],aS:["",1648],"p+":["",1662],"v+":["",1700],gf:["",1711],"0a":["",1776],"1a":["",1777],"2a":["",1778],"3a":["",1779],"4a":["",1780],"5a":["",1781],"6a":["",1782],"7a":["",1783],"8a":["",1784],"9a":["",1785],"B.":["",7682],"b.":["",7683],B_:["",7686],b_:["",7687],"D.":["",7690],"d.":["",7691],D_:["",7694],d_:["",7695],"D,":["",7696],"d,":["",7697],"F.":["",7710],"f.":["",7711],"G-":["",7712],"g-":["",7713],"H.":["",7714],"h.":["",7715],"H:":["",7718],"h:":["",7719],"H,":["",7720],"h,":["",7721],"K'":["",7728],"k'":["",7729],K_:["",7732],k_:["",7733],L_:["",7738],l_:["",7739],"M'":["",7742],"m'":["",7743],"M.":["",7744],"m.":["",7745],"N.":["",7748],"n.":["",7749],N_:["",7752],n_:["",7753],"P'":["",7764],"p'":["",7765],"P.":["",7766],"p.":["",7767],"R.":["",7768],"r.":["",7769],R_:["",7774],r_:["",7775],"S.":["",7776],"s.":["",7777],"T.":["",7786],"t.":["",7787],T_:["",7790],t_:["",7791],"V?":["",7804],"v?":["",7805],"W!":["",7808],"w!":["",7809],"W'":["",7810],"w'":["",7811],"W:":["",7812],"w:":["",7813],"W.":["",7814],"w.":["",7815],"X.":["",7818],"x.":["",7819],"X:":["",7820],"x:":["",7821],"Y.":["",7822],"y.":["",7823],"Z>":["",7824],"z>":["",7825],Z_:["",7828],z_:["",7829],h_:["",7830],"t:":["",7831],w0:["",7832],y0:["",7833],A2:["",7842],a2:["",7843],E2:["",7866],e2:["",7867],"E?":["",7868],"e?":["",7869],I2:["",7880],i2:["",7881],O2:["",7886],o2:["",7887],U2:["",7910],u2:["",7911],"Y!":["",7922],"y!":["",7923],Y2:["",7926],y2:["",7927],"Y?":["",7928],"y?":["",7929],";'":["",7936],",'":["",7937],";!":["",7938],",!":["",7939],"?;":["",7940],"?,":["",7941],"!:":["",7942],"?:":["",7943],"1N":["",8194],"1M":["",8195],"3M":["",8196],"4M":["",8197],"6M":["",8198],"1T":["",8201],"1H":["",8202],"-1":["",8208],"-N":["",8211],"-M":["",8212],"-3":["",8213],"!2":["",8214],"=2":["",8215],"'6":["",8216],"'9":["",8217],".9":["",8218],"9'":["",8219],'"6':["",8220],'"9':["",8221],":9":["",8222],'9"':["",8223],"/-":["",8224],"/=":["",8225],"..":["",8229],",.":["",8230],"%0":["",8240],"1'":["",8242],"2'":["",8243],"3'":["",8244],'1"':["",8245],'2"':["",8246],'3"':["",8247],Ca:["",8248],"<1":["",8249],">1":["",8250],":X":["",8251],"'-":["",8254],"/f":["",8260],"0S":["",8304],"4S":["",8308],"5S":["",8309],"6S":["",8310],"7S":["",8311],"8S":["",8312],"9S":["",8313],"+S":["",8314],"-S":["",8315],"=S":["",8316],"(S":["",8317],")S":["",8318],nS:["",8319],"0s":["",8320],"1s":["",8321],"2s":["",8322],"3s":["",8323],"4s":["",8324],"5s":["",8325],"6s":["",8326],"7s":["",8327],"8s":["",8328],"9s":["",8329],"+s":["",8330],"-s":["",8331],"=s":["",8332],"(s":["",8333],")s":["",8334],Li:["",8356],Pt:["",8359],"W=":["",8361],"=e":["",8364],Eu:["",8364],"=R":["",8381],"=P":["",8381],oC:["",8451],co:["",8453],oF:["",8457],N0:["",8470],PO:["",8471],Rx:["",8478],SM:["",8480],TM:["",8482],Om:["",8486],AO:["",8491],13:["",8531],23:["",8532],15:["",8533],25:["",8534],35:["",8535],45:["",8536],16:["",8537],56:["",8538],18:["",8539],38:["",8540],58:["",8541],78:["",8542],"1R":["",8544],"2R":["",8545],"3R":["",8546],"4R":["",8547],"5R":["",8548],"6R":["",8549],"7R":["",8550],"8R":["",8551],"9R":["",8552],aR:["",8553],bR:["",8554],cR:["",8555],"1r":["",8560],"2r":["",8561],"3r":["",8562],"4r":["",8563],"5r":["",8564],"6r":["",8565],"7r":["",8566],"8r":["",8567],"9r":["",8568],ar:["",8569],br:["",8570],cr:["",8571],"<-":["",8592],"-!":["",8593],"->":["",8594],"-v":["",8595],"<>":["",8596],UD:["",8597],"<=":["",8656],"=>":["",8658],"==":["",8660],FA:["",8704],dP:["",8706],TE:["",8707],"/0":["",8709],DE:["",8710],NB:["",8711],"(-":["",8712],"-)":["",8715],"*P":["",8719],"+Z":["",8721],"-2":["",8722],"-+":["",8723],"*-":["",8727],Ob:["",8728],Sb:["",8729],RT:["",8730],"0(":["",8733],"00":["",8734],"-L":["",8735],"-V":["",8736],PP:["",8741],AN:["",8743],OR:["",8744],"(U":["",8745],")U":["",8746],In:["",8747],DI:["",8748],Io:["",8750],".:":["",8756],":.":["",8757],":R":["",8758],"::":["",8759],"?1":["",8764],CG:["",8766],"?-":["",8771],"?=":["",8773],"?2":["",8776],"=?":["",8780],HI:["",8787],"!=":["",8800],"=3":["",8801],"=<":["",8804],">=":["",8805],"<*":["",8810],"*>":["",8811],"!<":["",8814],"!>":["",8815],"(C":["",8834],")C":["",8835],"(_":["",8838],")_":["",8839],"0.":["",8857],"02":["",8858],"-T":["",8869],".P":["",8901],":3":["",8942],".3":["",8943],Eh:["",8962],"<7":["",8968],">7":["",8969],"7<":["",8970],"7>":["",8971],NI:["",8976],"(A":["",8978],TR:["",8981],Iu:["",8992],Il:["",8993],"</":["",9001],"/>":["",9002],Vs:["",9251],"1h":["",9280],"3h":["",9281],"2h":["",9282],"4h":["",9283],"1j":["",9286],"2j":["",9287],"3j":["",9288],"4j":["",9289],"1.":["",9352],"2.":["",9353],"3.":["",9354],"4.":["",9355],"5.":["",9356],"6.":["",9357],"7.":["",9358],"8.":["",9359],"9.":["",9360],hh:["",9472],HH:["",9473],vv:["",9474],VV:["",9475],"3-":["",9476],"3_":["",9477],"3!":["",9478],"3/":["",9479],"4-":["",9480],"4_":["",9481],"4!":["",9482],"4/":["",9483],dr:["",9484],dR:["",9485],Dr:["",9486],DR:["",9487],dl:["",9488],dL:["",9489],Dl:["",9490],LD:["",9491],ur:["",9492],uR:["",9493],Ur:["",9494],UR:["",9495],ul:["",9496],uL:["",9497],Ul:["",9498],UL:["",9499],vr:["",9500],vR:["",9501],Vr:["",9504],VR:["",9507],vl:["",9508],vL:["",9509],Vl:["",9512],VL:["",9515],dh:["",9516],dH:["",9519],Dh:["",9520],DH:["",9523],uh:["",9524],uH:["",9527],Uh:["",9528],UH:["",9531],vh:["",9532],vH:["",9535],Vh:["",9538],VH:["",9547],FD:["",9585],BD:["",9586],TB:["",9600],LB:["",9604],FB:["",9608],lB:["",9612],RB:["",9616],".S":["",9617],":S":["",9618],"?S":["",9619],fS:["",9632],OS:["",9633],RO:["",9634],Rr:["",9635],RF:["",9636],RY:["",9637],RH:["",9638],RZ:["",9639],RK:["",9640],RX:["",9641],sB:["",9642],SR:["",9644],Or:["",9645],UT:["",9650],uT:["",9651],PR:["",9654],Tr:["",9655],Dt:["",9660],dT:["",9661],PL:["",9664],Tl:["",9665],Db:["",9670],Dw:["",9671],LZ:["",9674],"0m":["",9675],"0o":["",9678],"0M":["",9679],"0L":["",9680],"0R":["",9681],Sn:["",9688],Ic:["",9689],Fd:["",9698],Bd:["",9699],"*2":["",9733],"*1":["",9734],"<H":["",9756],">H":["",9758],"0u":["",9786],"0U":["",9787],SU:["",9788],Fm:["",9792],Ml:["",9794],cS:["",9824],cH:["",9825],cD:["",9826],cC:["",9827],Md:["",9833],M8:["",9834],M2:["",9835],Mb:["",9837],Mx:["",9838],MX:["",9839],OK:["",10003],XX:["",10007],"-X":["",10016],IS:["",12288],",_":["",12289],"._":["",12290],'+"':["",12291],"+_":["",12292],"*_":["",12293],";_":["",12294],"0_":["",12295],"<+":["",12298],">+":["",12299],"<'":["",12300],">'":["",12301],'<"':["",12302],'>"':["",12303],'("':["",12304],')"':["",12305],"=T":["",12306],"=_":["",12307],"('":["",12308],")'":["",12309],"(I":["",12310],")I":["",12311],"-?":["",12316],A5:["",12353],a5:["",12354],I5:["",12355],i5:["",12356],U5:["",12357],u5:["",12358],E5:["",12359],e5:["",12360],O5:["",12361],o5:["",12362],ka:["",12363],ga:["",12364],ki:["",12365],gi:["",12366],ku:["",12367],gu:["",12368],ke:["",12369],ge:["",12370],ko:["",12371],go:["",12372],sa:["",12373],za:["",12374],si:["",12375],zi:["",12376],su:["",12377],zu:["",12378],se:["",12379],ze:["",12380],so:["",12381],zo:["",12382],ta:["",12383],da:["",12384],ti:["",12385],di:["",12386],tU:["",12387],tu:["",12388],du:["",12389],te:["",12390],de:["",12391],to:["",12392],do:["",12393],na:["",12394],ni:["",12395],nu:["",12396],ne:["",12397],no:["",12398],ha:["",12399],ba:["",12400],pa:["",12401],hi:["",12402],bi:["",12403],pi:["",12404],hu:["",12405],bu:["",12406],pu:["",12407],he:["",12408],be:["",12409],pe:["",12410],ho:["",12411],bo:["",12412],po:["",12413],ma:["",12414],mi:["",12415],mu:["",12416],me:["",12417],mo:["",12418],yA:["",12419],ya:["",12420],yU:["",12421],yu:["",12422],yO:["",12423],yo:["",12424],ra:["",12425],ri:["",12426],ru:["",12427],re:["",12428],ro:["",12429],wA:["",12430],wa:["",12431],wi:["",12432],we:["",12433],wo:["",12434],n5:["",12435],vu:["",12436],'"5':["",12443],"05":["",12444],"*5":["",12445],"+5":["",12446],a6:["",12449],A6:["",12450],i6:["",12451],I6:["",12452],u6:["",12453],U6:["",12454],e6:["",12455],E6:["",12456],o6:["",12457],O6:["",12458],Ka:["",12459],Ga:["",12460],Ki:["",12461],Gi:["",12462],Ku:["",12463],Gu:["",12464],Ke:["",12465],Ge:["",12466],Ko:["",12467],Go:["",12468],Sa:["",12469],Za:["",12470],Si:["",12471],Zi:["",12472],Su:["",12473],Zu:["",12474],Se:["",12475],Ze:["",12476],So:["",12477],Zo:["",12478],Ta:["",12479],Da:["",12480],Ti:["",12481],Di:["",12482],TU:["",12483],Tu:["",12484],Du:["",12485],Te:["",12486],De:["",12487],To:["",12488],Do:["",12489],Na:["",12490],Ni:["",12491],Nu:["",12492],Ne:["",12493],No:["",12494],Ha:["",12495],Ba:["",12496],Pa:["",12497],Hi:["",12498],Bi:["",12499],Pi:["",12500],Hu:["",12501],Bu:["",12502],Pu:["",12503],He:["",12504],Be:["",12505],Pe:["",12506],Ho:["",12507],Bo:["",12508],Po:["",12509],Ma:["",12510],Mi:["",12511],Mu:["",12512],Me:["",12513],Mo:["",12514],YA:["",12515],Ya:["",12516],YU:["",12517],Yu:["",12518],YO:["",12519],Yo:["",12520],Ra:["",12521],Ri:["",12522],Ru:["",12523],Re:["",12524],Ro:["",12525],WA:["",12526],Wa:["",12527],Wi:["",12528],We:["",12529],Wo:["",12530],N6:["",12531],Vu:["",12532],KA:["",12533],KE:["",12534],Va:["",12535],Vi:["",12536],Ve:["",12537],Vo:["",12538],".6":["",12539],"-6":["",12540],"*6":["",12541],"+6":["",12542],b4:["",12549],p4:["",12550],m4:["",12551],f4:["",12552],d4:["",12553],t4:["",12554],n4:["",12555],l4:["",12556],g4:["",12557],k4:["",12558],h4:["",12559],j4:["",12560],q4:["",12561],x4:["",12562],zh:["",12563],ch:["",12564],sh:["",12565],r4:["",12566],z4:["",12567],c4:["",12568],s4:["",12569],a4:["",12570],o4:["",12571],e4:["",12572],ai:["",12574],ei:["",12575],au:["",12576],ou:["",12577],an:["",12578],en:["",12579],aN:["",12580],eN:["",12581],er:["",12582],i4:["",12583],u4:["",12584],iu:["",12585],v4:["",12586],nG:["",12587],gn:["",12588],"1c":["",12832],"2c":["",12833],"3c":["",12834],"4c":["",12835],"5c":["",12836],"6c":["",12837],"7c":["",12838],"8c":["",12839],"9c":["",12840],ff:["",64256],fi:["",64257],fl:["",64258],ft:["",64261],st:["",64262],"W`":["",7808],"w`":["",7809],"Y`":["",7922],"y`":["",7923]}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(7);t.WallCommand=class extends o.CommandBase{constructor(e){super(),this._name="wall",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,(function*(){yield i.workspace.saveAll(!1)}))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(7),s=r(23),a=r(0),c=r(1),u=r(8),l=r(27);t.WriteCommand=class extends o.CommandBase{constructor(e){super(),this._logger=u.Logger.get("Write"),this._name="write",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,(function*(){if(this.arguments.opt)this._logger.warn("not implemented");else if(this.arguments.file)this._logger.warn("not implemented");else if(this.arguments.append)this._logger.warn("not implemented");else if(this.arguments.cmd)this._logger.warn("not implemented");else if(e.editor.document.isUntitled||"file"!==e.editor.document.uri.scheme)yield this.background(a.commands.executeCommand("workbench.action.files.save"));else try{return yield c.promisify(i.access)(e.editor.document.fileName,i.constants.W_OK),this.save(e)}catch(t){if(this.arguments.bang)try{return yield c.promisify(i.chmod)(e.editor.document.fileName,666),this.save(e)}catch(t){l.StatusBar.Set(t.message,e.currentMode,e.isRecordingMacro,!0)}else l.StatusBar.Set(t.message,e.currentMode,e.isRecordingMacro,!0)}}))}save(e){return n(this,void 0,void 0,(function*(){yield this.background(e.editor.document.save().then(()=>{let t='"'+s.basename(e.editor.document.fileName)+'" '+e.editor.document.lineCount+"L "+e.editor.document.getText().length+"C written";l.StatusBar.Set(t,e.currentMode,e.isRecordingMacro,!0)},t=>l.StatusBar.Set(t,e.currentMode,e.isRecordingMacro,!0)))}))}background(e){return n(this,void 0,void 0,(function*(){this._arguments.bgWrite||(yield e)}))}}},function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a=r(0),c=r(3),u=r(11),l=r(4),d=r(34);let h=n=class extends d.BaseMovement{constructor(){super(...arguments),this.keys=[["s","<character>","<character>"],["z","<character>","<character>"]]}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"s":"z";return c.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}execAction(e,t){return s(this,void 0,void 0,(function*(){this.isRepeat||(t.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),t.lastCommaRepeatableMovement=new f(this.keysPressed,!0));const r=a.window.activeTextEditor.document,i=r.lineCount;"\n"===this.keysPressed[2]&&(this.keysPressed[2]="");const o=this.keysPressed[1]+this.keysPressed[2];for(let t=e.line;t<i;++t){const n=r.lineAt(t).text,i=t===e.line?e.character+1:0;let s=-1;if((s=c.configuration.sneakUseIgnorecaseAndSmartcase&&c.configuration.ignorecase&&!(c.configuration.smartcase&&/[A-Z]/.test(o))?n.toLocaleLowerCase().indexOf(o.toLocaleLowerCase(),i):n.indexOf(o,i))>=0)return new l.Position(t,s)}return e}))}};h=n=o([u.RegisterAction],h),t.SneakForward=h;let f=i=class extends d.BaseMovement{constructor(){super(...arguments),this.keys=[["S","<character>","<character>"],["Z","<character>","<character>"]]}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"S":"Z";return c.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}execAction(e,t){return s(this,void 0,void 0,(function*(){this.isRepeat||(t.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),t.lastCommaRepeatableMovement=new h(this.keysPressed,!0));const r=a.window.activeTextEditor.document;"\n"===this.keysPressed[2]&&(this.keysPressed[2]="");const n=this.keysPressed[1]+this.keysPressed[2];for(let t=e.line;t>=0;--t){const i=r.lineAt(t).text,o=t===e.line?e.character-1:1/0;let s=-1;if((s=c.configuration.sneakUseIgnorecaseAndSmartcase&&c.configuration.ignorecase&&!(c.configuration.smartcase&&/[A-Z]/.test(n))?i.toLocaleLowerCase().lastIndexOf(n.toLocaleLowerCase(),o):i.lastIndexOf(n,o))>=0)return new l.Position(t,s)}return e}))}};f=i=o([u.RegisterAction],f),t.SneakBackward=f},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(342),a=r(29),c=r(4),u=r(18),l=r(3),d=r(5),h=r(14),f=r(6),m=r(11),p=r(63),g=r(26),v=r(177),y=r(101);let w=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return i(this,void 0,void 0,(function*(){t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getLeft())),t.returnToInsertAfterCommand&&0!==e.character&&(t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getRight())));for(let e=0;e<t.cursors.length;e++){const r=t.keyHistory[t.keyHistory.length-2];["o","O","\n"].includes(r)&&"plaintext"!==t.editor.document.languageId&&/^\s+$/.test(f.TextEditor.getLineAt(t.cursors[e].stop).text)&&(t.recordedState.transformations.push({type:"deleteRange",range:new u.Range(t.cursors[e].stop.getLineBegin(),t.cursors[e].stop.getLineEnd())}),t.cursors[e]=t.cursors[e].withNewStop(t.cursors[e].stop.getLineBegin()))}yield t.setCurrentMode(d.ModeName.Normal);const r=t.recordedState.actionsRun[t.recordedState.actionsRun.length-3],n=r instanceof g.CommandInsertAtCursor||r instanceof g.CommandInsertAfterCursor||r instanceof g.CommandInsertAtLineEnd||r instanceof g.CommandInsertAtFirstCharacter;if(t.recordedState.count>1&&n){const e=t.recordedState.actionsRun[t.recordedState.actionsRun.length-2].contentChanges;let r=[];for(let t=0;t<e.length;t++)r.push(e[t].textDiff);let n=new c.PositionDiff(0,0);for(let e=0;e<t.recordedState.count-1;e++)e===t.recordedState.count-2&&(n=new c.PositionDiff(0,-1)),t.recordedState.transformations.push({type:"contentChange",changes:r,diff:n})}return t.historyTracker.currentContentChanges.length>0&&(t.historyTracker.lastContentChanges=t.historyTracker.currentContentChanges,t.historyTracker.currentContentChanges=[]),t.isFakeMultiCursor&&(t.cursors=[t.cursors[0]],t.isMultiCursor=!1,t.isFakeMultiCursor=!1),t}))}};w=n([m.RegisterAction],w);let x=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-a>"]}exec(e,t){return i(this,void 0,void 0,(function*(){let e=(yield h.Register.getByKey(".")).text.actionsRun.slice(0);e.shift(),e.length>0&&e[0]instanceof p.ArrowsInInsertMode&&e.shift();for(let r of e)r instanceof g.BaseCommand&&(t=yield r.execCount(t.cursorStopPosition,t)),r instanceof g.DocumentContentChangeAction&&(t=yield r.exec(t.cursorStopPosition,t));return t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.end),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),yield t.setCurrentMode(d.ModeName.Insert),t}))}};x=n([m.RegisterAction],x),t.CommandInsertPreviousText=x;let b=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-shift+2>"]}exec(e,t){return i(this,void 0,void 0,(function*(){return t=yield(new x).exec(e,t),yield t.setCurrentMode(d.ModeName.Normal),t}))}};b=n([m.RegisterAction],b);let C=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-e>"]}exec(e,t){return i(this,void 0,void 0,(function*(){if(f.TextEditor.isLastLine(e))return t;const r=e.getDownByCount(1);if(r.isLineEnd())return t;const n=f.TextEditor.getText(new o.Range(r,r.getRight()));return yield f.TextEditor.insert(n,e),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t}))}};C=n([m.RegisterAction],C);let M=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-t>"]}exec(e,t){return i(this,void 0,void 0,(function*(){const r=f.TextEditor.getLineAt(e).text,n=f.TextEditor.getIndentationLevel(r),i=l.configuration.tabstop||Number(t.editor.options.tabSize),o=(n/i+1)*i;return t.recordedState.transformations.push({type:"replaceText",text:f.TextEditor.setIndentationLevel(r,o),start:e.getLineBegin(),end:e.getLineEnd(),diff:new c.PositionDiff(0,o-n)}),t}))}};M=n([m.RegisterAction],M);let S=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<character>"]}exec(e,t){return i(this,void 0,void 0,(function*(){const r=this.keysPressed[this.keysPressed.length-1],n=f.TextEditor.getLineAt(e).text;if("<BS>"===r){const r=f.TextEditor.getSelection();if(r.isEmpty)if(e.character>0&&n.length>0&&n.match(/^\s+$/)&&l.configuration.expandtab){const r=t.editor.options.tabSize,i=Math.floor((e.character-1)/r)*r;t.recordedState.transformations.push({type:"deleteRange",range:new u.Range(e.withColumn(i),e.withColumn(n.length))})}else 0===e.line&&0===e.character||t.recordedState.transformations.push({type:"deleteText",position:e});else t.recordedState.transformations.push({type:"deleteRange",range:new u.Range(r.start,r.end)});t.cursorStopPosition=t.cursorStopPosition.getLeft(),t.cursorStartPosition=t.cursorStartPosition.getLeft()}else t.isMultiCursor?t.recordedState.transformations.push({type:"insertText",text:r,position:t.cursorStopPosition}):t.recordedState.transformations.push({type:"insertTextVSCode",text:r});return t}))}toString(){return this.keysPressed[this.keysPressed.length-1]}};S=n([m.RegisterAction],S),t.CommandInsertInInsertMode=S;let E=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-k>","<any>","<any>"],this.isCompleteAction=!1}exec(e,t){return i(this,void 0,void 0,(function*(){const r=this.keysPressed.slice(1,3).join(""),n=r.split("").reverse().join("");let i=(v.DefaultDigraphs[r]||v.DefaultDigraphs[n]||l.configuration.digraphs[r]||l.configuration.digraphs[n])[1];i instanceof Array||(i=[i]);const o=String.fromCharCode(...i);return yield f.TextEditor.insertAt(o,e),yield t.setCurrentMode(d.ModeName.Insert),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t}))}doesActionApply(e,t){if(!super.doesActionApply(e,t))return!1;const r=t.slice(1,3).join(""),n=r.split("").reverse().join("");return r in l.configuration.digraphs||n in l.configuration.digraphs||r in v.DefaultDigraphs||n in v.DefaultDigraphs}couldActionApply(e,t){if(!super.couldActionApply(e,t))return!1;const r=t.slice(1,t.length).join(""),n=r.split("").reverse().join("");if(r.length>0){const e=e=>{const t=e.substring(0,r.length);return r===t||n===t};return void 0!==(Object.keys(l.configuration.digraphs).find(e)||Object.keys(v.DefaultDigraphs).find(e))}return!0}};E=n([m.RegisterAction],E);let k=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}exec(e,t){return i(this,void 0,void 0,(function*(){t.recordedState.registerName=this.keysPressed[1];const r=yield h.Register.get(t);let n;if(r.text instanceof Array)n=r.text.join("\n");else{if(r.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;n=r.text}return r.registerMode===h.RegisterMode.LineWise&&(n+="\n"),yield f.TextEditor.insertAt(n,e),yield t.setCurrentMode(d.ModeName.Insert),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t}))}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&h.Register.isValidRegister(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&h.Register.isValidRegister(r)}};k=n([m.RegisterAction],k);let _=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-o>"]}exec(e,t){return i(this,void 0,void 0,(function*(){return t.returnToInsertAfterCommand=!0,(new w).exec(e,t)}))}};_=n([m.RegisterAction],_),t.CommandOneNormalCommandInInsertMode=_;let P=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-w>"]}exec(e,t){return i(this,void 0,void 0,(function*(){let r;return r=e.isInLeadingWhitespace()?e.getLineBegin():e.isLineBeginning()?e.getPreviousLineBegin().getLineEnd():e.getWordLeft(),yield f.TextEditor.delete(new o.Range(r,e)),t.cursorStopPosition=r,t}))}};P=n([m.RegisterAction],P);let A=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-d>"]}exec(e,t){return i(this,void 0,void 0,(function*(){const r=f.TextEditor.getLineAt(e).text,n=f.TextEditor.getIndentationLevel(r);if(0===n)return t;const i=l.configuration.tabstop,s=(n/i-1)*i;yield f.TextEditor.replace(new o.Range(e.getLineBegin(),e.getLineEnd()),f.TextEditor.setIndentationLevel(r,s<0?0:s));const a=c.Position.FromVSCodePosition(e.with(e.line,e.character+(s-n)/i));return t.cursorStopPosition=a,t.cursorStartPosition=a,yield t.setCurrentMode(d.ModeName.Insert),t}))}};A=n([m.RegisterAction],A);let R=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-y>"]}exec(e,t){return i(this,void 0,void 0,(function*(){if(f.TextEditor.isFirstLine(e))return t;const r=e.getUpByCount(1);if(r.isLineEnd())return t;const n=f.TextEditor.getText(new o.Range(r,r.getRight()));return yield f.TextEditor.insert(n,e),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t}))}};R=n([m.RegisterAction],R);let N=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-h>"]}exec(e,t){return i(this,void 0,void 0,(function*(){return t.recordedState.transformations.push({type:"deleteText",position:e}),t}))}};N=n([m.RegisterAction],N);let T=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-u>"]}exec(e,t){return i(this,void 0,void 0,(function*(){const r=e.isInLeadingWhitespace()?e.getLineBegin():e.getLineBeginRespectingIndent();return yield f.TextEditor.delete(new o.Range(r,e)),t.cursorStopPosition=r,t.cursorStartPosition=r,t}))}};T=n([m.RegisterAction],T);let L=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=[["<C-n>"],["<C-j>"]]}exec(e,t){return i(this,void 0,void 0,(function*(){if(t.isMultiCursor&&o.window.activeTextEditor){const t=o.window.activeTextEditor.selections[0];t.active.line===e.line&&t.active.character===e.character&&(yield o.commands.executeCommand("selectNextSuggestion"))}else yield o.commands.executeCommand("selectNextSuggestion");return t}))}};L=n([m.RegisterAction],L);let B=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-p>"]}exec(e,t){return i(this,void 0,void 0,(function*(){if(t.isMultiCursor&&o.window.activeTextEditor){const t=o.window.activeTextEditor.selections[0];t.active.line===e.line&&t.active.character===e.character&&(yield o.commands.executeCommand("selectPrevSuggestion"))}else yield o.commands.executeCommand("selectPrevSuggestion");return t}))}};B=n([m.RegisterAction],B);let F=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-v>"]}exec(e,t){return i(this,void 0,void 0,(function*(){const e=yield y.Clipboard.Paste();return t.isMultiCursor?t.recordedState.transformations.push({type:"insertText",text:e,position:t.cursorStopPosition}):t.recordedState.transformations.push({type:"insertTextVSCode",text:e}),t}))}};F=n([m.RegisterAction],F);let $=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-x>","<C-l>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return i(this,void 0,void 0,(function*(){return yield s.lineCompletionProvider.showLineCompletionsQuickPick(e,t),t}))}};$=n([m.RegisterAction],$)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),s=r(3),a=r(5),c=r(11),u=r(26),l=r(103),d=r(25);function h(e){return[...Array.from({length:e.leaderCount||2},()=>"<leader>"),...e.key.split("")]}t.buildTriggerKeys=h;class f extends u.BaseCommand{constructor(e,t){super(),this.modes=[a.ModeName.Normal,a.ModeName.Visual,a.ModeName.VisualLine,a.ModeName.VisualBlock],this._baseOptions=e,t&&(this.keys=h(t))}processMarkers(e,t,r){r.easyMotion.clearMarkers();let n=0;const i=l.EasyMotion.createMarkerGenerator(e.length);for(const o of e){const e=this.resolveMatchPosition(o);if(!e.isEqual(t)){const t=i.generateMarker(n++,e);t&&r.easyMotion.addMarker(t)}}}searchOptions(e){switch(this._baseOptions.searchOptions){case"min":return{min:e};case"max":return{max:e};default:return{}}}exec(e,t){return i(this,void 0,void 0,(function*(){if(s.configuration.easymotion){const r=this.getMatches(e,t);if(0===r.length)return t;if(t.easyMotion=new l.EasyMotion,this.processMarkers(r,e,t),1===r.length){const e=t.easyMotion.markers[0];return t.cursorStopPosition=e.position,t.easyMotion.clearDecorations(),t}return t.easyMotion.previousMode=t.currentMode,yield t.setCurrentMode(a.ModeName.EasyMotionMode),t}return t}))}}function m(e,t,r,n){switch(r){case"":return[];case" ":return t.easyMotion.sortedSearch(e,new RegExp(" {1,}","g"),n);default:if(!/[a-zA-Z]/.test(r))return t.easyMotion.sortedSearch(e,r,n);const i=s.configuration.ignorecase&&!(s.configuration.smartcase&&/[A-Z]/.test(r))?"gi":"g";return t.easyMotion.sortedSearch(e,new RegExp(r,i),n)}}t.SearchByCharCommand=class extends f{constructor(e){super(e),this._searchString="",this._options=e}get searchCharCount(){return this._options.charCount}getMatches(e,t){return m(e,t,this._searchString,this.searchOptions(e))}updateSearchString(e){this._searchString=e}getSearchString(){return this._searchString}shouldFire(){const e=this._options.charCount;return!e||this._searchString.length>=e}fire(e,t){return this.exec(e,t)}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new o.Position(t,r+this._options.charCount);case"before":return new o.Position(t,Math.max(0,r-1));default:return e.position}}};t.SearchByNCharCommand=class extends f{constructor(){super({}),this._searchString=""}get searchCharCount(){return-1}resolveMatchPosition(e){return e.position}updateSearchString(e){this._searchString=e}getSearchString(){return this._searchString}getMatches(e,t){return m(e,t,this.removeTrailingLineBreak(this._searchString),{})}removeTrailingLineBreak(e){return e.replace(new RegExp("\n+$","g"),"")}shouldFire(){return this._searchString.endsWith("\n")}fire(e,t){return i(this,void 0,void 0,(function*(){return""===this.removeTrailingLineBreak(this._searchString)?t:this.exec(e,t)}))}};t.EasyMotionCharMoveCommandBase=class extends u.BaseCommand{constructor(e,t){super(),this.modes=[a.ModeName.Normal,a.ModeName.Visual,a.ModeName.VisualLine,a.ModeName.VisualBlock],this._action=t,this.keys=h(e)}exec(e,t){return i(this,void 0,void 0,(function*(){return s.configuration.easymotion?(t.easyMotion=new l.EasyMotion,t.easyMotion.previousMode=t.currentMode,t.easyMotion.searchAction=this._action,d.globalState.hl=!0,yield t.setCurrentMode(a.ModeName.EasyMotionInputMode),t):t}))}};t.EasyMotionWordMoveCommandBase=class extends f{constructor(e,t={}){super(t,e),this._options=t}getMatches(e,t){return this.getMatchesForWord(e,t,this.searchOptions(e))}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new o.Position(t,r+e.text.length-1);default:return e.position}}getMatchesForWord(e,t,r){const n=this._options.jumpToAnywhere?new RegExp(s.configuration.easymotionJumpToAnywhereRegex,"g"):new RegExp("\\w{1,}","g");return t.easyMotion.sortedSearch(e,n,r)}};t.EasyMotionLineMoveCommandBase=class extends f{constructor(e,t={}){super(t,e),this._options=t}resolveMatchPosition(e){return e.position}getMatches(e,t){return this.getMatchesForLineStart(e,t,this.searchOptions(e))}getMatchesForLineStart(e,t,r){const n=t.easyMotion.sortedSearch(e,new RegExp("^.","gm"),r);for(const e of n)e.position=e.position.getFirstLineNonBlankChar();return n}};let p=class extends u.BaseCommand{constructor(){super(...arguments),this.modes=[a.ModeName.EasyMotionInputMode],this.keys=["<character>"]}exec(e,t){return i(this,void 0,void 0,(function*(){const e=this.keysPressed[0],r=t.easyMotion.searchAction,n=r.getSearchString(),i="<BS>"===e||"<shift+BS>"===e?n.slice(0,-1):n+e;if(r.updateSearchString(i),r.shouldFire()){return yield t.setCurrentMode(t.easyMotion.previousMode),yield r.fire(t.cursorStopPosition,t)}return t}))}};p=n([c.RegisterAction],p);let g=class extends u.BaseCommand{constructor(){super(...arguments),this.modes=[a.ModeName.EasyMotionInputMode],this.keys=["<Esc>"]}exec(e,t){return i(this,void 0,void 0,(function*(){return yield t.setCurrentMode(a.ModeName.Normal),t}))}};g=n([c.RegisterAction],g);let v=class extends u.BaseCommand{constructor(){super(...arguments),this.modes=[a.ModeName.EasyMotionMode],this.keys=["<character>"]}exec(e,t){return i(this,void 0,void 0,(function*(){const e=this.keysPressed[0];if(e){const r=t.easyMotion.accumulation+e;t.easyMotion.accumulation=r;const n=t.easyMotion.findMarkers(r,!0);if(t.easyMotion.previousMode!==a.ModeName.Visual&&t.easyMotion.previousMode!==a.ModeName.VisualLine&&t.easyMotion.previousMode!==a.ModeName.VisualBlock||(t.cursorStartPosition=t.lastVisualSelectionStart,t.cursorStopPosition=t.lastVisualSelectionEnd),1===n.length){const e=n[0];return t.easyMotion.clearDecorations(),yield t.setCurrentMode(t.easyMotion.previousMode),t.cursorStopPosition=e.position,t}return 0===n.length?(t.easyMotion.clearDecorations(),yield t.setCurrentMode(t.easyMotion.previousMode),t):t}return t}))}};v=n([c.RegisterAction],v)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EditorIdentity=class{constructor(e){this._fileName=e&&e.document&&e.document.fileName||""}get fileName(){return this._fileName}isEqual(e){return this.fileName===e.fileName}toString(){return this.fileName}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(361),o=r(114);t.NeovimClient=class extends o.Neovim{constructor(e={}){super({logger:e.logger}),this.attachedBuffers=new Map;const t=e.transport||new i.Transport;this.setTransport(t),this.requestQueue=[],this.transportAttached=!1,this.handleRequest=this.handleRequest.bind(this),this.handleNotification=this.handleNotification.bind(this)}attach({reader:e,writer:t}){this.transport.attach(t,e,this),this.transportAttached=!0,this.setupTransport()}get isApiReady(){return this.transportAttached&&void 0!==this._channelId}get channelId(){return new Promise(e=>n(this,void 0,void 0,(function*(){yield this._isReady,e(this._channelId)})))}isAttached(e){const t=`${e.data}`;return this.attachedBuffers.has(t)}handleRequest(e,t,r,...n){this.logger.info("handleRequest: ",e),this.isApiReady||"specs"===e?this.emit("request",e,t,r):this.requestQueue.push({type:"request",args:[e,t,r,...n]})}emitNotification(e,t){if(e.endsWith("_event")){if(!e.startsWith("nvim_buf_"))return void this.logger.error("Unhandled event: ",e);const r=e.replace(/nvim_buf_(.*)_event/,"$1"),[n]=t,i=`${n.data}`;if(!this.attachedBuffers.has(i))return;(this.attachedBuffers.get(i).get(r)||[]).forEach(e=>e(...t)),"detach"===r&&this.attachedBuffers.delete(i)}else this.emit("notification",e,t)}handleNotification(e,t,...r){this.logger.info("handleNotification: ",e),this.isApiReady?this.emitNotification(e,t):this.requestQueue.push({type:"notification",args:[e,t,...r]})}setupTransport(){if(!this.transportAttached)throw new Error("Not attached to input/output");this.transport.on("request",this.handleRequest),this.transport.on("notification",this.handleNotification),this.transport.on("detach",()=>{this.emit("disconnect"),this.transport.removeAllListeners("request"),this.transport.removeAllListeners("notification"),this.transport.removeAllListeners("detach")}),this._isReady=this.generateApi()}requestApi(){return new Promise((e,t)=>{this.transport.request("nvim_get_api_info",[],(r,n)=>{r?t(r):e(n)})})}generateApi(){return n(this,void 0,void 0,(function*(){let e;try{e=yield this.requestApi()}catch(e){this.logger.error("Could not get vim api results"),this.logger.error(e)}if(e)try{const[t,r]=e,n=r;return Object.keys(n.types).forEach(e=>{n.types[e]}),this._channelId=t,this.requestQueue.forEach(e=>{"notification"===e.type?this.emitNotification(e.args[0],e.args[1]):this.emit(e.type,...e.args)}),this.requestQueue=[],!0}catch(e){return this.logger.error(`Could not dynamically generate neovim API: ${e}`,{error:e}),this.logger.error(e.stack),null}return null}))}attachBuffer(e,t,r){const n=`${e.data}`;this.attachedBuffers.has(n)||this.attachedBuffers.set(n,new Map);const i=this.attachedBuffers.get(n);i.get(t)||i.set(t,[]);const o=i.get(t);return-1!==o.indexOf(r)?r:(o.push(r),i.set(t,o),this.attachedBuffers.set(n,i),r)}detachBuffer(e,t,r){const n=`${e.data}`,i=this.attachedBuffers.get(n);if(!i)return!1;const o=(i.get(t)||[]).filter(e=>e!==r);return o.length?i.set(t,o):i.delete(t),!i.size&&(this.attachedBuffers.delete(n),!0)}}},function(e,t,r){t.encode=function(e,t){var r=new n(t);return r.write(e),r.read()};var n=r(104).EncodeBuffer},function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+d],d+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=u}return(f?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,m=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[r+f]=255&a,f+=m,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+f]=255&s,f+=m,s/=256,u-=8);e[r+f-m]|=128*p}},function(e,t){for(var r=t.uint8=new Array(256),n=0;n<=255;n++)r[n]=i(n);function i(e){return function(t){var r=t.reserve(1);t.buffer[r]=e}}},function(e,t,r){t.FlexDecoder=a,t.FlexEncoder=c;var n=r(17),i=2048,o=65536,s="BUFFER_SHORTAGE";function a(){if(!(this instanceof a))return new a}function c(){if(!(this instanceof c))return new c}function u(){throw new Error("method not implemented: write()")}function l(){throw new Error("method not implemented: fetch()")}function d(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function h(e){(this.buffers||(this.buffers=[])).push(e)}function f(){return(this.buffers||(this.buffers=[])).shift()}function m(e){return function(t){for(var r in e)t[r]=e[r];return t}}a.mixin=m(function(){return{bufferish:n,write:function(e){var t=this.offset?n.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=t?e?this.bufferish.concat([t,e]):t:e,this.offset=0},fetch:l,flush:function(){for(;this.offset<this.buffer.length;){var e,t=this.offset;try{e=this.fetch()}catch(e){if(e&&e.message!=s)throw e;this.offset=t;break}this.push(e)}},push:h,pull:f,read:d,reserve:function(e){var t=this.offset,r=t+e;if(r>this.buffer.length)throw new Error(s);return this.offset=r,t},offset:0}}()),a.mixin(a.prototype),c.mixin=m(function(){return{bufferish:n,write:u,fetch:function(){var e=this.start;if(e<this.offset){var t=this.start=this.offset;return n.prototype.slice.call(this.buffer,e,t)}},flush:function(){for(;this.start<this.offset;){var e=this.fetch();e&&this.push(e)}},push:h,pull:function(){var e=this.buffers||(this.buffers=[]),t=e.length>1?this.bufferish.concat(e):e[0];return e.length=0,t},read:d,reserve:function(e){var t=0|e;if(this.buffer){var r=this.buffer.length,n=0|this.offset,i=n+t;if(i<r)return this.offset=i,n;this.flush(),e=Math.max(e,Math.min(2*r,this.maxBufferSize))}return e=Math.max(e,this.minBufferSize),this.buffer=this.bufferish.alloc(e),this.start=0,this.offset=t,0},send:function(e){var t=e.length;if(t>this.minBufferSize)this.flush(),this.push(e);else{var r=this.reserve(t);n.prototype.copy.call(e,this.buffer,r)}},maxBufferSize:o,minBufferSize:i,offset:0,start:0}}()),c.mixin(c.prototype)},function(e,t,r){t.decode=function(e,t){var r=new n(t);return r.write(e),r.read()};var n=r(109).DecodeBuffer},function(e,t,r){var n=r(186),i=r(108),o=i.Uint64BE,s=i.Int64BE;t.getReadFormat=function(e){var t=a.hasArrayBuffer&&e&&e.binarraybuffer,r=e&&e.int64;return{map:u&&e&&e.usemap?h:d,array:f,str:m,bin:t?g:p,ext:v,uint8:y,uint16:x,uint32:C,uint64:S(8,r?_:E),int8:w,int16:b,int32:M,int64:S(8,r?P:k),float32:S(4,A),float64:S(8,R)}},t.readUint8=y;var a=r(17),c=r(107),u="undefined"!=typeof Map,l=!0;function d(e,t){var r,n={},i=new Array(t),o=new Array(t),s=e.codec.decode;for(r=0;r<t;r++)i[r]=s(e),o[r]=s(e);for(r=0;r<t;r++)n[i[r]]=o[r];return n}function h(e,t){var r,n=new Map,i=new Array(t),o=new Array(t),s=e.codec.decode;for(r=0;r<t;r++)i[r]=s(e),o[r]=s(e);for(r=0;r<t;r++)n.set(i[r],o[r]);return n}function f(e,t){for(var r=new Array(t),n=e.codec.decode,i=0;i<t;i++)r[i]=n(e);return r}function m(e,t){var r=e.reserve(t),n=r+t;return c.toString.call(e.buffer,"utf-8",r,n)}function p(e,t){var r=e.reserve(t),n=r+t,i=c.slice.call(e.buffer,r,n);return a.from(i)}function g(e,t){var r=e.reserve(t),n=r+t,i=c.slice.call(e.buffer,r,n);return a.Uint8Array.from(i).buffer}function v(e,t){var r=e.reserve(t+1),n=e.buffer[r++],i=r+t,o=e.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));return o(c.slice.call(e.buffer,r,i))}function y(e){var t=e.reserve(1);return e.buffer[t]}function w(e){var t=e.reserve(1),r=e.buffer[t];return 128&r?r-256:r}function x(e){var t=e.reserve(2),r=e.buffer;return r[t++]<<8|r[t]}function b(e){var t=e.reserve(2),r=e.buffer,n=r[t++]<<8|r[t];return 32768&n?n-65536:n}function C(e){var t=e.reserve(4),r=e.buffer;return 16777216*r[t++]+(r[t++]<<16)+(r[t++]<<8)+r[t]}function M(e){var t=e.reserve(4),r=e.buffer;return r[t++]<<24|r[t++]<<16|r[t++]<<8|r[t]}function S(e,t){return function(r){var n=r.reserve(e);return t.call(r.buffer,n,l)}}function E(e){return new o(this,e).toNumber()}function k(e){return new s(this,e).toNumber()}function _(e){return new o(this,e)}function P(e){return new s(this,e)}function A(e){return n.read(this,e,!1,23,4)}function R(e){return n.read(this,e,!1,52,8)}},function(e,t,r){!function(t){e.exports=t;var r="listeners",n={on:function(e,t){return s(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,s(r,e).push(n),r;function n(){o.call(r,e,n),t.apply(this,arguments)}},off:o,emit:function(e,t){var r=this,n=s(r,e,!0);if(!n)return!1;var i=arguments.length;if(1===i)n.forEach((function(e){e.call(r)}));else if(2===i)n.forEach((function(e){e.call(r,t)}));else{var o=Array.prototype.slice.call(arguments,1);n.forEach((function(e){e.apply(r,o)}))}return!!n.length}};function i(e){for(var t in n)e[t]=n[t];return e}function o(e,t){var n;if(arguments.length){if(t){if(n=s(this,e,!0)){if(!(n=n.filter((function(e){return e!==t&&e.originalListener!==t}))).length)return o.call(this,e);this[r][e]=n}}else if((n=this[r])&&(delete n[e],!Object.keys(n).length))return o.call(this)}else delete this[r];return this}function s(e,t,n){if(!n||e[r]){var i=e[r]||(e[r]={});return i[t]||(i[t]=[])}}i(t.prototype),t.mixin=i}((
/**
 * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
 *
 * @copyright Yusuke Kawasaki
 * @license MIT
 * @constructor
 * @see https://github.com/kawanet/event-lite
 * @see http://kawanet.github.io/event-lite/EventLite.html
 * @example
 * var EventLite = require("event-lite");
 *
 * function MyClass() {...}             // your class
 *
 * EventLite.mixin(MyClass.prototype);  // import event methods
 *
 * var obj = new MyClass();
 * obj.on("foo", function() {...});     // add event listener
 * obj.once("bar", function() {...});   // add one-time event listener
 * obj.emit("foo");                     // dispatch event
 * obj.emit("bar");                     // dispatch another event
 * obj.off("foo");                      // remove event listener
 */
function e(){if(!(this instanceof e))return new e}))},function(e,t,r){var n;
/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */!function(){var r,i,o={},s=function(){};function a(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(r,arguments)}}null!=(r="object"==typeof window&&this===window?window:"object"==typeof global&&this===global?global:this)&&(i=r.async),o.noConflict=function(){return r.async=i,o};var c,u=Object.prototype.toString,l=Array.isArray||function(e){return"[object Array]"===u.call(e)},d=function(e,t){for(var r=-1,n=e.length;++r<n;)t(e[r],r,e)},h=function(e,t){for(var r=-1,n=e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},f=Object.keys||function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},m=function(e,t){t=t||0;var r=-1,n=e.length;t&&(n=(n-=t)<0?0:n);for(var i=Array(n);++r<n;)i[r]=e[r+t];return i};"function"==typeof setImmediate&&(c=setImmediate),"undefined"!=typeof process&&process.nextTick?(o.nextTick=process.nextTick,o.setImmediate=c?function(e){c(e)}:o.nextTick):c?(o.nextTick=function(e){c(e)},o.setImmediate=o.nextTick):(o.nextTick=function(e){setTimeout(e,0)},o.setImmediate=o.nextTick),o.each=function(e,t,r){if(r=r||s,!e.length)return r();var n=0;function i(t){t?(r(t),r=s):(n+=1)>=e.length&&r()}d(e,(function(e){t(e,a(i))}))},o.forEach=o.each,o.eachSeries=function(e,t,r){if(r=r||s,!e.length)return r();var n=0,i=function(){t(e[n],(function(t){t?(r(t),r=s):(n+=1)>=e.length?r():i()}))};i()},o.forEachSeries=o.eachSeries,o.eachLimit=function(e,t,r,n){p(t).apply(null,[e,r,n])},o.forEachLimit=o.eachLimit;var p=function(e){return function(t,r,n){if(n=n||s,!t.length||e<=0)return n();var i=0,o=0,a=0;!function c(){if(i>=t.length)return n();for(;a<e&&o<t.length;)a+=1,r(t[(o+=1)-1],(function(e){e?(n(e),n=s):(a-=1,(i+=1)>=t.length?n():c())}))}()}};o.forEachOf=o.eachOf=function(e,t,r){r=r||function(){};var n=e.length||f(e).length,i=0;if(!n)return r();!function(e,t){d(f(e),(function(r){t(e[r],r)}))}(e,(function(o,s){t(e[s],s,(function(e){e?(r(e),r=function(){}):(i+=1)===n&&r(null)}))}))},o.forEachOfSeries=o.eachOfSeries=function(e,t,r){r=r||function(){};var n=f(e),i=n.length;if(!i)return r();var s=0,a=function(){var c=!0,u=n[s];t(e[u],u,(function(e){e?(r(e),r=function(){}):(s+=1)>=i?r(null):c?o.nextTick(a):a()})),c=!1};a()},o.forEachOfLimit=o.eachOfLimit=function(e,t,r,n){g(t)(e,r,n)};var g=function(e){return function(t,r,n){n=n||function(){};var i=f(t),o=i.length;if(!o||e<=0)return n();var s=0,a=0,c=0;!function u(){if(s>=o)return n();for(;c<e&&a<o;){c+=1;var l=i[(a+=1)-1];r(t[l],l,(function(e){e?(n(e),n=function(){}):(c-=1,(s+=1)>=o?n():u())}))}}()}},v=function(e){return function(){var t=m(arguments);return e.apply(null,[o.each].concat(t))}},y=function(e){return function(){var t=m(arguments);return e.apply(null,[o.eachSeries].concat(t))}},w=function(e,t,r,n){if(t=h(t,(function(e,t){return{index:t,value:e}})),n){var i=[];e(t,(function(e,t){r(e.value,(function(r,n){i[e.index]=n,t(r)}))}),(function(e){n(e,i)}))}else e(t,(function(e,t){r(e.value,(function(e){t(e)}))}))};o.map=v(w),o.mapSeries=y(w),o.mapLimit=function(e,t,r,n){return x(t)(e,r,n)};var x=function(e){return function(e,t){return function(){var r=m(arguments);return t.apply(null,[p(e)].concat(r))}}(e,w)};o.reduce=function(e,t,r,n){o.eachSeries(e,(function(e,n){r(t,e,(function(e,r){t=r,n(e)}))}),(function(e){n(e,t)}))},o.inject=o.reduce,o.foldl=o.reduce,o.reduceRight=function(e,t,r,n){var i=h(e,(function(e){return e})).reverse();o.reduce(i,t,r,n)},o.foldr=o.reduceRight;var b=function(e,t,r,n){var i=[];e(t=h(t,(function(e,t){return{index:t,value:e}})),(function(e,t){r(e.value,(function(r){r&&i.push(e),t()}))}),(function(e){n(h(i.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};o.filter=v(b),o.filterSeries=y(b),o.select=o.filter,o.selectSeries=o.filterSeries;var C=function(e,t,r,n){var i=[];e(t=h(t,(function(e,t){return{index:t,value:e}})),(function(e,t){r(e.value,(function(r){r||i.push(e),t()}))}),(function(e){n(h(i.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};o.reject=v(C),o.rejectSeries=y(C);var M=function(e,t,r,n){e(t,(function(e,t){r(e,(function(r){r?(n(e),n=s):t()}))}),(function(e){n()}))};o.detect=v(M),o.detectSeries=y(M),o.some=function(e,t,r){o.each(e,(function(e,n){t(e,(function(e){e&&(r(!0),r=s),n()}))}),(function(e){r(!1)}))},o.any=o.some,o.every=function(e,t,r){o.each(e,(function(e,n){t(e,(function(e){e||(r(!1),r=s),n()}))}),(function(e){r(!0)}))},o.all=o.every,o.sortBy=function(e,t,r){o.map(e,(function(e,r){t(e,(function(t,n){t?r(t):r(null,{value:e,criteria:n})}))}),(function(e,t){if(e)return r(e);r(null,h(t.sort((function(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0})),(function(e){return e.value})))}))},o.auto=function(e,t){t=t||s;var r=f(e),n=r.length;if(!n)return t();var i={},a=[],c=function(e){a.unshift(e)},u=function(){n--,d(a.slice(0),(function(e){e()}))};c((function(){if(!n){var e=t;t=s,e(null,i)}})),d(r,(function(r){for(var n,h=l(e[r])?e[r]:[e[r]],p=function(e){var n=m(arguments,1);if(n.length<=1&&(n=n[0]),e){var a={};d(f(i),(function(e){a[e]=i[e]})),a[r]=n,t(e,a),t=s}else i[r]=n,o.setImmediate(u)},g=h.slice(0,Math.abs(h.length-1))||[],v=g.length;v--;){if(!(n=e[g[v]]))throw new Error("Has inexistant dependency");if(l(n)&&~n.indexOf(r))throw new Error("Has cyclic dependencies")}var y=function(){return e=function(e,t){return e&&i.hasOwnProperty(t)},t=!0,d(g,(function(r,n,i){t=e(t,r,n,i)})),t&&!i.hasOwnProperty(r);var e,t};if(y())h[h.length-1](p,i);else{var w=function(){y()&&(!function(e){for(var t=0;t<a.length;t+=1)if(a[t]===e)return void a.splice(t,1)}(w),h[h.length-1](p,i))};c(w)}}))},o.retry=function(e,t,r){var n=[];"function"==typeof e&&(r=t,t=e,e=5),e=parseInt(e,10)||5;var i=function(i,s){for(var a=function(e,t){return function(r){e((function(e,n){r(!e||t,{err:e,result:n})}),s)}};e;)n.push(a(t,!(e-=1)));o.series(n,(function(e,t){t=t[t.length-1],(i||r)(t.err,t.result)}))};return r?i():i},o.waterfall=function(e,t){if(t=t||s,!l(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}if(!e.length)return t();var n=function(e){return function(r){if(r)t.apply(null,arguments),t=s;else{var i=m(arguments,1),a=e.next();a?i.push(n(a)):i.push(t),o.setImmediate((function(){e.apply(null,i)}))}}};n(o.iterator(e))()};var S=function(e,t,r){if(r=r||s,l(t))e.map(t,(function(e,t){e&&e((function(e){var r=m(arguments,1);r.length<=1&&(r=r[0]),t.call(null,e,r)}))}),r);else{var n={};e.each(f(t),(function(e,r){t[e]((function(t){var i=m(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)}))}),(function(e){r(e,n)}))}};o.parallel=function(e,t){S({map:o.map,each:o.each},e,t)},o.parallelLimit=function(e,t,r){S({map:x(t),each:p(t)},e,r)},o.series=function(e,t){if(t=t||s,l(e))o.mapSeries(e,(function(e,t){e&&e((function(e){var r=m(arguments,1);r.length<=1&&(r=r[0]),t.call(null,e,r)}))}),t);else{var r={};o.eachSeries(f(e),(function(t,n){e[t]((function(e){var i=m(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)}))}),(function(e){t(e,r)}))}},o.iterator=function(e){var t=function(r){var n=function(){return e.length&&e[r].apply(null,arguments),n.next()};return n.next=function(){return r<e.length-1?t(r+1):null},n};return t(0)},o.apply=function(e){var t=m(arguments,1);return function(){return e.apply(null,t.concat(m(arguments)))}};var E=function(e,t,r,n){var i=[];e(t,(function(e,t){r(e,(function(e,r){i=i.concat(r||[]),t(e)}))}),(function(e){n(e,i)}))};o.concat=v(E),o.concatSeries=y(E),o.whilst=function(e,t,r){e()?t((function(n){if(n)return r(n);o.whilst(e,t,r)})):r()},o.doWhilst=function(e,t,r){e((function(n){if(n)return r(n);var i=m(arguments,1);t.apply(null,i)?o.doWhilst(e,t,r):r()}))},o.until=function(e,t,r){e()?r():t((function(n){if(n)return r(n);o.until(e,t,r)}))},o.doUntil=function(e,t,r){e((function(n){if(n)return r(n);var i=m(arguments,1);t.apply(null,i)?r():o.doUntil(e,t,r)}))},o.queue=function(e,t){if(void 0===t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");function r(e,t,r,n){if(e.started||(e.started=!0),l(t)||(t=[t]),0===t.length)return o.setImmediate((function(){e.drain&&e.drain()}));d(t,(function(t){var i={data:t,callback:"function"==typeof n?n:null};r?e.tasks.unshift(i):e.tasks.push(i),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)}))}var n=0,i={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){r(i,e,!1,t)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(e,t){r(i,e,!0,t)},process:function(){if(!i.paused&&n<i.concurrency&&i.tasks.length){var t=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),n+=1;var r=a((function(){n-=1,t.callback&&t.callback.apply(t,arguments),i.drain&&i.tasks.length+n===0&&i.drain(),i.process()}));e(t.data,r)}},length:function(){return i.tasks.length},running:function(){return n},idle:function(){return i.tasks.length+n===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var e=Math.min(i.concurrency,i.tasks.length),t=1;t<=e;t++)o.setImmediate(i.process)}}};return i},o.priorityQueue=function(e,t){function r(e,t){return e.priority-t.priority}var n=o.queue(e,t);return n.push=function(e,t,i){!function(e,t,n,i){if(e.started||(e.started=!0),l(t)||(t=[t]),0===t.length)return o.setImmediate((function(){e.drain&&e.drain()}));d(t,(function(t){var s={data:t,priority:n,callback:"function"==typeof i?i:null};e.tasks.splice(function(e,t,r){for(var n=-1,i=e.length-1;n<i;){var o=n+(i-n+1>>>1);r(t,e[o])>=0?n=o:i=o-1}return n}(e.tasks,s,r)+1,0,s),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)}))}(n,e,t,i)},delete n.unshift,n},o.cargo=function(e,t){var r=!1,n=[],i={tasks:n,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,r){l(e)||(e=[e]),d(e,(function(e){n.push({data:e,callback:"function"==typeof r?r:null}),i.drained=!1,i.saturated&&n.length===t&&i.saturated()})),o.setImmediate(i.process)},process:function o(){if(!r){if(0===n.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof t?n.splice(0,t):n.splice(0,n.length),a=h(s,(function(e){return e.data}));i.empty&&i.empty(),r=!0,e(a,(function(){r=!1;var e=arguments;d(s,(function(t){t.callback&&t.callback.apply(null,e)})),o()}))}},length:function(){return n.length},running:function(){return r}};return i};var k=function(e){return function(t){var r=m(arguments,1);t.apply(null,r.concat([function(t){var r=m(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&d(r,(function(t){console[e](t)})))}]))}};o.log=k("log"),o.dir=k("dir"),o.memoize=function(e,t){var r={},n={};t=t||function(e){return e};var i=function(){var i=m(arguments),s=i.pop(),a=t.apply(null,i);a in r?o.nextTick((function(){s.apply(null,r[a])})):a in n?n[a].push(s):(n[a]=[s],e.apply(null,i.concat([function(){r[a]=m(arguments);var e=n[a];delete n[a];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=r,i.unmemoized=e,i},o.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},o.times=function(e,t,r){for(var n=[],i=0;i<e;i++)n.push(i);return o.map(n,t,r)},o.timesSeries=function(e,t,r){for(var n=[],i=0;i<e;i++)n.push(i);return o.mapSeries(n,t,r)},o.seq=function(){var e=arguments;return function(){var t=this,r=m(arguments),n=r.pop();o.reduce(e,r,(function(e,r,n){r.apply(t,e.concat([function(){var e=arguments[0],t=m(arguments,1);n(e,t)}]))}),(function(e,r){n.apply(t,[e].concat(r))}))}},o.compose=function(){return o.seq.apply(null,Array.prototype.reverse.call(arguments))};var _=function(e,t){var r=function(){var r=this,n=m(arguments),i=n.pop();return e(t,(function(e,t){e.apply(r,n.concat([t]))}),i)};if(arguments.length>2){var n=m(arguments,2);return r.apply(this,n)}return r};o.applyEach=v(_),o.applyEachSeries=y(_),o.forever=function(e,t){!function r(n){if(n){if(t)return t(n);throw n}e(r)}()},e.exports?e.exports=o:void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){var n=r(19),i=r(99),o=t;o.getAllInfo=function(e){return{date:(new Date).toString(),process:o.getProcessInfo(),os:o.getOsInfo(),trace:o.getTrace(e),stack:e.stack&&e.stack.split("\n")}},o.getProcessInfo=function(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}},o.getOsInfo=function(){return{loadavg:n.loadavg(),uptime:n.uptime()}},o.getTrace=function(e){return(e?i.parse(e):i.get()).map((function(e){return{column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}}))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(67);function o(e){if("function"==typeof e)return e;if(Array.isArray(e)&&2===e.length)return function(...t){return e[1].apply(e[0],t)};throw new Error}t.callable=o;t.NvimPlugin=class{constructor(e,t,r){this.filename=e,this.nvim=r,this.dev=!1,this.alwaysInit=!1,this.autocmds={},this.commands={},this.functions={};try{this.instance=new t(this)}catch(e){if(!(e instanceof TypeError))throw e;this.instance=t(this)}}setOptions(e){this.dev=void 0===e.dev?this.dev:e.dev,this.alwaysInit=e.alwaysInit}get shouldCacheModule(){return!this.dev}registerAutocmd(e,t,r){if(!r.pattern)return void i.logger.error(`registerAutocmd expected pattern option for ${e}`);const n={type:"autocmd",name:e,sync:r&&!!r.sync,opts:{}};["pattern","eval"].forEach(e=>{r&&void 0!==r[e]&&(n.opts[e]=r[e])});try{this.autocmds[`${e} ${r.pattern}`]={fn:o(t),spec:n}}catch(t){i.logger.error(`registerAutocmd expected callable argument for ${e}`)}}registerCommand(e,t,r){const n={type:"command",name:e,sync:r&&!!r.sync,opts:{}};["range","nargs","complete"].forEach(e=>{r&&void 0!==r[e]&&(n.opts[e]=r[e])});try{this.commands[e]={fn:o(t),spec:n}}catch(t){i.logger.error(`registerCommand expected callable argument for ${e}`)}}registerFunction(e,t,r){const n={type:"function",name:e,sync:r&&!!r.sync,opts:{}};["range","eval"].forEach(e=>{r&&void 0!==r[e]&&(n.opts[e]=r[e])});try{this.functions[e]={fn:o(t),spec:n}}catch(t){i.logger.error(`registerFunction expected callable argument for ${e}`)}}get specs(){const e=Object.keys(this.autocmds).map(e=>this.autocmds[e].spec),t=Object.keys(this.commands).map(e=>this.commands[e].spec),r=Object.keys(this.functions).map(e=>this.functions[e].spec);return e.concat(t).concat(r)}handleRequest(e,t,r){return n(this,void 0,void 0,(function*(){let n;switch(t){case"autocmd":n=this.autocmds;break;case"command":n=this.commands;break;case"function":n=this.functions;break;default:const r=`No handler for unknown type ${t}: "${e}" in ${this.filename}`;throw i.logger.error(r),new Error(r)}if(!n.hasOwnProperty(e)){const r=`Missing handler for ${t}: "${e}" in ${this.filename}`;throw i.logger.error(r),new Error(r)}{const o=n[e];try{return o.spec.sync?o.fn(...r):yield o.fn(...r)}catch(r){const n=`Error in plugin for ${t}:${e}: ${r.message}`;throw i.logger.error(`${n} (file: ${this.filename}, stack: ${r.stack})`),new Error(r)}}}))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),r(196);const i=r(0),o=r(348),s=r(183),a=r(71),c=r(40),u=r(349),l=r(5),d=r(36),h=r(8),f=r(4),m=r(27),p=r(72),g=r(61),v=r(3),y=r(25),w=r(411),x=r(14);let b,C=null,M=null;function S(e=!1){return n(this,void 0,void 0,(function*(){const t=i.window.activeTextEditor,r=new s.EditorIdentity(t);let[n,o]=yield u.ModeHandlerMap.getOrCreate(r.toString());if(o&&b.subscriptions.push(n),n.vimState.editor=t,!e&&C&&C.isEqual(r)||(n.syncCursors(),yield n.updateView(n.vimState,{drawSelection:!1,revealRange:!1})),C=r,n.vimState.focusChanged&&(n.vimState.focusChanged=!1,C)){u.ModeHandlerMap.get(C.toString()).vimState.focusChanged=!0}return n}))}function E(){return n(this,void 0,void 0,(function*(){const e=h.Logger.get("Configuration"),t=yield v.configuration.load();if(e.debug(`${t.numErrors} errors found with vim configuration`),t.numErrors>0)for(let r of t.get())switch(r.level){case"error":e.error(r.message);break;case"warning":e.warn(r.message)}}))}function k(e,t){return n(this,void 0,void 0,(function*(){if(yield p.VsCodeContext.Set("vim.active",!e),!i.window.activeTextEditor)return;let r=yield S();e?(yield r.handleKeyEvent("<ExtensionDisable>"),t.reset(),u.ModeHandlerMap.clear()):yield r.handleKeyEvent("<ExtensionEnable>")}))}function _(e,t,r){const o=i.commands.registerCommand(t,e=>n(this,void 0,void 0,(function*(){return v.configuration.disableExtension?i.commands.executeCommand("default:"+t,e):i.window.activeTextEditor?i.window.activeTextEditor.document&&"debug:input"===i.window.activeTextEditor.document.uri.toString()?i.commands.executeCommand("default:"+t,e):r(e):void 0})));e.subscriptions.push(o)}function P(e,t,r){const o=i.commands.registerCommand(t,e=>n(this,void 0,void 0,(function*(){i.window.activeTextEditor&&r(e)})));e.subscriptions.push(o)}function A(e,t,r,i=!0,o=!1){const s=t(e=>n(this,void 0,void 0,(function*(){i&&v.configuration.disableExtension||o&&a.Globals.isTesting||r(e)})));e.subscriptions.push(s)}function R(e){return n(this,void 0,void 0,(function*(){const t=yield S();w.taskQueue.enqueueTask(()=>n(this,void 0,void 0,(function*(){yield t.handleKeyEvent(e)})))}))}t.getAndUpdateModeHandler=S,t.activate=function(e){return n(this,void 0,void 0,(function*(){yield E();const t=h.Logger.get("Extension Startup");if(t.debug("Start"),(b=e).subscriptions.push(m.StatusBar),i.window.activeTextEditor){const e=i.window.activeTextEditor.document.fileName.split(/\\|\//);x.Register.putByKey(e[e.length-1],"%",void 0,!0)}yield Promise.all([g.commandLine.load(),y.globalState.load()]),A(e,i.workspace.onDidChangeConfiguration,()=>n(this,void 0,void 0,(function*(){yield E()})),!1),A(e,i.workspace.onDidChangeTextDocument,e=>n(this,void 0,void 0,(function*(){(e=>1===e.contentChanges.length&&""===e.contentChanges[0].text&&e.contentChanges[0].range.start.line!==e.contentChanges[0].range.end.line)(e)?y.globalState.jumpTracker.handleTextDeleted(e.document,e.contentChanges[0].range):(e=>1===e.contentChanges.length&&("\n"===e.contentChanges[0].text||"\r\n"===e.contentChanges[0].text)&&e.contentChanges[0].range.start.line===e.contentChanges[0].range.end.line)(e)&&y.globalState.jumpTracker.handleTextAdded(e.document,e.contentChanges[0].range,e.contentChanges[0].text);const t=t=>{t.vimState.currentMode===l.ModeName.Insert&&(void 0===t.vimState.historyTracker.currentContentChanges&&(t.vimState.historyTracker.currentContentChanges=[]),t.vimState.historyTracker.currentContentChanges=t.vimState.historyTracker.currentContentChanges.concat(e.contentChanges))};a.Globals.isTesting&&a.Globals.mockModeHandler?t(a.Globals.mockModeHandler):u.ModeHandlerMap.getAll().filter(t=>t.vimState.identity.fileName===e.document.fileName).forEach(e=>{t(e)}),setTimeout(()=>{e.document.isDirty||e.document.isUntitled||!e.contentChanges.length||function(e){u.ModeHandlerMap.getAll().filter(t=>t.vimState.identity.fileName===e.fileName).forEach(e=>{e.vimState.historyTracker.clear()})}(e.document)},0)}))),A(e,i.workspace.onDidCloseTextDocument,e=>n(this,void 0,void 0,(function*(){const t=i.workspace.textDocuments;for(let r of u.ModeHandlerMap.getKeys()){const n=u.ModeHandlerMap.get(r);let i=!1;if(null==n||void 0===n.vimState.editor)i=!0;else{const r=n.vimState.editor.document;t.includes(r)||(i=!0,e===r&&(M=n))}i&&u.ModeHandlerMap.delete(r)}})),!1),A(e,i.window.onDidChangeActiveTextEditor,()=>n(this,void 0,void 0,(function*(){const e=C?u.ModeHandlerMap.get(C.toString()):null;if(M=e||M,void 0===i.window.activeTextEditor)return void x.Register.putByKey("","%",void 0,!0);const t=i.window.activeTextEditor.document.fileName.split(/\\|\//);x.Register.putByKey(t[t.length-1],"%",void 0,!0),w.taskQueue.enqueueTask(()=>n(this,void 0,void 0,(function*(){if(void 0!==i.window.activeTextEditor){const e=yield S(!0);yield p.VsCodeContext.Set("vim.mode",l.ModeName[e.vimState.currentMode]),yield e.updateView(e.vimState,{drawSelection:!1,revealRange:!1}),y.globalState.jumpTracker.handleFileJump(M?c.Jump.fromStateNow(M.vimState):null,c.Jump.fromStateNow(e.vimState))}})))})),!0,!0),A(e,i.window.onDidChangeTextEditorSelection,e=>n(this,void 0,void 0,(function*(){if(void 0===i.window.activeTextEditor||e.textEditor.document!==i.window.activeTextEditor.document)return;const t=yield S();e.textEditor===t.vimState.editor&&(t.vimState.focusChanged?t.vimState.focusChanged=!1:t.currentMode.name!==l.ModeName.EasyMotionMode&&w.taskQueue.enqueueTask(()=>t.handleSelectionChange(e),void 0,!0))})),!0,!0);const r=new o.CompositionState;_(e,"type",e=>n(this,void 0,void 0,(function*(){w.taskQueue.enqueueTask(()=>n(this,void 0,void 0,(function*(){const t=yield S();r.isInComposition?r.composingText+=e.text:yield t.handleKeyEvent(e.text)})))}))),_(e,"replacePreviousChar",e=>n(this,void 0,void 0,(function*(){w.taskQueue.enqueueTask(()=>n(this,void 0,void 0,(function*(){const t=yield S();r.isInComposition?r.composingText=r.composingText.substr(0,r.composingText.length-e.replaceCharCnt)+e.text:(yield i.commands.executeCommand("default:replacePreviousChar",{text:e.text,replaceCharCnt:e.replaceCharCnt}),t.vimState.cursorStopPosition=f.Position.FromVSCodePosition(t.vimState.editor.selection.start),t.vimState.cursorStartPosition=f.Position.FromVSCodePosition(t.vimState.editor.selection.start))})))}))),_(e,"compositionStart",()=>n(this,void 0,void 0,(function*(){w.taskQueue.enqueueTask(()=>n(this,void 0,void 0,(function*(){(yield S()).vimState.currentMode!==l.ModeName.Insert&&(r.isInComposition=!0)})))}))),_(e,"compositionEnd",()=>n(this,void 0,void 0,(function*(){w.taskQueue.enqueueTask(()=>n(this,void 0,void 0,(function*(){const e=yield S();if(e.vimState.currentMode!==l.ModeName.Insert){let t=r.composingText;r.reset(),e.handleMultipleKeyEvents(t.split(""))}})))}))),P(e,"vim.showQuickpickCmdLine",()=>n(this,void 0,void 0,(function*(){const e=yield S();yield g.commandLine.PromptAndRun("",e.vimState),e.updateView(e.vimState)}))),P(e,"vim.remap",e=>n(this,void 0,void 0,(function*(){w.taskQueue.enqueueTask(()=>n(this,void 0,void 0,(function*(){const t=yield S();if(e.after)for(const r of e.after)yield t.handleKeyEvent(d.Notation.NormalizeKey(r,v.configuration.leader));else if(e.commands)for(const r of e.commands)":"===r.command.slice(0,1)?(yield g.commandLine.Run(r.command.slice(1,r.command.length),t.vimState),t.updateView(t.vimState)):i.commands.executeCommand(r.command,r.args)})))}))),P(e,"toggleVim",()=>n(this,void 0,void 0,(function*(){v.configuration.disableExtension=!v.configuration.disableExtension,k(v.configuration.disableExtension,r)})));for(const t of v.configuration.boundKeyCombinations)P(e,t.command,()=>R(`${t.key}`));if(i.window.activeTextEditor){let e=yield S();e.updateView(e.vimState,{drawSelection:!1,revealRange:!1})}yield p.VsCodeContext.Set("listAutomaticKeyboardNavigation",!1),yield k(v.configuration.disableExtension,r),t.debug("Finish.")}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(11),r(20),r(63),r(62),r(181),r(26),r(343),r(182),r(345),r(180),r(346),r(347)},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(46),o=r(198),s=r(199),a=r(200);t.configurationValidator=new class{constructor(){this._validators=[new o.InputMethodSwitcherConfigurationValidator,new s.NeovimValidator,new a.RemappingValidator]}validate(e){return n(this,void 0,void 0,(function*(){const t=new i.ValidatorResults;for(const r of this._validators){let n=yield r.validate(e);n.hasError&&r.disable(e),t.concat(n)}return t}))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(46),o=r(1),s=r(16),a=r(71);t.InputMethodSwitcherConfigurationValidator=class{validate(e){return n(this,void 0,void 0,(function*(){const t=new i.ValidatorResults,r=e.autoSwitchInputMethod;return!r.enable||a.Globals.isTesting?Promise.resolve(t):(r.switchIMCmd.includes("{im}")||t.append({level:"error",message:"vim.autoSwitchInputMethod.switchIMCmd is incorrect, it should contain the placeholder {im}."}),void 0===r.obtainIMCmd||""===r.obtainIMCmd?t.append({level:"error",message:"vim.autoSwitchInputMethod.obtainIMCmd is empty."}):(yield o.promisify(s.exists)(this.getRawCmd(r.obtainIMCmd)))||t.append({level:"error",message:`Unable to find ${r.obtainIMCmd}. Check your 'vim.autoSwitchInputMethod.obtainIMCmd' in VSCode setting.`}),void 0===r.defaultIM||""===r.defaultIM?t.append({level:"error",message:"vim.autoSwitchInputMethod.defaultIM is empty."}):(yield o.promisify(s.exists)(this.getRawCmd(r.switchIMCmd)))||t.append({level:"error",message:`Unable to find ${r.switchIMCmd}. Check your 'vim.autoSwitchInputMethod.switchIMCmd' in VSCode setting.`}),Promise.resolve(t))}))}disable(e){e.autoSwitchInputMethod.enable=!1}getRawCmd(e){return e.split(" ")[0]}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(46),o=r(1),s=r(47);t.NeovimValidator=class{validate(e){return n(this,void 0,void 0,(function*(){const t=new i.ValidatorResults;if(e.enableNeovim)try{yield o.promisify(s.execFile)(e.neovimPath,["--version"])}catch(e){t.append({level:"error",message:`Invalid neovimPath. ${e.message}.`})}return Promise.resolve(t)}))}disable(e){e.enableNeovim=!1}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(36),s=r(46);t.RemappingValidator=class{validate(e){return n(this,void 0,void 0,(function*(){const t=new s.ValidatorResults,r=["insertModeKeyBindings","insertModeKeyBindingsNonRecursive","normalModeKeyBindings","normalModeKeyBindingsNonRecursive","visualModeKeyBindings","visualModeKeyBindingsNonRecursive"];for(const n of r){let r=e[n];const i=new Map;for(let n=r.length-1;n>=0;n--){let s=r[n],a=yield this.isRemappingValid(s);if(t.concat(a),a.hasError){r.splice(n,1);continue}s.before&&s.before.forEach((t,r)=>s.before[r]=o.Notation.NormalizeKey(t,e.leader)),s.after&&s.after.forEach((t,r)=>s.after[r]=o.Notation.NormalizeKey(t,e.leader));const c=s.before.join("");i.has(c)?t.append({level:"warning",message:`${s.before}. Duplicate remapped key for ${c}.`}):i.set(c,s)}e[n+"Map"]=i}return t}))}disable(e){}isRemappingValid(e){return n(this,void 0,void 0,(function*(){const t=new s.ValidatorResults;if(e.after||e.commands||t.append({level:"error",message:`${e.before} missing 'after' key or 'command'.`}),e.before instanceof Array||t.append({level:"error",message:`Remapping of '${e.before}' should be a string array.`}),!e.after||e.after instanceof Array||t.append({level:"error",message:`Remapping of '${e.after}' should be a string array.`}),e.commands)for(const r of e.commands){let e;e="string"==typeof r?r:r.command,(yield this.isCommandValid(e))||t.append({level:"warning",message:`${e} does not exist.`})}return t}))}isCommandValid(e){return n(this,void 0,void 0,(function*(){return!!e.startsWith(":")||(yield this.getCommandMap()).has(e)}))}getCommandMap(){return n(this,void 0,void 0,(function*(){return null==this._commandMap&&(this._commandMap=new Map((yield i.commands.getCommands(!0)).map(e=>[e,!0]))),this._commandMap}))}}},function(e){e.exports=JSON.parse('{"name":"vim","displayName":"Vim","description":"Vim emulation for Visual Studio Code","icon":"images/icon.png","version":"1.11.0","publisher":"vscodevim","galleryBanner":{"color":"#e3f4ff","theme":"light"},"license":"MIT","keywords":["vim","vi","vscodevim"],"repository":{"type":"git","url":"https://github.com/VSCodeVim/Vim.git"},"homepage":"https://github.com/VSCodeVim/Vim","bugs":{"url":"https://github.com/VSCodeVim/Vim/issues"},"engines":{"vscode":"^1.37.0"},"categories":["Other","Keymaps"],"extensionKind":"ui","activationEvents":["*","onCommand:type"],"qna":"https://vscodevim.herokuapp.com/","main":"./out/extension","contributes":{"commands":[{"command":"vim.remap","title":"Vim: Remap any key combination that VSCode supports to Vim motions/operators/ExCommands/macro."},{"command":"toggleVim","title":"Vim: Toggle Vim Mode"},{"command":"vim.showQuickpickCmdLine","title":"Vim: Show Command Line"}],"keybindings":[{"key":"Escape","command":"extension.vim_escape","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Home","command":"extension.vim_home","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"End","command":"extension.vim_end","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"Insert","command":"extension.vim_insert","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Backspace","command":"extension.vim_backspace","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Delete","command":"extension.vim_delete","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"tab","command":"extension.vim_tab","when":"editorFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"shift+tab","command":"extension.vim_shift+tab","when":"editorFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"left","command":"extension.vim_left","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"right","command":"extension.vim_right","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"up","command":"extension.vim_up","when":"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !suggestWidgetMultipleSuggestions"},{"key":"down","command":"extension.vim_down","when":"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !suggestWidgetMultipleSuggestions"},{"key":"g g","command":"list.focusFirst","when":"listFocus && !inputFocus"},{"key":"h","command":"list.collapse","when":"listFocus && !inputFocus"},{"key":"j","command":"list.focusDown","when":"listFocus && !inputFocus"},{"key":"k","command":"list.focusUp","when":"listFocus && !inputFocus"},{"key":"l","command":"list.select","when":"listFocus && !inputFocus"},{"key":"o","command":"list.toggleExpand","when":"listFocus && !inputFocus"},{"key":"/","command":"list.toggleKeyboardNavigation","when":"listFocus && !inputFocus && listSupportsKeyboardNavigation"},{"key":"ctrl+a","command":"extension.vim_ctrl+a","when":"editorTextFocus && vim.active && vim.use<C-a> && !inDebugRepl"},{"key":"ctrl+b","command":"extension.vim_ctrl+b","when":"editorTextFocus && vim.active && vim.use<C-b> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+c","command":"extension.vim_ctrl+c","when":"editorTextFocus && vim.active && vim.use<C-c> && !inDebugRepl && vim.overrideCtrlC"},{"key":"ctrl+d","command":"extension.vim_ctrl+d","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"ctrl+d","command":"list.focusPageDown","when":"listFocus && !inputFocus"},{"key":"ctrl+e","command":"extension.vim_ctrl+e","when":"editorTextFocus && vim.active && vim.use<C-e> && !inDebugRepl"},{"key":"ctrl+f","command":"extension.vim_ctrl+f","when":"editorTextFocus && vim.active && vim.use<C-f> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+g","command":"extension.vim_ctrl+g","when":"editorTextFocus && vim.active && vim.use<C-g> && !inDebugRepl"},{"key":"ctrl+h","command":"extension.vim_ctrl+h","when":"editorTextFocus && vim.active && vim.use<C-h> && !inDebugRepl"},{"key":"ctrl+i","command":"extension.vim_ctrl+i","when":"editorTextFocus && vim.active && vim.use<C-i> && !inDebugRepl"},{"key":"ctrl+j","command":"extension.vim_ctrl+j","when":"editorTextFocus && vim.active && vim.use<C-j> && !inDebugRepl"},{"key":"ctrl+k","command":"extension.vim_ctrl+k","when":"editorTextFocus && vim.active && vim.use<C-k> && !inDebugRepl"},{"key":"ctrl+l","command":"extension.vim_navigateCtrlL","when":"editorTextFocus && vim.active && vim.use<C-l> && !inDebugRepl"},{"key":"ctrl+n","command":"extension.vim_ctrl+n","when":"editorTextFocus && vim.active && vim.use<C-n> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-n> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-n> && !inDebugRepl"},{"key":"ctrl+o","command":"extension.vim_ctrl+o","when":"editorTextFocus && vim.active && vim.use<C-o> && !inDebugRepl"},{"key":"ctrl+p","command":"extension.vim_ctrl+p","when":"suggestWidgetVisible && vim.active && vim.use<C-p> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-p> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-p> && !inDebugRepl"},{"key":"ctrl+q","command":"extension.vim_winCtrlQ","when":"editorTextFocus && vim.active && vim.use<C-q> && !inDebugRepl"},{"key":"ctrl+r","command":"extension.vim_ctrl+r","when":"editorTextFocus && vim.active && vim.use<C-r> && !inDebugRepl"},{"key":"ctrl+t","command":"extension.vim_ctrl+t","when":"editorTextFocus && vim.active && vim.use<C-t> && !inDebugRepl"},{"key":"ctrl+u","command":"extension.vim_ctrl+u","when":"editorTextFocus && vim.active && vim.use<C-u> && !inDebugRepl"},{"key":"ctrl+u","command":"list.focusPageUp","when":"listFocus && !inputFocus"},{"key":"ctrl+v","command":"extension.vim_ctrl+v","when":"editorTextFocus && vim.active && vim.use<C-v> && !inDebugRepl"},{"key":"ctrl+w","command":"extension.vim_ctrl+w","when":"editorTextFocus && vim.active && vim.use<C-w> && !inDebugRepl"},{"key":"ctrl+x","command":"extension.vim_ctrl+x","when":"editorTextFocus && vim.active && vim.use<C-x> && !inDebugRepl"},{"key":"ctrl+y","command":"extension.vim_ctrl+y","when":"editorTextFocus && vim.active && vim.use<C-y> && !inDebugRepl"},{"key":"ctrl+[","command":"extension.vim_ctrl+[","when":"editorTextFocus && vim.active && vim.use<C-[> && !inDebugRepl"},{"key":"ctrl+]","command":"extension.vim_ctrl+]","when":"editorTextFocus && vim.active && vim.use<C-]> && !inDebugRepl"},{"key":"ctrl+shift+2","command":"extension.vim_ctrl+shift+2","when":"editorTextFocus && vim.active && vim.use<C-shift+2>"},{"key":"ctrl+pagedown","command":"extension.vim_ctrl+pagedown","when":"editorTextFocus && vim.active && vim.use<C-pagedown> && !inDebugRepl"},{"key":"ctrl+pageup","command":"extension.vim_ctrl+pageup","when":"editorTextFocus && vim.active && vim.use<C-pageup> && !inDebugRepl"},{"key":"shift+G","command":"list.focusLast","when":"listFocus && !inputFocus"},{"key":"shift+backspace","command":"extension.vim_shift+backspace","when":"editorTextFocus && vim.active && vim.use<shift+BS> && vim.mode == \'SearchInProgressMode\' && !inDebugRepl"},{"key":"cmd+left","command":"extension.vim_cmd+left","when":"editorTextFocus && vim.active && vim.use<D-left> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+right","command":"extension.vim_cmd+right","when":"editorTextFocus && vim.active && vim.use<D-right> &&  !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+a","command":"extension.vim_cmd+a","when":"editorTextFocus && vim.active && vim.use<D-a> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+c","command":"extension.vim_cmd+c","when":"editorTextFocus && vim.active && vim.use<D-c> && vim.overrideCopy && !inDebugRepl"},{"key":"cmd+d","command":"extension.vim_cmd+d","when":"editorTextFocus && vim.active && vim.use<D-d> && !inDebugRepl"},{"key":"cmd+v","command":"extension.vim_cmd+v","when":"editorTextFocus && vim.active && vim.use<D-v> && vim.overrideCmdV && !inDebugRepl"},{"key":"ctrl+alt+down","linux":"shift+alt+down","mac":"cmd+alt+down","command":"extension.vim_cmd+alt+down","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"ctrl+alt+up","linux":"shift+alt+up","mac":"cmd+alt+up","command":"extension.vim_cmd+alt+up","when":"editorTextFocus && vim.active && !inDebugRepl"}],"configuration":{"title":"Vim Configuration","type":"object","properties":{"vim.debug.silent":{"type":"boolean","description":"If true, all logs are suppressed.","default":false},"vim.debug.loggingLevelForAlert":{"type":"string","description":"Maximum level of messages to present as VSCode information window.","default":"error","enum":["error","warn","info","verbose","debug"]},"vim.debug.loggingLevelForConsole":{"type":"string","description":"Maximum level of messages to log to console. Logs are visible in developer tools.","default":"error","enum":["error","warn","info","verbose","debug"]},"vim.normalModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Normal mode. Allows mapping to Vim commands or VSCode actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.normalModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive remapped keys in Normal mode. Allows mapping to Vim commands or VSCode actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.useCtrlKeys":{"type":"boolean","markdownDescription":"Enable some Vim Ctrl key commands that override otherwise common operations, like `Ctrl+C`.","default":true},"vim.leader":{"type":"string","markdownDescription":"What key should `<leader>` map to in remappings?","default":"\\\\"},"vim.searchHighlightColor":{"type":"string","description":"Color of the search highlight."},"vim.highlightedyank.enable":{"type":"boolean","description":"Enable highlighting when yanking.","default":false},"vim.highlightedyank.color":{"type":"string","description":"Color of the yank highlight.","default":"rgba(250, 240, 170, 0.5)"},"vim.highlightedyank.duration":{"type":"number","description":"Duration in milliseconds of the yank highlight.","default":200,"minimum":1},"vim.useSystemClipboard":{"type":"boolean","description":"Use system clipboard for unnamed register.","default":false},"vim.overrideCopy":{"type":"boolean","description":"Override VSCode\'s copy command with our own copy command, which works better with VSCodeVim. Turn this off if copying is not working.","default":true},"vim.insertModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Insert mode. Allows mapping to Vim commands or VSCode actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.insertModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for Insert mode. Allows mapping to Vim commands or VSCode actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.visualModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Visual mode. Allows mapping to Vim commands or VSCode actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.visualModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for Visual mode. Allows mapping to Vim commands or VSCode actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.textwidth":{"type":"number","markdownDescription":"Width to word-wrap to when using `gq`.","default":80,"minimum":1},"vim.timeout":{"type":"number","description":"Timeout in milliseconds for remapped commands.","default":1000,"minimum":0},"vim.scroll":{"type":"number","markdownDescription":"Number of lines to scroll with `Ctrl-U` and `Ctrl-D` commands.","default":20,"minimum":1},"vim.showcmd":{"type":"boolean","description":"Show the text of any command you are in the middle of writing.","default":true},"vim.showmodename":{"type":"boolean","description":"Show the name of the current mode in the statusbar.","default":true},"vim.iskeyword":{"type":"string","markdownDescription":"Keywords contain alphanumeric characters and \'_\'. If not configured, `editor.wordSeparators` is used."},"vim.ignorecase":{"type":"boolean","description":"Ignore case in search patterns.","default":true},"vim.smartcase":{"type":"boolean","markdownDescription":"Override the `ignorecase` option if the search pattern contains upper case characters.","default":true},"vim.camelCaseMotion.enable":{"type":"boolean","markdownDescription":"Enable the [CamelCaseMotion](https://github.com/bkad/CamelCaseMotion) plugin for Vim.","default":false},"vim.easymotion":{"type":"boolean","markdownDescription":"Enable the [EasyMotion](https://github.com/easymotion/vim-easymotion) plugin for Vim.","default":false},"vim.easymotionMarkerBackgroundColor":{"type":"string","description":"Set a custom background color for EasyMotion markers."},"vim.easymotionMarkerForegroundColorOneChar":{"type":"string","description":"Set a custom color for the text on one character long markers."},"vim.easymotionMarkerForegroundColorTwoChar":{"type":"string","description":"Set a custom color for the text on two character long markers."},"vim.easymotionMarkerWidthPerChar":{"type":"number","description":"Set the width (in pixels) allocated to each character in the match.","default":8,"minimum":1},"vim.easymotionMarkerHeight":{"type":"number","description":"Set the height of the marker.","default":14,"minimum":1},"vim.easymotionMarkerFontFamily":{"type":"string","description":"Set the font family of the marker text.","default":"Consolas"},"vim.easymotionMarkerFontSize":{"type":"string","description":"Set the font size of the marker text.","default":"14"},"vim.easymotionMarkerFontWeight":{"type":"string","description":"Set the font weight of the marker text.","default":"normal"},"vim.easymotionMarkerYOffset":{"type":"number","description":"Set the Y offset of the marker text (the distance from the top).","default":0},"vim.easymotionKeys":{"type":"string","description":"Set the characters used for jump marker name.","default":"hklyuiopnm,qwertzxcvbasdgjf;"},"vim.easymotionJumpToAnywhereRegex":{"type":"string","description":"Regex matches for JumpToAnywhere motion.","default":"\\\\b[A-Za-z0-9]|[A-Za-z0-9]\\\\b|_.|#.|[a-z][A-Z]"},"vim.replaceWithRegister":{"type":"boolean","markdownDescription":"Enable the [ReplaceWithRegister](https://github.com/vim-scripts/ReplaceWithRegister) plugin for Vim.","default":false},"vim.sneak":{"type":"boolean","markdownDescription":"Enable the [Sneak](https://github.com/justinmk/vim-sneak) plugin for Vim.","default":false},"vim.sneakUseIgnorecaseAndSmartcase":{"type":"boolean","markdownDescription":"Case sensitivity is determined by `ignorecase` and `smartcase`.","default":false},"vim.sneakReplacesF":{"type":"boolean","markdownDescription":"Use single-character [Sneak](https://github.com/justinmk/vim-sneak) instead of Vim\'s native `f`.","default":false},"vim.surround":{"type":"boolean","markdownDescription":"Enable the [Surround](https://github.com/tpope/vim-surround) plugin for Vim.","default":true},"vim.hlsearch":{"type":"boolean","description":"Show all matches of the most recent search pattern.","default":false},"vim.incsearch":{"type":"boolean","markdownDescription":"Show where a `/` or `?` search matches as you type it.","default":true},"vim.history":{"type":"number","description":"How much search or command history should be remembered.","default":50,"minimum":1},"vim.autoindent":{"type":"boolean","description":"Indent code automatically.","default":true},"vim.startInInsertMode":{"type":"boolean","description":"Start in Insert mode."},"vim.handleKeys":{"type":"object","description":"Delegate certain key combinations back to VSCode to be handled natively.","default":{"<C-d>":true}},"vim.statusBarColorControl":{"type":"boolean","markdownDescription":"Allow VSCodeVim to change status bar color based on mode. **NOTE:** Using this feature will have a negative impact on performance.","default":false},"vim.statusBarColors.normal":{"type":["string","array"],"description":"Status bar color when in Normal mode.","default":"#005f5f"},"vim.statusBarColors.insert":{"type":["string","array"],"description":"Status bar color when in Insert mode.","default":"#5f0000"},"vim.statusBarColors.visual":{"type":["string","array"],"description":"Status bar color when in Visual mode.","default":"#5f00af"},"vim.statusBarColors.visualline":{"type":["string","array"],"description":"Status bar color when in VisualLine mode.","default":"#005f5f"},"vim.statusBarColors.visualblock":{"type":["string","array"],"description":"Status bar color when in VisualBlock mode.","default":"#86592d"},"vim.statusBarColors.replace":{"type":["string","array"],"description":"Status bar color when in Replace mode.","default":"#00000"},"vim.visualstar":{"type":"boolean","markdownDescription":"In Visual mode, start a search with `*` or `#` using the current selection.","default":false},"vim.changeWordIncludesWhitespace":{"type":"boolean","description":"Includes trailing whitespace when changing word.","default":false},"vim.foldfix":{"type":"boolean","description":"Uses a hack to move around folds properly.","default":false},"vim.mouseSelectionGoesIntoVisualMode":{"type":"boolean","description":"Does dragging with the mouse put you into Visual mode.","default":true},"vim.disableExtension":{"type":"boolean","description":"Disables the VSCodeVim extension. Extension will continue to be loaded and activated, but Vim functionality will be disabled.","default":false},"vim.enableNeovim":{"type":"boolean","markdownDescription":"Use Neovim on backend. (only works for Ex commands right now). You should restart VSCode after enable/disabling this for the changes to take effect. **NOTE:** Neovim must be installed (v0.2.0) and neovimPath must be set the executable in order for this setting to work. Otherwise, VSCodeVim will crash.","default":false},"vim.neovimPath":{"type":"string","markdownDescription":"Path to Neovim executable. For example, `/usr/bin/nvim`, or  `C:\\\\Program Files\\\\Neovim\\\\bin\\\\nvim.exe`.","default":"nvim","scope":"machine"},"vim.substituteGlobalFlag":{"type":"boolean","markdownDescription":"Automatically apply the global flag, `/g`, to substitute commands. When set to true, use `/g` to mean only first match should be replaced.","default":false,"deprecationMessage":"Use `vim.gdefault` instead."},"vim.gdefault":{"type":"boolean","markdownDescription":"Automatically apply the global flag, `/g`, to substitute commands. When set to true, use `/g` to mean only first match should be replaced.","default":false},"vim.cursorStylePerMode.normal":{"type":"string","description":"Cursor style for Normal mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.insert":{"type":"string","description":"Cursor style for Insert mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.replace":{"type":"string","description":"Cursor style for Replace mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visual":{"type":"string","description":"Cursor style for Visual mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visualline":{"type":"string","description":"Cursor style for VisualLine mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visualblock":{"type":"string","description":"Cursor style for VisualBlock mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.autoSwitchInputMethod.enable":{"type":"boolean","description":"Switch input method automatically when mode changed.","default":false},"vim.autoSwitchInputMethod.defaultIM":{"type":"string","markdownDescription":"The input method for your normal mode, find more information [here](https://github.com/VSCodeVim/Vim#input-method).","default":""},"vim.autoSwitchInputMethod.switchIMCmd":{"type":"string","description":"The shell command to switch input method.","default":"/path/to/im-select {im}"},"vim.autoSwitchInputMethod.obtainIMCmd":{"type":"string","description":"The shell command to get current input method.","default":"/path/to/im-select"},"vim.whichwrap":{"type":"string","description":"Comma-separated list of motion keys that should wrap to next/previous line.","default":""},"vim.report":{"type":"number","description":"Threshold for reporting number of lines changed.","default":2,"minimum":1},"vim.digraphs":{"type":"object","description":"Custom digraph shortcuts for inserting special characters, expressed as UTF16 code points.","default":{}},"vim.wrapscan":{"type":"boolean","description":"Searches wrap around the end of the file.","default":true}}}},"scripts":{"vscode:prepublish":"gulp build","build":"gulp build","test":"node ./node_modules/vscode/bin/test","forceprettier":"gulp forceprettier","postinstall":"node ./node_modules/vscode/bin/install"},"dependencies":{"appdirectory":"0.1.0","diff-match-patch":"1.0.4","lodash.escaperegexp":"4.1.2","mkdirp":"0.5.1","neovim":"4.5.0","untildify":"4.0.0","winston":"3.2.1","winston-console-for-electron":"0.0.6","winston-transport":"4.3.0"},"devDependencies":{"@types/diff":"4.0.2","@types/diff-match-patch":"1.0.32","@types/lodash.escaperegexp":"4.1.6","@types/mocha":"5.2.7","@types/node":"12.7.8","@types/sinon":"7.0.13","gulp":"4.0.2","gulp-bump":"3.1.3","gulp-git":"2.9.0","gulp-sourcemaps":"2.6.5","gulp-tag-version":"1.3.1","gulp-tslint":"8.1.4","gulp-typescript":"5.0.1","minimist":"1.2.0","mocha":"6.2.0","plugin-error":"1.0.1","prettier":"1.18.2","sinon":"7.5.0","ts-loader":"6.1.2","tslint":"5.20.0","typescript":"3.6.3","vscode":"1.1.36","webpack-stream":"5.2.1"}}')},function(e,t,r){var n=r(13),i=r(115);"disable"===process.env.READABLE_STREAM?e.exports=n&&n.Writable||i:e.exports=i},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";var n=r(48);e.exports=y;var i,o=r(51);y.ReadableState=v;r(21).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=r(117),c=r(49).Buffer,u=global.Uint8Array||function(){};var l=r(75);l.inherits=r(24);var d=r(1),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var f,m=r(205),p=r(118);l.inherits(y,a);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(i=i||r(50));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(119).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(50),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function w(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,M(e)}(e,s)):(i||(o=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?x(e,s,t,!1):E(e,s)):x(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&M(e)),E(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return f||(f=r(119).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var b=8388608;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function M(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),A(e)}function E(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(k,e,t))}function k(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function _(e){h("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):M(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&N(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?u:y;function c(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",c),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",m),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){h("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var d=!1;var f=!1;function m(t){h("ondata"),f=!1,!1!==e.write(t)||f||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!d&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function p(t){h("onerror",t),y(),e.removeListener("error",p),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",g),e.once("finish",v),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=L(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},y.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&M(this):n.nextTick(_,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=R},function(e,t,r){"use strict";var n=r(49).Buffer,i=r(1);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,i=a,t.copy(r,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,r){"use strict";Object.defineProperty(t,"cli",{value:r(207)}),Object.defineProperty(t,"npm",{value:r(208)}),Object.defineProperty(t,"syslog",{value:r(209)})},function(e,t,r){"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,t,r){"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,t,r){"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,t,r){"use strict";const n=r(22),{warn:i}=r(138),o=t;o.version=r(232).version,o.transports=r(233),o.config=r(97),o.addColors=n.levels,o.format=n.format,o.createLogger=r(164),o.ExceptionHandler=r(165),o.RejectionHandler=r(168),o.Container=r(293),o.Transport=r(28),o.loggers=new o.Container;const s=o.createLogger();Object.keys(o.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure"]).forEach(e=>o[e]=(...t)=>s[e](...t)),Object.defineProperty(o,"level",{get:()=>s.level,set(e){s.level=e}}),Object.defineProperty(o,"exceptions",{get:()=>s.exceptions}),["exitOnError"].forEach(e=>{Object.defineProperty(o,e,{get:()=>s[e],set(t){s[e]=t}})}),Object.defineProperty(o,"default",{get:()=>({exceptionHandlers:s.exceptionHandlers,rejectionHandlers:s.rejectionHandlers,transports:s.transports})}),i.deprecated(o,"setLevels"),i.forFunctions(o,"useFormat",["cli"]),i.forProperties(o,"useFormat",["padLevels","stripColors"]),i.forFunctions(o,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(o,"deprecated",["emitErrs","levelLength"]),i.moved(o,"createLogger","Logger")},function(e,t,r){var n={};e.exports=n,n.themes={};var i=r(1),o=n.styles=r(212),s=Object.defineProperties,a=new RegExp(/[\r\n]+/g);n.supportsColor=r(213).supportsColor,void 0===n.enabled&&(n.enabled=!1!==n.supportsColor()),n.enable=function(){n.enabled=!0},n.disable=function(){n.enabled=!1},n.stripColors=n.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};n.stylize=function(e,t){return n.enabled?o[t].open+e+o[t].close:e+""};var c=/[|\\{}()[\]^$+*?.]/g;function u(e){var t=function e(){return f.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var l,d=(l={},o.grey=o.gray,Object.keys(o).forEach((function(e){o[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(c,"\\$&")}(o[e].close),"g"),l[e]={get:function(){return u(this._styles.concat(e))}}})),l),h=s((function(){}),d);function f(){var e=Array.prototype.slice.call(arguments).map((function(e){return void 0!==e&&e.constructor===String?e:i.inspect(e)})).join(" ");if(!n.enabled||!e)return e;for(var t=-1!=e.indexOf("\n"),r=this._styles,s=r.length;s--;){var c=o[r[s]];e=c.open+e.replace(c.closeRe,c.open)+c.close,t&&(e=e.replace(a,(function(e){return c.close+e+c.open})))}return e}n.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){n[t]=function(r){if("object"==typeof e[t]){var i=r;for(var o in e[t])i=n[e[t][o]](i);return i}return n[e[t]](r)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var m=function(e,t){var r=t.split("");return(r=r.map(e)).join("")};for(var p in n.trap=r(215),n.zalgo=r(216),n.maps={},n.maps.america=r(217)(n),n.maps.zebra=r(218)(n),n.maps.rainbow=r(219)(n),n.maps.random=r(220)(n),n.maps)!function(e){n[e]=function(t){return m(n.maps[e],t)}}(p);s(n,function(){var e={};return Object.keys(d).forEach((function(t){e[t]={get:function(){return u([t])}}})),e}())},function(e,t){var r={};e.exports=r;var n={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(n).forEach((function(e){var t=n[e],i=r[e]=[];i.open="["+t[0]+"m",i.close="["+t[1]+"m"}))},function(e,t,r){"use strict";var n=r(19),i=r(214),o=process.env,s=void 0;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;var t=s?1:0;if("win32"===process.platform){var r=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in o}))||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in o){var a=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){"use strict";e.exports=function(e,t){var r=(t=t||process.argv).indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return-1!==i&&(-1===r||i<r)}},function(e,t){e.exports=function(e,t){var r="";e=(e=e||"Run the trap, drop the bass").split("");var n={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach((function(e){e=e.toLowerCase();var t=n[e]||[" "],i=Math.floor(Math.random()*t.length);r+=void 0!==n[e]?n[e][i]:e})),r}},function(e,t){e.exports=function(e,t){e=e||"   he is here   ";var r={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},n=[].concat(r.up,r.down,r.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return n.filter((function(r){t=r===e})),t}return function(e,t){var n,s,a="";for(s in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],n={up:0,down:0,mid:0},t.size){case"mini":n.up=i(8),n.mid=i(2),n.down=i(8);break;case"maxi":n.up=i(16)+3,n.mid=i(4)+1,n.down=i(64)+3;break;default:n.up=i(8)+1,n.mid=i(6)/2,n.down=i(8)+1}var c=["up","mid","down"];for(var u in c)for(var l=c[u],d=0;d<=n[l];d++)t[l]&&(a+=r[l][i(r[l].length)])}return a}(e,t)}},function(e,t){e.exports=function(e){return function(t,r,n){if(" "===t)return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},function(e,t){e.exports=function(e){return function(t,r,n){return r%2==0?t:e.inverse(t)}}},function(e,t){e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,i){return" "===r?r:e[t[n++%t.length]](r)}}},function(e,t){e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(r,n,i){return" "===r?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}},function(e,t,r){var n={"./align.js":120,"./browser.js":222,"./cli.js":121,"./colorize.js":52,"./combine.js":122,"./dist/align.js":79,"./dist/browser.js":133,"./dist/cli.js":80,"./dist/colorize.js":38,"./dist/combine.js":81,"./dist/errors.js":134,"./dist/format.js":9,"./dist/index.js":135,"./dist/json.js":82,"./dist/label.js":83,"./dist/levels.js":54,"./dist/logstash.js":84,"./dist/metadata.js":85,"./dist/ms.js":136,"./dist/pad-levels.js":55,"./dist/pretty-print.js":86,"./dist/printf.js":87,"./dist/simple.js":88,"./dist/splat.js":89,"./dist/timestamp.js":90,"./dist/uncolorize.js":91,"./errors.js":224,"./examples/combine.js":225,"./examples/filter.js":226,"./examples/invalid.js":227,"./examples/metadata.js":228,"./examples/padLevels.js":229,"./examples/volume.js":230,"./format.js":12,"./index.js":22,"./json.js":78,"./label.js":123,"./levels.js":76,"./logstash.js":124,"./metadata.js":125,"./ms.js":231,"./pad-levels.js":77,"./pretty-print.js":126,"./printf.js":127,"./simple.js":128,"./splat.js":129,"./timestamp.js":130,"./uncolorize.js":132};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=221},function(e,t,r){"use strict";const n=t.format=r(12);t.levels=r(76),Object.defineProperty(n,"align",{value:r(120)}),Object.defineProperty(n,"cli",{value:r(121)}),Object.defineProperty(n,"combine",{value:r(122)}),Object.defineProperty(n,"colorize",{value:r(52)}),Object.defineProperty(n,"json",{value:r(78)}),Object.defineProperty(n,"label",{value:r(123)}),Object.defineProperty(n,"logstash",{value:r(124)}),Object.defineProperty(n,"metadata",{value:r(125)}),Object.defineProperty(n,"padLevels",{value:r(77)}),Object.defineProperty(n,"prettyPrint",{value:r(126)}),Object.defineProperty(n,"printf",{value:r(127)}),Object.defineProperty(n,"simple",{value:r(128)}),Object.defineProperty(n,"splat",{value:r(129)}),Object.defineProperty(n,"timestamp",{value:r(130)}),Object.defineProperty(n,"uncolorize",{value:r(132)})},function(e,t,r){var n={"./align.js":79,"./browser.js":133,"./cli.js":80,"./colorize.js":38,"./combine.js":81,"./errors.js":134,"./format.js":9,"./index.js":135,"./json.js":82,"./label.js":83,"./levels.js":54,"./logstash.js":84,"./metadata.js":85,"./ms.js":136,"./pad-levels.js":55,"./pretty-print.js":86,"./printf.js":87,"./simple.js":88,"./splat.js":89,"./timestamp.js":90,"./uncolorize.js":91};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=223},function(e,t,r){"use strict";const n=r(12),{LEVEL:i,MESSAGE:o}=r(2);e.exports=n((e,{stack:t})=>{if(e instanceof Error){const r=Object.assign({},e,{level:e.level,[i]:e[i]||e.level,message:e.message,[o]:e[o]||e.message});return t&&(r.stack=e.stack),r}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);const r=e.message;return e.message=r.message,e[o]=r.message,t&&(e.stack=r.stack),e})},function(e,t,r){const{format:n}=r(22),{combine:i,timestamp:o,label:s}=n,a=i(s({label:"right meow!"}),o()).transform({level:"info",message:"What time is the testing at?"});console.dir(a)},function(e,t,r){const{format:n}=r(22),{combine:i,timestamp:o,label:s}=n,a=n((e,t)=>!e.private&&e)();console.dir(a.transform({level:"error",message:"Public error to share"})),console.dir(a.transform({level:"error",private:!0,message:"This is super secret - hide it."}));const c=n.combine(n(e=>!1)(),n(e=>{throw new Error("Never reached")})());console.dir(c.transform({level:"info",message:"wow such testing"}))},function(e,t,r){const{format:n}=r(22);n((function(e,t,r,n){return e}))},function(e,t,r){const{format:n}=r(22),{combine:i,json:o,metadata:s,timestamp:a}=n,c=i(a(),s(),o()).transform({level:"info",message:"This should be a message.",application:"Microsoft Office",store:"Big Box Store",purchaseAmount:"9.99"});console.dir(c);const u=i(a(),s({fillExcept:["message","level","timestamp"]}),o()).transform({level:"info",message:"This should have attached metadata",category:"movies",subCategory:"action"});console.dir(u);const l=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel"});console.dir(l);const d=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),s({fillWith:["purchasePrice","purchaseDate","transactionId"],key:"transactionInfo"}),s({fillExcept:["level","message","label","timestamp"]}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel",purchasePrice:"9.99",purchaseDate:"2.10.2018",transactionId:"123ABC"});console.dir(d)},function(e,t,r){const{format:n}=r(22),{combine:i,padLevels:o,simple:s}=n,{MESSAGE:a}=r(2),c=i(o({levels:{error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6}}),s()),u=c.transform({level:"info",message:"This is an info level message."}),l=c.transform({level:"error",message:"This is an error level message."}),d=c.transform({level:"verbose",message:"This is a verbose level message."});console.dir(u[a]),console.dir(l[a]),console.dir(d[a])},function(e,t,r){const{format:n}=r(22),i=n((e,t)=>(t.yell?e.message=e.message.toUpperCase():t.whisper&&(e.message=e.message.toLowerCase()),e)),o=i({yell:!0});console.dir(o.transform({level:"info",message:"sorry for making you YELL in your head!"},o.options));const s=i({whisper:!0});console.dir(s.transform({level:"info",message:"WHY ARE THEY MAKING US YELL SO MUCH!"},s.options))},function(e,t,r){"use strict";const n=r(12),i=r(137);e.exports=n(e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms=`+${i(this.diff)}`,e})},function(e){e.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.2.1","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^2.6.1","diagnostics":"^1.1.1","is-stream":"^1.1.0","logform":"^2.1.1","one-time":"0.0.4","readable-stream":"^3.1.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.3.0"},"devDependencies":{"@babel/cli":"^7.2.3","@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","@types/node":"^10.12.19","abstract-winston-transport":">= 0.5.1","assume":"^2.1.0","colors":"^1.3.3","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.3.3","mocha":"^5.2.0","nyc":"^13.1.0","rimraf":"^2.6.3","split2":"^3.1.0","std-mocks":"^1.0.1","through2":"^3.0.0","winston-compat":"^0.1.4"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT","_resolved":"https://registry.npmjs.org/winston/-/winston-3.2.1.tgz","_integrity":"sha512-zU6vgnS9dAWCEKg/QYigd6cgMVVNwyTzKs81XZtTFuRwJOcDdBg7AU0mXVyNbs7O5RH2zdv+BdNZUlx7mXPuOw==","_from":"winston@3.2.1"}')},function(e,t,r){"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>r(234)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>r(235)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>r(286)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>r(287)})},function(e,t,r){"use strict";const n=r(19),{LEVEL:i,MESSAGE:o}=r(2),s=r(28);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||n.EOL,this.setMaxListeners(30)}log(e,t){return setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.error(e[o]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.warn(e[o]),void(t&&t())):(console._stdout?console._stdout.write(`${e[o]}${this.eol}`):console.log(e[o]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((e,r)=>{if("string"!=typeof r)throw new Error(t);return e[r]=!0,e},{})}}},function(e,t,r){"use strict";const n=r(16),i=r(23),o=r(236),s=r(150),{MESSAGE:a}=r(2),{Stream:c,PassThrough:u}=r(39),l=r(28),d=r(58)("winston:file"),h=r(19),f=r(285);e.exports=class extends l{constructor(e={}){function t(t,...r){r.slice(1).forEach(r=>{if(e[r])throw new Error(`Cannot set ${r} and ${t} together`)})}if(super(e),this.name=e.name||"file",this._stream=new u,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=i.dirname(this._dest.path)}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",()=>{this._drain=!1,this.log(e,t)});if(this._rotate)return void this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,t)});const r=`${e[a]}${this.eol}`,n=Buffer.byteLength(r);this._pendingSize+=n,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(r,function(){this._size+=n,this._pendingSize-=n,d("logged %s %s",this._size,r),this.emit("logged",e),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(()=>this._rotateFile()))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,t()})),d("written",i,this._drain),this.finishIfEnding(),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until));e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from));return e.order=e.order||"desc",e.fields=e.fields,e}(e);const r=i.join(this.dirname,this.filename);let o="",s=[],a=0;const c=n.createReadStream(r,{encoding:"utf8"});function u(t,r){try{const r=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const r=new Date(t.timestamp);if(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level)return;return!0})(r)&&function(t){if(e.rows&&s.length>=e.rows&&"desc"!==e.order)return void(c.readable&&c.destroy());e.fields&&(t=e.fields.reduce((e,r)=>(e[r]=t[r],e),{}));"desc"===e.order&&s.length>=e.rows&&s.shift();s.push(t)}(r)}catch(e){r||c.emit("error",e)}}c.on("error",e=>{if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)}),c.on("data",t=>{const r=(t=(o+t).split(/\n+/)).length-1;let n=0;for(;n<r;n++)(!e.start||a>=e.start)&&u(t[n]),a++;o=t[r]}),c.on("close",()=>{o&&u(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)})}stream(e={}){const t=i.join(this.dirname,this.filename),r=new c,n={file:t,start:e.start};return r.destroy=f(n,(e,t)=>{if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}}),r}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){const t=this._getFile(),r=i.join(this.dirname,t);n.stat(r,(n,i)=>n&&"ENOENT"===n.code?(d("ENOENTok",r),this.filename=t,e(null,0)):n?(d(`err ${n.code} ${r}`),e(n)):!i||this._needsNewFile(i.size)?this._incFile(()=>this.stat(e)):(this.filename=t,void e(null,i.size)))}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=(()=>{})){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const r=n.createWriteStream(t,this.options).on("error",e=>d(e)).on("close",()=>d("close",r.path,r.bytesWritten)).on("open",()=>{d("file open ok",t),this.emit("open",t),e.pipe(r),this.rotatedWhileOpening&&(this._stream=new u,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(r),e.end())});if(d("create stream ok",t),this.zippedArchive){const e=s.createGzip();return e.pipe(r),e}return r}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),r=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created,n=!this.tailable&&this._created?`${t}${r}${e}`:`${t}${e}`;return this.zippedArchive&&!this.tailable?`${n}.gz`:n}_checkMaxFilesIncrementing(e,t,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);const o=this._created-this.maxFiles,s=`${t}${0!==o?o:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,s);n.unlink(a,r)}_checkMaxFilesTailable(e,t,r){const s=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let r=this.maxFiles-1;r>1;r--)s.push(function(r,o){let s=`${t}${r-1}${e}${a}`;const c=i.join(this.dirname,s);n.exists(c,u=>{if(!u)return o(null);s=`${t}${r}${e}${a}`,n.rename(c,i.join(this.dirname,s),o)})}.bind(this,r));o(s,()=>{n.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),r)})}_createLogDirIfNotExist(e){n.existsSync(e)||n.mkdirSync(e,{recursive:!0})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(i.default,e,t)};var n=o(r(237)),i=o(r(244));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){r=r||n.default;var a=(0,i.default)(t)?[]:{};e(t,(function(e,t,r){(0,s.default)(e)((function(e,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[t]=n,r(e)}))}),(function(e){r(e,a)}))};var n=a(r(92)),i=a(r(56)),o=a(r(94)),s=a(r(57));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){var n=r(93),i=r(142),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==s||t==a||t==o||t==c}},function(e,t,r){var n=r(139),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)((function(t,r){var i;try{i=e.apply(this,t)}catch(e){return r(e)}(0,n.default)(i)&&"function"==typeof i.then?i.then((function(e){a(r,null,e)}),(function(e){a(r,e.message?e:new Error(e))})):r(null,i)}))};var n=s(r(142)),i=s(r(242)),o=s(r(243));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){try{e(t,r)}catch(e){(0,o.default)(c,e)}}function c(e){throw e}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,o.default)(arguments),r=t.pop();e.call(this,t,r)}};var n,i=r(94),o=(n=i)&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=u,t.wrap=l;var n,i=r(94),o=(n=i)&&n.__esModule?n:{default:n};var s,a=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,c=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function u(e){setTimeout(e,0)}function l(e){return function(t){var r=(0,o.default)(arguments,1);e((function(){t.apply(null,r)}))}}s=a?setImmediate:c?process.nextTick:u,t.default=l(s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(144)),i=o(r(149));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(n.default,1),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,c){if(c=(0,i.default)(c||n.default),e<=0||!t)return c(null);var u=(0,o.default)(t),l=!1,d=0,h=!1;function f(e,t){if(d-=1,e)l=!0,c(e);else{if(t===a.default||l&&d<=0)return l=!0,c(null);h||m()}}function m(){for(h=!0;d<e&&!l;){var t=u();if(null===t)return l=!0,void(d<=0&&c(null));d+=1,r(t.value,t.key,(0,s.default)(f))}h=!1}m()}};var n=c(r(92)),i=c(r(145)),o=c(r(246)),s=c(r(147)),a=c(r(148));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):(r=e,s=(0,o.default)(r),a=-1,c=s.length,function(){var e=s[++a];return a<c?{value:r[e],key:e}:null});var r,s,a,c};var n=s(r(56)),i=s(r(247)),o=s(r(248));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n&&e[n]&&e[n]()};var n="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default},function(e,t,r){var n=r(249),i=r(261),o=r(56);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t,r){var n=r(250),i=r(251),o=r(253),s=r(254),a=r(256),c=r(257),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),l=!r&&i(e),d=!r&&!l&&s(e),h=!r&&!l&&!d&&c(e),f=r||l||d||h,m=f?n(e.length,String):[],p=m.length;for(var g in e)!t&&!u.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,p))||m.push(g);return m}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(252),i=r(95),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,r){var n=r(93),i=r(95),o="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){(function(e){var n=r(140),i=r(255),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}).call(this,r(146)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(258),i=r(259),o=r(260),s=o&&o.isTypedArray,a=s?i(s):n;e.exports=a},function(e,t,r){var n=r(93),i=r(143),o=r(95),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(141),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,r(146)(e))},function(e,t,r){var n=r(262),i=r(263),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(264)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(37).Buffer,o=r(1).inspect,s=o&&o.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,r,n,o=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,n=a,i.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return o},t.consume=function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n},t._getBuffer=function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,s),0===(e-=s)){s===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(s));break}++n}return this.length-=n,t},t[s]=function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,r){"use strict";var n=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!n.has(e)){var t=e+" is an experimental feature. This feature could change at any time";n.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,r){var n=r(37),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(96),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function m(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(f(r,!1)))}}function p(e){process.nextTick(m,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(f(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(f(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[s]=null,r[a]=null,e(f(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(f(void 0,!0))),r[u]=!0})),e.on("readable",p.bind(null,r)),r}},function(e,t,r){"use strict";e.exports=i;var n=r(157);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(24)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(31).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var h=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(96)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&h.forEach(c),o||(h.forEach(c),d(l))}))}));return t.reduce(u)}},function(e,t,r){"use strict";var n=r(272),i=r(278);e.exports=function(e,t){var r=e.split(t||":"),o=i(r[0]);if(!r.length)return o;for(var s=0,a=r.length-1;s<a;s++)o=n(o).mix(n(i(r[s+1]))).saturate(1).hex();return o}},function(e,t,r){"use strict";var n=r(273),i=r(276),o=[].slice,s=["keyword","gray","hex"],a={};Object.keys(i).forEach((function(e){a[o.call(i[e].labels).sort().join("")]=e}));var c={};function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in s&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var r,l;if(e)if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=n.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,l=i[this.model].channels,this.color=d.value.slice(0,l),this.valpha="number"==typeof d.value[l]?d.value[l]:1}else if(e.length){this.model=t||"rgb",l=i[this.model].channels;var h=o.call(e,0,l);this.color=f(h,l),this.valpha="number"==typeof e[l]?e[l]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var m=Object.keys(e);"alpha"in e&&(m.splice(m.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var p=m.sort().join("");if(!(p in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[p];var g=i[this.model].labels,v=[];for(r=0;r<g.length;r++)v.push(e[g[r]]);this.color=f(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(c[this.model])for(l=i[this.model].channels,r=0;r<l;r++){var y=c[this.model][r];y&&(this.color[r]=y(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(c[e]||(c[e]=[]))[t]=r})),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),(i=this[e]()).color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e){return Array.isArray(e)?e:[e]}function f(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,r=i[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:l("rgb",0,d(255)),green:l("rgb",1,d(255)),blue:l("rgb",2,d(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:l("hsl",1,d(100)),lightness:l("hsl",2,d(100)),saturationv:l("hsv",1,d(100)),value:l("hsv",2,d(100)),chroma:l("hcg",1,d(100)),gray:l("hcg",2,d(100)),white:l("hwb",1,d(100)),wblack:l("hwb",2,d(100)),cyan:l("cmyk",0,d(100)),magenta:l("cmyk",1,d(100)),yellow:l("cmyk",2,d(100)),black:l("cmyk",3,d(100)),x:l("xyz",0,d(100)),y:l("xyz",1,d(100)),z:l("xyz",2,d(100)),l:l("lab",0,d(100)),a:l("lab",1),b:l("lab",2),keyword:function(e){return arguments.length?new u(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return u.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){var r=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,c=1-a;return u.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===s.indexOf(e)){var t=i[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var r="number"==typeof arguments[t]?t:this.valpha;return new u(h(i[this.model][e].raw(this.color)).concat(r),e)},u[e]=function(r){return"number"==typeof r&&(r=f(o.call(arguments),t)),new u(r,e)}}})),e.exports=u},function(e,t,r){var n=r(158),i=r(274),o={};for(var s in n)n.hasOwnProperty(s)&&(o[n[s]]=s);var a=e.exports={to:{},get:{}};function c(e,t,r){return Math.min(Math.max(t,e),r)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),r="hsl";break;case"hwb":t=a.get.hwb(e),r="hwb";break;default:t=a.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,r,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],r=0;r<3;r++){var s=2*r;o[r]=parseInt(t.slice(s,s+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],r=0;r<3;r++)o[r]=parseInt(t[r]+t[r],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)o[r]=parseInt(t[r+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=n[t[1]])?(o[3]=1,o):null:null;for(r=0;r<3;r++)o[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(r=0;r<3;r++)o[r]=c(o[r],0,255);return o[3]=c(o[3],0,1),o},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},a.to.hex=function(){var e=i(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},a.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return o[e.slice(0,3)]}},function(e,t,r){"use strict";var n=r(275),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(e){for(var t=[],r=0,s=e.length;r<s;r++){var a=e[r];n(a)?t=i.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,r){var n=r(159),i=r(277),o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach((function(r){var n=t[r];o[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),o[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=o},function(e,t,r){var n=r(159);function i(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(n[i]),s=o.length,a=0;a<s;a++){var c=o[a],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(c))}return t}function o(e,t){return function(r){return t(e(r))}}function s(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),i=o(n[t[s].parent][s],i),s=t[s].parent;return i.conversion=r,i}e.exports=function(e){for(var t=i(e),r={},n=Object.keys(t),o=n.length,a=0;a<o;a++){var c=n[a];null!==t[c].parent&&(r[c]=s(c,t))}return r}},function(e,t,r){"use strict";e.exports=function(e){for(var t=0,r=0;t<e.length;r=e.charCodeAt(t++)+((r<<5)-r));var n=Math.floor(Math.abs(1e4*Math.sin(r)%1*16777216)).toString(16);return"#"+Array(6-n.length+1).join("0")+n}},function(e,t,r){"use strict";var n=r(280);e.exports=function(e,t){var r,i=n(),o=0;for(t=t||["diagnostics","debug"];o<t.length&&!(r=i[t[o]]);o++);if(!r)return!1;for(t=r.split(/[\s,]+/),o=0;o<t.length;o++)if("-"!==(r=t[o].replace("*",".*?")).charAt(0)){if(new RegExp("^"+r+"$").test(e))return!0}else if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;return!1}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e){if(e=e||{},"object"==typeof process&&"object"==typeof process.env&&i.merge(e,process.env),"undefined"!=typeof window){if("string"===window.name&&window.name.length&&i.merge(e,i.parse(window.name)),window.localStorage)try{i.merge(e,i.parse(window.localStorage.env||window.localStorage.debug))}catch(e){}"object"==typeof window.location&&"string"==typeof window.location.hash&&window.location.hash.length&&i.merge(e,i.parse("#"===window.location.hash.charAt(0)?window.location.hash.slice(1):window.location.hash))}var t,r;for(t in e)(r=t.toLowerCase())in e||(e[r]=e[t]);return e}i.merge=function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e},i.parse=function(e){var t,r=/([^=?&]+)=([^&]*)/g,n={};if(!e)return n;for(;t=r.exec(e);n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return n.env||n},e.exports=i},function(e,t,r){"use strict";var n=r(282);function i(e,t){return t?new i(e).style(t):this instanceof i?void(this.text=e):new i(e)}i.prototype.prefix="[",i.prototype.suffix="m",i.prototype.hex=function(e){3===(e="#"===e[0]?e.substring(1):e).length&&((e=e.split(""))[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var t=e.substring(0,2),r=e.substring(2,4),n=e.substring(4,6);return[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},i.prototype.rgb=function(e,t,r){var n=e/255*5,i=t/255*5,o=r/255*5;return this.ansi(n,i,o)},i.prototype.ansi=function(e,t,r){return 16+36*Math.round(e)+6*Math.round(t)+Math.round(r)},i.prototype.reset=function(){return this.prefix+"39;49"+this.suffix},i.prototype.style=function(e){return/^#?(?:[0-9a-fA-F]{3}){1,2}$/.test(e)||(e=n(e)),this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()},e.exports=i},function(e,t,r){var n=r(283),i=n.filter((function(e){return!!e.css})),o=n.filter((function(e){return!!e.vga}));e.exports=function(t){var r=e.exports.get(t);return r&&r.value},e.exports.get=function(e){return e=(e=e||"").trim().toLowerCase(),n.filter((function(t){return t.name.toLowerCase()===e})).pop()},e.exports.all=e.exports.get.all=function(){return n},e.exports.get.css=function(e){return e?(e=(e=e||"").trim().toLowerCase(),i.filter((function(t){return t.name.toLowerCase()===e})).pop()):i},e.exports.get.vga=function(e){return e?(e=(e=e||"").trim().toLowerCase(),o.filter((function(t){return t.name.toLowerCase()===e})).pop()):o}},function(e,t){e.exports=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(16),{StringDecoder:i}=r(160),{Stream:o}=r(39);function s(){}e.exports=(e,t)=>{const r=Buffer.alloc(65536),a=new i("utf8"),c=new o;let u="",l=0,d=0;return-1===e.start&&delete e.start,c.readable=!0,c.destroy=()=>{c.destroyed=!0,c.emit("end"),c.emit("close")},n.open(e.file,"a+","0644",(i,o)=>{if(i)return t?t(i):c.emit("error",i),void c.destroy();!function i(){if(!c.destroyed)return n.read(o,r,0,r.length,l,(n,o)=>{if(n)return t?t(n):c.emit("error",n),void c.destroy();if(!o)return u&&((null==e.start||d>e.start)&&(t?t(null,u):c.emit("line",u)),d++,u=""),setTimeout(i,1e3);let s=a.write(r.slice(0,o));t||c.emit("data",s);const h=(s=(u+s).split(/\n+/)).length-1;let f=0;for(;f<h;f++)(null==e.start||d>e.start)&&(t?t(null,s[f]):c.emit("line",s[f])),d++;return u=s[h],l+=o,i()});n.close(o,s)}()}),t?c.destroy:c}},function(e,t,r){"use strict";const n=r(161),i=r(162),{Stream:o}=r(39),s=r(28);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,(t,r)=>{r&&200!==r.statusCode&&(t=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),t?this.emit("warn",t):this.emit("logged",e)}),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(e,r,n)=>{if(r&&200!==r.statusCode&&(e=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)})}stream(e={}){const t=new o;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let r="";const n=this._request(e);return t.destroy=()=>n.destroy(),n.on("data",e=>{const n=(e=(r+e).split(/\n+/)).length-1;let i=0;for(;i<n;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}r=e[n]}),n.on("error",e=>t.emit("error",e)),t}_request(e,t){const r=(e=e||{}).auth||this.auth,o=e.path||this.path||"";delete e.auth,delete e.path;const s=(this.ssl?i:n).request({method:"POST",host:this.host,port:this.port,path:`/${o.replace(/^\//,"")}`,headers:this.headers,auth:r?`${r.username}:${r.password}`:"",agent:this.agent});s.on("error",t),s.on("response",e=>e.on("end",()=>t(null,e)).resume()),s.end(Buffer.from(JSON.stringify(e),"utf8"))}}},function(e,t,r){"use strict";const n=r(163),{MESSAGE:i}=r(2),o=r(19),s=r(28);e.exports=class extends s{constructor(e={}){if(super(e),!e.stream||!n(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||o.EOL}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},function(e,t,r){"use strict";const{Stream:n,Transform:i}=r(39),o=r(98),{LEVEL:s,SPLAT:a}=r(2),c=r(163),u=r(165),l=r(168),d=r(291),h=r(292),{warn:f}=r(138),m=r(97),p=/%[scdjifoO%]/g;class g extends i{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){const t=this;return Object.create(t,{write:{value:function(r){const n=Object.assign({},e,r);r instanceof Error&&(n.stack=r.stack,n.message=r.message),t.write(n)}}})}configure({silent:e,format:t,defaultMeta:n,levels:i,level:o="info",exitOnError:s=!0,transports:a,colors:c,emitErrs:d,formatters:h,padLevels:f,rewriters:p,stripColors:g,exceptionHandlers:v,rejectionHandlers:y}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||r(78)(),this.defaultMeta=n||null,this.levels=i||this.levels||m.npm.levels,this.level=o,this.exceptions=new u(this),this.rejections=new l(this),this.profilers={},this.exitOnError=s,a&&(a=Array.isArray(a)?a:[a]).forEach(e=>this.add(e)),c||d||h||f||p||g)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));v&&this.exceptions.handle(v),y&&this.rejections.handle(y)}isLevelEnabled(e){const t=v(this.levels,e);if(null===t)return!1;const r=v(this.levels,this.level);return null!==r&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex(e=>{let n=v(this.levels,e.level);return null===n&&(n=r),n>=t}):r>=t)}log(e,t,...r){if(1===arguments.length)return e[s]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[s]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(this.write({[s]:e,level:e,message:t}),this);const[n]=r;if("object"==typeof n&&null!==n){if(!(t&&t.match&&t.match(p))){const i=Object.assign({},this.defaultMeta,n,{[s]:e,[a]:r,level:e,message:t});return n.message&&(i.message+=`${n.message}`),n.stack&&(i.stack=n.stack),this.write(i),this}}return this.write(Object.assign({},this.defaultMeta,{[s]:e,[a]:r,level:e,message:t})),this}_transform(e,t,r){if(this.silent)return r();e[s]||(e[s]=e.level),this.levels[e[s]]||0===this.levels[e[s]]||console.error("[winston] Unknown logger level: %s",e[s]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{r()}}_final(e){const t=this.transports.slice();o(t,(e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()},e)}add(e){const t=!c(e)||e.log.length>2?new d({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){let t=e;return(!c(e)||e.log.length>2)&&(t=this.transports.filter(t=>t.transport===e)[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){f.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};const r={},n=Object.assign({},e.query||{});o(this.transports.filter(e=>!!e.query),(function(t,i){!function(t,r){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(n)),t.query(e,(n,i)=>{if(n)return r(n);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),r(null,i)})}(t,(e,n)=>{i&&((n=e||n)&&(r[t.name]=n),i()),i=null})}),()=>t(null,r))}stream(e={}){const t=new n,r=[];return t._streams=r,t.destroy=()=>{let e=r.length;for(;e--;)r[e].destroy()},this.transports.filter(e=>!!e.stream).forEach(n=>{const i=n.stream(e);i&&(r.push(i),i.on("log",e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)}),i.on("error",e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)}))}),t}startTimer(){return new h(this)}profile(e,...t){const r=Date.now();if(this.profilers[e]){const n=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=r-n,i.message=i.message||e,this.write(i)}return this.profilers[e]=r,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(e,t){t["__winston"+e]||(t["__winston"+e]=function(r){this.emit(e,r,t)}.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}function v(e,t){const r=e[t];return r||0===r?r:null}Object.defineProperty(g.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){((0,n.default)(e)?h:f)(e,(0,l.default)(t),r)};var n=d(r(56)),i=d(r(148)),o=d(r(144)),s=d(r(149)),a=d(r(92)),c=d(r(145)),u=d(r(147)),l=d(r(57));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){r=(0,c.default)(r||a.default);var n=0,o=0,s=e.length;function l(e,t){e?r(e):++o!==s&&t!==i.default||r(null)}for(0===s&&r(null);n<s;n++)t(e[n],n,(0,u.default)(l))}var f=(0,s.default)(o.default,1/0);e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default},function(e,t,r){"use strict";const n=r(1),{LEVEL:i}=r(2),o=r(28),s=e.exports=function(e={}){if(o.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};n.inherits(s,o),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);(!this.level||this.levels[this.level]>=this.levels[e[i]])&&this.transport.log(e[i],e.message,e,this._nop),r(null)},s.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[i],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},s.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},s.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,t,r){"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},function(e,t,r){"use strict";const n=r(164);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const r=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=r?r.slice():[];const i=n(t);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((e,t)=>this._removeLogger(t))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(295);t.ConsoleForElectron=class extends i{constructor(e){super(e),this.prefix=e.prefix,this.stderrLevels=this._getStderrLevels(e.stderrLevels)}log(e,t){let r=e[n.MESSAGE];this.prefix&&(r=this.prefix+": "+r),this.stderrLevels.has(e[n.LEVEL])?console.error(r):console.log(r),t&&t()}_getStderrLevels(e){if(void 0===e)return new Set(["error"]);if(!Array.isArray(e))throw new Error("Cannot set stderrLevels to type other than Array");return this._stringArrayToSet(e)}_stringArrayToSet(e){if(!e)return new Set;if(!Array.isArray(e))throw new Error("Cannot make set from type other than Array of string elements");return e.reduce((e,t)=>{if("string"!=typeof t)throw new Error("Cannot make set from type other than Array of string elements");return e[t]=!0,e},new Set)}}},function(e,t,r){"use strict";const n=r(1),{Writable:i}=r(13),{LEVEL:o}=r(2),s=e.exports=function(e={}){i.call(this,{objectMode:!0}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.level=this.level||e.level,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};n.inherits(s,i),s.prototype._write=function(e,t,r){return this.silent||!0===e.exception&&!this.handleExceptions?r(null):(!this.level||this.levels[this.level]>=this.levels[e[o]])&&(e=this.format?this.format.transform(Object.assign({},e),this.format.options):e)?this.log(e,r):r(null)},s.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let t=0;t<e.length;t++)if(this._accept(e[t])){const r=this.format?this.format.transform(Object.assign({},e[t].chunk),this.format.options):e[t].chunk;r&&this.log(r,e[t].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;return!this.silent&&!(!0!==t.exception&&this.level&&!(this.levels[this.level]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(1),s=r(0),a=r(100),c=r(4),u=r(40),l=r(41);t.JumpTracker=class{constructor(){this._jumps=[],this._currentJumpNumber=0,this.isJumpingThroughHistory=!1}get jumps(){return this._jumps}get currentJumpNumber(){return this._currentJumpNumber}get currentJump(){return this._jumps[this._currentJumpNumber]||null}get hasJumps(){return this._jumps.length>0}get end(){return this._jumps[this._jumps.length-1]}get start(){return this._jumps[0]}recordJump(e,t){e&&t&&e.isSamePosition(t)||this.pushJump(e,t)}handleFileJump(e,t){this.isJumpingThroughHistory?this.isJumpingThroughHistory=!1:t.editor&&t.editor.document&&t.editor.document.isClosed||this.pushJump(e,t)}performFileJump(e,t){return n(this,void 0,void 0,(function*(){if(this.isJumpingThroughHistory=!0,e.editor)yield s.window.showTextDocument(e.editor.document);else if(yield o.promisify(i.exists)(e.fileName))yield new a.FileCommand({name:e.fileName,lineNumber:e.position.line,createFileIfNotExists:!1}).execute();else{const t=s.window.visibleTextEditors.filter(t=>t.document.fileName===e.fileName)[0];t&&(yield s.window.showTextDocument(t.document,e.position.character,!1))}return t}))}jumpForward(e,t){return n(this,void 0,void 0,(function*(){return this.jumpThroughHistory(this.recordJumpForward.bind(this),e,t)}))}jumpBack(e,t){return n(this,void 0,void 0,(function*(){return this.jumpThroughHistory(this.recordJumpBack.bind(this),e,t)}))}jumpThroughHistory(e,t,r){return n(this,void 0,void 0,(function*(){if(!r)return r;let n=new u.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:t});const i=r.recordedState.count||1;for(let t=0;t<i;t++)n=e(u.Jump.fromStateNow(r));return n?(n.fileName!==r.editor.document.fileName?(yield this.performFileJump(n,r),r.cursors=yield l.getCursorsAfterSync()):r.cursorStopPosition=n.position,r):r}))}recordJumpBack(e){if(!this.hasJumps)return e;if(this._currentJumpNumber<=0)return this._jumps[0];const t=this._jumps[this._currentJumpNumber-1];return this._currentJumpNumber===this._jumps.length?(this.recordJump(e,t),this._currentJumpNumber=this._currentJumpNumber-2):this._currentJumpNumber=this._currentJumpNumber-1,t}recordJumpForward(e){if(!this.hasJumps)return e;if(this._currentJumpNumber>=this._jumps.length)return e;return this._currentJumpNumber=Math.min(this._currentJumpNumber+1,this._jumps.length-1),this._jumps[this._currentJumpNumber]}handleTextAdded(e,t,r){const n=r.split("").filter(e=>"\n"===e).length;this._jumps.forEach((r,i)=>{if(r.fileName===e.fileName&&r.position.line>t.start.line){const e=new c.Position(r.position.line+n,r.position.character);this.changePositionForJumpNumber(i,r,e)}})}handleTextDeleted(e,t){const r=t.end.line-t.start.line;for(let n=this._jumps.length-1;n>=0;n--){const i=this._jumps[n];if(i.fileName===e.fileName&&i.position.line>t.start.line){const e=i.position.line-Math.min(i.position.line-t.start.line,r),o=new c.Position(e,i.position.character);this.changePositionForJumpNumber(n,i,o)}}this.removeDuplicateJumps()}clearJumps(){this._jumps.splice(0,this._jumps.length),this._currentJumpNumber=0}pushJump(e,t){e&&this.clearJumpsOnSamePosition(e),e&&!e.isSamePosition(t)&&this._jumps.push(e),this._currentJumpNumber=this._jumps.length,this.clearOldJumps()}removeJump(e){this._jumps.splice(e,1)}changePositionForJumpNumber(e,t,r){this._jumps.splice(e,1,new u.Jump({editor:t.editor,fileName:t.fileName,position:r}))}clearOldJumps(){this._jumps.length>100&&this._jumps.splice(0,this._jumps.length-100)}clearJumpsOnSamePosition(e){this._jumps=this._jumps.filter(t=>t===e||!t.isSamePosition(e))}removeDuplicateJumps(){const e={};for(let t=this._jumps.length-1;t>=0;t--){const r=this._jumps[t];e[r.fileName]||(e[r.fileName]=[]),e[r.fileName].includes(r.position.line)?this._jumps.splice(t,1):e[r.fileName].push(r.position.line)}}}},function(e,t,r){var n=r(23),i=r(298),o=function(e,t){var r;if("darwin"===(t=t||process.platform))r=n.join(process.env.HOME,"Library","Application Support","{0}");else if("win32"===t){var i;i=e?"APPDATA":"LOCALAPPDATA",r=n.join(process.env[i]||process.env.APPDATA,"{1}","{0}")}else r=process.env.XDG_DATA_HOME?n.join(process.env.XDG_DATA_HOME,"{0}"):n.join(process.env.HOME,".local","share","{0}");return r},s=function(e){return"win32"===(e=e||process.platform)?n.join(process.env.LOCALAPPDATA||process.env.APPDATA,"{1}","{0}","Cache"):"darwin"===e?n.join(process.env.HOME,"Library","Caches","{0}"):process.env.XDG_CACHE_HOME?n.join(process.env.XDG_CACHE_HOME,"{0}"):n.join(process.env.HOME,".cache","{0}")};function a(e){i.instanceOf(e,String)&&(e={appName:e}),this.appName=e.appName,this.appAuthor=e.appAuthor||e.appName,this.appVersion=e.appVersion||null,this._useRoaming=e.useRoaming||!1,this._platform=e.platform||null,this._setTemplates()}a.prototype={_setTemplates:function(){var e,t;this._userDataTemplate=o(this._useRoaming,this._platform),this._userConfigTemplate=(e=this._useRoaming,"darwin"===(t=(t=this._platform)||process.platform)||"win32"===t?o(e,t):process.env.XDG_CONFIG_HOME?n.join(process.env.XDG_CONFIG_HOME,"{0}"):n.join(process.env.HOME,".config","{0}")),this._userCacheTemplate=s(this._platform),this._userLogsTemplate=function(e){return"win32"===(e=e||process.platform)?n.join(o(!1,e),"Logs"):"darwin"===e?n.join(process.env.HOME,"Library","Logs","{0}"):n.join(s(e),"log")}(this._platform)},get useRoaming(){return this._useRoaming},set useRoaming(e){this._useRoaming=e,this._setTemplates()},get platform(){return this._platform},set platform(e){this._platform=e,this._setTemplates()},userData:function(){var e=this._userDataTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},siteData:function(){var e=this._siteDataTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},userConfig:function(){var e=this._userConfigTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},siteConfig:function(){var e=this._siteConfigTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},userCache:function(){var e=this._userCacheTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},userLogs:function(){var e=this._userLogsTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)}},e.exports=a},function(e,t){e.exports.instanceOf=function(e,t){for("object"!=typeof e&&(e=new e.constructor(e));null!=e;){if(e==t.prototype)return!0;e=Object.getPrototypeOf(e)}return!1},e.exports.formatStr=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,(function(e,r){return void 0!==t[r]?t[r]:e}))}},function(e,t,r){var n=r(23),i=r(16),o=parseInt("0777",8);function s(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,u=t.fs||i;void 0===c&&(c=o&~process.umask()),a||(a=null);var l=r||function(){};e=n.resolve(e),u.mkdir(e,c,(function(r){if(!r)return l(null,a=a||e);switch(r.code){case"ENOENT":s(n.dirname(e),t,(function(r,n){r?l(r,n):s(e,t,l,n)}));break;default:u.stat(e,(function(e,t){e||!t.isDirectory()?l(r,a):l(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var a=r.mode,c=r.fs||i;void 0===a&&(a=o&~process.umask()),s||(s=null),t=n.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(i){switch(i.code){case"ENOENT":s=e(n.dirname(t),r,s),e(t,r,s);break;default:var u;try{u=c.statSync(t)}catch(e){throw i}if(!u.isDirectory())throw i}}return s}},function(e,t){var r=1/0,n="[object Symbol]",i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source),s="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,c=s||a||Function("return this")(),u=Object.prototype.toString,l=c.Symbol,d=l?l.prototype:void 0,h=d?d.toString:void 0;function f(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&u.call(e)==n}(e))return h?h.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}e.exports=function(e){var t;return(e=null==(t=e)?"":f(t))&&o.test(e)?e.replace(i,"\\$&"):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t,r,n){this.value=e,this.radix=t,this.prefix=r,this.suffix=n}static parse(e){for(const{regex:t,base:r,prefix:i}of n.matchings){if(null==t.exec(e))continue;let o=/^[^\d-+]+(?=[0-9]+)/g,s=/[^\d]*[\d]*(.*)/g,a=i,c="",u=e;if(null!==/[^\d-+]+/g.exec(e)&&n.matchings[n.matchings.length-1].regex===t){let t=o.exec(e),r=s.exec(e);null!==t&&(a=t.toString()),null!==r&&(c=r[1].toString()),u=u.slice(a.length,u.length-c.length)}return new n(parseInt(u,r),r,a,c)}return null}toString(){return 16===this.radix&&this.value<0&&(this.value=4294967295+this.value+1),this.prefix+this.value.toString(this.radix)+this.suffix}}t.NumericString=n,n.matchings=[{regex:/^([-+])?0([0-7]+)$/g,base:8,prefix:"0"},{regex:/^([-+])?(\d+)$/g,base:10,prefix:""},{regex:/^([-+])?0x([\da-fA-F]+)$/g,base:16,prefix:"0x"},{regex:/\d/,base:10,prefix:""}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(303),i=r(7),o=r(33),s=r(8),a=r(15),c=r(176);function u(e,t){const r=s.Logger.get("Parser");for(;;){let n=e.next();switch(n.type){case o.TokenType.Eof:return null;case o.TokenType.Dot:case o.TokenType.Dollar:case o.TokenType.Percent:case o.TokenType.Comma:case o.TokenType.LineNumber:case o.TokenType.SelectionFirstLine:case o.TokenType.SelectionLastLine:case o.TokenType.Mark:case o.TokenType.Offset:case o.TokenType.Plus:case o.TokenType.Minus:t.range.addToken(n);continue;case o.TokenType.CommandName:return e.backup(),l;default:return r.warn("Parser: skipping token Token("+n.type+",{"+n.content+"})"),null}}}function l(e,t){for(;!e.isAtEof;){const r=e.next();switch(r.type){case o.TokenType.CommandName:const n=c.commandParsers[r.content];if(!n)throw a.VimError.fromCode(a.ErrorCode.E492);const i=e.next(),s=i.type===o.TokenType.CommandArgs?i.content:null;return t.command=n(s),null;default:throw new Error("Not implemented")}}return e.isAtEof?null:(e.backup(),l)}t.parse=function(e){const t=new i.CommandLine;let r=u,n=new d(e);for(;r;)r=r(n,t);return t};class d{constructor(e){this.tokens=[],this.pos=0,this.lex(e)}lex(e){this.tokens=n.lex(e)}next(){if(this.pos>=this.tokens.length)return this.pos=this.tokens.length,new o.Token(o.TokenType.Eof,"__EOF__");let e=this.tokens[this.pos];return this.pos++,e}backup(){this.pos--}get isAtEof(){return this.pos>=this.tokens.length}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10),i=r(33);function o(e,t){const r=t.emit();return r.length>0?new i.Token(e,r):null}var s;t.lex=function(e){const t=new n.Scanner(e);let r=[],i=s.lexRange;for(;i;)i=i(t,r);return r},function(e){function t(e,t){for(;!e.isAtEof;){switch(e.next()){case",":case";":t.push(o(i.TokenType.Comma,e));continue;case"%":t.push(o(i.TokenType.Percent,e));continue;case"$":t.push(o(i.TokenType.Dollar,e));continue;case".":t.push(o(i.TokenType.Dot,e));continue;case"/":return a;case"?":return c;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(t.length<1)return n(i.TokenType.LineNumber);{const e=t[t.length-1].type;return e===i.TokenType.Plus||e===i.TokenType.Minus?n(i.TokenType.Offset):n(i.TokenType.LineNumber)}case"+":t.push(o(i.TokenType.Plus,e));continue;case"-":t.push(o(i.TokenType.Minus,e));continue;case"*":e.emit(),t.push(new i.Token(i.TokenType.SelectionFirstLine,"<")),t.push(new i.Token(i.TokenType.Comma,",")),t.push(new i.Token(i.TokenType.SelectionLastLine,">"));continue;case"'":return r;default:return s}}return null}function r(e,r){if(e.isAtEof)return null;const n=e.next();switch(n){case"<":r.push(o(i.TokenType.SelectionFirstLine,e));break;case">":r.push(o(i.TokenType.SelectionLastLine,e));break;default:/[a-zA-Z]/.test(n)?(e.emit(),r.push(new i.Token(i.TokenType.Mark,n))):e.backup()}return t}function n(e){return function(r,n){for(;;){if(r.isAtEof)return n.push(o(e,r)),null;switch(r.next()){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":continue;default:return r.backup(),n.push(o(e,r)),t}}}}function s(e,t){for(;;){if(e.isAtEof){t.push(o(i.TokenType.CommandName,e));break}const r=e.next().toLowerCase();if(!(r>="a"&&r<="z")){for(e.backup(),t.push(o(i.TokenType.CommandName,e));!e.isAtEof;)e.next();const r=o(i.TokenType.CommandArgs,e);r&&t.push(r);break}}return null}function a(e,r){e.skip("/");let n=!1,o="";for(;!e.isAtEof;){const t=e.next();if("/"===t&&!n)break;"\\"!==t?(n=!1,o+="\\"!==t?t:"\\\\"):n=!0}return r.push(new i.Token(i.TokenType.ForwardSearch,o)),e.ignore(),e.isAtEof||e.skip("/"),t}function c(e,r){e.skip("?");let n=!1,o="";for(;!e.isAtEof;){const t=e.next();if("?"===t&&!n)break;"\\"!==t?(n=!1,o+="\\"!==t?t:"\\\\"):n=!0}return r.push(new i.Token(i.TokenType.ReverseSearch,o)),e.ignore(),e.isAtEof||e.skip("?"),t}e.lexRange=t}(s||(s={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(305),o=r(10);t.parseCloseCommandArgs=function(e){if(!e)return new i.CloseCommand({});const t={},r=new o.Scanner(e),s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.E488);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.E488);return new i.CloseCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(15),s=r(7);t.CloseCommand=class extends s.CommandBase{constructor(e){super(),this._name="close",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,(function*(){if(this.activeTextEditor.document.isDirty&&!this.arguments.bang)throw o.VimError.fromCode(o.ErrorCode.E37);if(1===i.window.visibleTextEditors.length)throw o.VimError.fromCode(o.ErrorCode.E444);let e=this.activeTextEditor.viewColumn;yield i.commands.executeCommand("workbench.action.closeActiveEditor"),void 0!==i.window.activeTextEditor&&i.window.activeTextEditor.viewColumn===e&&(yield i.commands.executeCommand("workbench.action.previousEditor"))}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(307),i=r(10);t.parseDeleteRangeLinesCommandArgs=function(e){if(!e)return new n.DeleteRangeCommand({});let t=new i.Scanner(e).nextWord();return new n.DeleteRangeCommand({register:t})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(4),s=r(14),a=r(6),c=r(7),u=r(33);t.DeleteRangeCommand=class extends c.CommandBase{constructor(e){super(),this._name="delete",this._arguments=e}get arguments(){return this._arguments}neovimCapable(){return!0}deleteRange(e,t,r){return n(this,void 0,void 0,(function*(){e=e.getLineBegin(),t=t.getLineEnd();const n=(t=o.Position.FromVSCodePosition(t.with(t.line,t.character+1))).line===a.TextEditor.getLineCount()-1;t.character===a.TextEditor.getLineAt(t).text.length+1&&(t=t.getDown(0)),n&&0!==e.line&&(e=e.getPreviousLineBegin().getLineEnd());let s=r.editor.document.getText(new i.Range(e,t));s=s.endsWith("\r\n")?s.slice(0,-2):s.slice(0,-1),yield a.TextEditor.delete(new i.Range(e,t));let c=o.Position.EarlierOf(e,t);return c=(c=e.character>a.TextEditor.getLineAt(e).text.length?e.getLeft():e).getLineBegin(),r.editor.selection=new i.Selection(c,c),s}))}execute(e){return n(this,void 0,void 0,(function*(){if(!e.editor)return;let t=o.Position.FromVSCodePosition(e.editor.selection.active),r=yield this.deleteRange(t,t,e);s.Register.putByKey(r,this._arguments.register,s.RegisterMode.LineWise)}))}executeWithRange(e,t){return n(this,void 0,void 0,(function*(){let r,n;t.left[0].type===u.TokenType.Percent?(r=new i.Position(0,0),n=new i.Position(a.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),n=t.lineRefToPosition(e.editor,t.right,e));let c=yield this.deleteRange(o.Position.FromVSCodePosition(r),o.Position.FromVSCodePosition(n),e);s.Register.putByKey(c,this._arguments.register,s.RegisterMode.LineWise)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(309),i=r(10);t.parseDigraphCommandArgs=function(e){if(!e)return new n.DigraphsCommand({});let t=new i.Scanner(e).nextWord();return new n.DigraphsCommand({arg:t})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(3),s=r(177),a=r(7),c=r(6);t.DigraphsCommand=class extends a.CommandBase{constructor(e){super(),this._name="digraphs",this._arguments=e}get arguments(){return this._arguments}makeQuickPicks(e){const t=new Array;for(let r of Object.keys(e)){let[n,i]=e[r];t.push({label:r,description:`${n} (user)`,charCodes:i})}return t}execute(e){return n(this,void 0,void 0,(function*(){void 0!==this.arguments.arg&&this.arguments.arg.length;const e=this.makeQuickPicks(o.configuration.digraphs).concat(this.makeQuickPicks(s.DefaultDigraphs));i.window.showQuickPick(e).then(e=>n(this,void 0,void 0,(function*(){if(e){const t=String.fromCharCode(...e.charCodes);yield c.TextEditor.insert(t)}})))}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(100),i=r(10);t.parseEditFileCommandArgs=function(e){if(!e)return new n.FileCommand({name:"",createFileIfNotExists:!0});let t=new i.Scanner(e);const r="!"===t.next();if(t.isAtEof)return new n.FileCommand({name:"",bang:r,createFileIfNotExists:!0});let o=t.remaining();return new n.FileCommand({name:o.trim(),bang:r,createFileIfNotExists:!0})},t.parseEditNewFileCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0})},t.parseEditFileInNewVerticalWindowCommandArgs=function(e){let t="";if(e){t=new i.Scanner(e).nextWord()}return new n.FileCommand({name:t,position:n.FilePosition.NewWindowVerticalSplit})},t.parseEditFileInNewHorizontalWindowCommandArgs=function(e){let t="";if(e){t=new i.Scanner(e).nextWord()}return new n.FileCommand({name:t,position:n.FilePosition.NewWindowHorizontalSplit})},t.parseEditNewFileInNewVerticalWindowCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0,position:n.FilePosition.NewWindowVerticalSplit})},t.parseEditNewFileInNewHorizontalWindowCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0,position:n.FilePosition.NewWindowHorizontalSplit})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(312);t.parseNohlCommandArgs=function(e){return new n.NohlCommand({})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(27),s=r(25);t.NohlCommand=class extends i.CommandBase{constructor(e){super(),this._name="nohl",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,(function*(){s.globalState.hl=!1,o.StatusBar.Set("",e.currentMode,e.isRecordingMacro,!0)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(173);t.parseOnlyCommandArgs=function(e){return new n.OnlyCommand({})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(60),o=r(10);function s(e){if(!e)return new i.QuitCommand({});const t={},r=new o.Scanner(e),s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.E488);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.E488);return new i.QuitCommand(t)}t.parseQuitCommandArgs=s,t.parseQuitAllCommandArgs=function(e){let t=s(e);return t.arguments.quitAll=!0,t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(316),i=r(10);t.parseReadCommandArgs=function(e){if(!e)throw Error("Expected arguments.");const t={},r=new i.Scanner(e);if(r.skipWhiteSpace(),"!"===r.next()){if(r.ignore(),r.skipWhiteSpace(),t.cmd=r.remaining(),!t.cmd||0===t.cmd.length)throw Error("Expected shell command.")}else if(t.file=r.remaining(),!t.file||0===t.file.length)throw Error("Expected file path.");return new n.ReadCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(47),o=r(16),s=r(6),a=r(7);t.ReadCommand=class extends a.CommandBase{constructor(e){super(),this._name="read",this._arguments=e}get arguments(){return this._arguments}neovimCapable(){return!0}execute(){return n(this,void 0,void 0,(function*(){const e=yield this.getTextToInsert();e&&(yield s.TextEditor.insert(e))}))}getTextToInsert(){return n(this,void 0,void 0,(function*(){if(this.arguments.file&&this.arguments.file.length>0)return this.getTextToInsertFromFile();if(this.arguments.cmd&&this.arguments.cmd.length>0)return this.getTextToInsertFromCmd();throw Error("Invalid arguments")}))}getTextToInsertFromFile(){return n(this,void 0,void 0,(function*(){return new Promise((e,t)=>{try{o.readFile(this.arguments.file,"utf8",(r,n)=>{r?t(r):e(n)})}catch(e){t(e)}})}))}getTextToInsertFromCmd(){return n(this,void 0,void 0,(function*(){return new Promise((e,t)=>{try{i.exec(this.arguments.cmd,(r,n,i)=>{r?t(r):e(n)})}catch(e){t(e)}})}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(318),i=r(10);t.parseRegisterCommandArgs=function(e){if(!e||!e.trim())return new n.RegisterCommand({registers:[]});let t=new i.Scanner(e),r=[],o=t.nextWord();for(;o!==i.Scanner.EOF;)r.push(o),o=t.nextWord();return new n.RegisterCommand({registers:r})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(14),s=r(29),a=r(7);t.RegisterCommand=class extends a.CommandBase{constructor(e){super(),this._name="register",this._arguments=e}get arguments(){return this._arguments}getRegisterDisplayValue(e){return n(this,void 0,void 0,(function*(){let t=(yield o.Register.getByKey(e)).text;return t instanceof Array?t=t.join("\n").substr(0,100):t instanceof s.RecordedState&&(t=t.actionsRun.map(e=>e.keysPressed.join("")).join("")),t}))}displayRegisterValue(e){return n(this,void 0,void 0,(function*(){let t=yield this.getRegisterDisplayValue(e);t=t.replace(/\n/g,"\\n"),i.window.showInformationMessage(`${e} ${t}`)}))}execute(e){return n(this,void 0,void 0,(function*(){if(1===this.arguments.registers.length)yield this.displayRegisterValue(this.arguments.registers[0]);else{const e=o.Register.getKeys().filter(e=>"_"!==e&&(0===this.arguments.registers.length||this.arguments.registers.includes(e))),t=new Array;for(let r of e)t.push({label:r,description:yield this.getRegisterDisplayValue(r)});i.window.showQuickPick(t).then(e=>n(this,void 0,void 0,(function*(){if(e){let t=e.description;i.window.showInformationMessage(`${e.label} ${t}`)}})))}}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(320),i=r(10);function o(e){let t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return{};let r=t.nextWord("?!&=:^+-".split(""));if(r.startsWith("no"))return{name:r.substring(2,r.length),operator:n.SetOptionOperator.Reset};if(r.startsWith("inv"))return{name:r.substring(3,r.length),operator:n.SetOptionOperator.Invert};if(t.skipWhiteSpace(),t.isAtEof)return{name:r,operator:n.SetOptionOperator.Set};let o=t.next(),s={name:r,value:t.nextWord([])};switch(o){case"=":case":":s.operator=n.SetOptionOperator.Equal;break;case"!":s.operator=n.SetOptionOperator.Invert;break;case"^":s.operator=n.SetOptionOperator.Multiply;break;case"+":s.operator=n.SetOptionOperator.Append;break;case"-":s.operator=n.SetOptionOperator.Subtract;break;case"?":s.operator=n.SetOptionOperator.Info;break;case"&":s.operator=n.SetOptionOperator.Reset;break;default:throw new Error(`Unsupported operator (${o}).`)}return s}t.parseOption=o,t.parseOptionsCommandArgs=function(e){let t=o(e);return new n.SetOptionsCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(3),s=r(15),a=r(27);var c;!function(e){e[e.Equal=0]="Equal",e[e.Set=1]="Set",e[e.Reset=2]="Reset",e[e.Invert=3]="Invert",e[e.Append=4]="Append",e[e.Subtract=5]="Subtract",e[e.Multiply=6]="Multiply",e[e.Info=7]="Info"}(c=t.SetOptionOperator||(t.SetOptionOperator={}));t.SetOptionsCommand=class extends i.CommandBase{constructor(e){super(),this._name="setoptions",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,(function*(){if(!this._arguments.name)throw new Error("Missing argument.");if(null!=o.configuration[this._arguments.name])switch(this._arguments.operator){case c.Set:o.configuration[this._arguments.name]=!0;break;case c.Reset:o.configuration[this._arguments.name]=!1;break;case c.Equal:o.configuration[this._arguments.name]=this._arguments.value;break;case c.Invert:o.configuration[this._arguments.name]=!o.configuration[this._arguments.name];break;case c.Append:o.configuration[this._arguments.name]+=this._arguments.value;break;case c.Subtract:if("number"==typeof this._arguments.value)o.configuration[this._arguments.name]-=this._arguments.value;else{let e=o.configuration[this._arguments.name];o.configuration[this._arguments.name]=e.split(this._arguments.value).join("")}break;case c.Info:let t=o.configuration[this._arguments.name];void 0===t?a.StatusBar.Set(`${s.VimError.fromCode(s.ErrorCode.E518).toString()}. ${t}`,e.currentMode,e.isRecordingMacro,!0):a.StatusBar.Set(`${this._arguments.name}=${t}`,e.currentMode,e.isRecordingMacro,!0)}else a.StatusBar.Set(`${s.VimError.fromCode(s.ErrorCode.E518).toString()}. ${this._arguments.name}`,e.currentMode,e.isRecordingMacro,!0)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(322),i=r(10);t.parseSortCommandArgs=function(e){if(!e)return new n.SortCommand({reverse:!1,ignoreCase:!1});let t={reverse:!1,ignoreCase:!1},r=new i.Scanner(e);const o=r.next();return t.reverse="!"===o,t.ignoreCase="i"===r.nextWord(),new n.SortCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(5),s=r(6),a=r(7),c=r(33);t.SortCommand=class extends a.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}neovimCapable(){return!0}execute(e){return n(this,void 0,void 0,(function*(){let t=e.currentMode;if([o.ModeName.Visual,o.ModeName.VisualBlock,o.ModeName.VisualLine].includes(t)){const t=e.editor.selection;let r=t.start,n=t.end;r.isAfter(n)&&([r,n]=[n,r]),yield this.sortLines(r,n)}else yield this.sortLines(new i.Position(0,0),new i.Position(s.TextEditor.getLineCount()-1,0))}))}sortLines(e,t){return n(this,void 0,void 0,(function*(){let r=[];for(let n=e.line;n<=t.line&&n<s.TextEditor.getLineCount();n++)r.push(s.TextEditor.readLineAt(n));let n=r[r.length-1].length,o=this._arguments.ignoreCase?r.sort((e,t)=>e.localeCompare(t)):r.sort();this._arguments.reverse&&o.reverse();let a=o.join("\n");yield s.TextEditor.replace(new i.Range(e.line,0,t.line,n),a)}))}executeWithRange(e,t){return n(this,void 0,void 0,(function*(){let r,n;t.left[0].type===c.TokenType.Percent?(r=new i.Position(0,0),n=new i.Position(s.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),n=t.lineRefToPosition(e.editor,t.right,e)),yield this.sortLines(r,n)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(324),i=r(10),o=r(15);function s(e,t,r){if(t.isAtEof)return[e,!1];{let n=t.next();if(n===r)return[e,!0];if("\\"===n){if(!t.isAtEof)if((n=t.next())!==r)switch(n){case"r":e+="\r";break;case"n":e+="\n";break;default:e+="\\",e+=n}else e+=n;return s(e,t,r)}return s(e+=n,t,r)}}t.parseSubstituteCommandArgs=function(e){try{let t,r,o,a,c;if(!e)return new n.SubstituteCommand({pattern:void 0,replace:"",flags:n.SubstituteFlags.None});let u=e[0];if(/^[^\w\s\\|"]{1}$/g.exec(u)){if(1===e.length)return new n.SubstituteCommand({pattern:"",replace:"",flags:n.SubstituteFlags.None});let o;if(c=new i.Scanner(e.substr(1,e.length-1)),[t,o]=s("",c,u),!o)return new n.SubstituteCommand({pattern:t,replace:"",flags:n.SubstituteFlags.None});r=s("",c,u)[0]}else t=void 0,r="",c=new i.Scanner(e);return c.skipWhiteSpace(),o=function(e){let t=0,r=0;for(;!e.isAtEof;){switch(e.next()){case"&":if(0!==r)return n.SubstituteFlags.None;t|=n.SubstituteFlags.KeepPreviousFlags;break;case"c":t|=n.SubstituteFlags.ConfirmEach;break;case"e":t|=n.SubstituteFlags.SuppressError;break;case"g":t|=n.SubstituteFlags.ReplaceAll;break;case"i":t|=n.SubstituteFlags.IgnoreCase;break;case"I":t|=n.SubstituteFlags.NoIgnoreCase;break;case"n":t|=n.SubstituteFlags.PrintCount;break;case"p":t|=n.SubstituteFlags.PrintLastMatchedLine;break;case"#":t|=n.SubstituteFlags.PrintLastMatchedLineWithNumber;break;case"l":t|=n.SubstituteFlags.PrintLastMatchedLineWithList;break;case"r":t|=n.SubstituteFlags.UsePreviousPattern;break;default:return e.backup(),t}r++}return t}(c),c.skipWhiteSpace(),a=function(e){let t="";for(;!e.isAtEof;)t+=e.next();let r=Number.parseInt(t,10);return Number.isInteger(r)?r:-1}(c),new n.SubstituteCommand({pattern:t,replace:r,flags:o,count:a})}catch(e){throw o.VimError.fromCode(o.ErrorCode.E486)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(7),s=r(33),a=r(40),c=r(4),u=r(59),l=r(325),d=r(6),h=r(15),f=r(3),m=r(73),p=r(25);var g;!function(e){e[e.None=0]="None",e[e.KeepPreviousFlags=1]="KeepPreviousFlags",e[e.ConfirmEach=2]="ConfirmEach",e[e.SuppressError=4]="SuppressError",e[e.ReplaceAll=8]="ReplaceAll",e[e.IgnoreCase=16]="IgnoreCase",e[e.NoIgnoreCase=32]="NoIgnoreCase",e[e.PrintCount=64]="PrintCount",e[e.PrintLastMatchedLine=128]="PrintLastMatchedLine",e[e.PrintLastMatchedLineWithNumber=256]="PrintLastMatchedLineWithNumber",e[e.PrintLastMatchedLineWithList=512]="PrintLastMatchedLineWithList",e[e.UsePreviousPattern=1024]="UsePreviousPattern"}(g=t.SubstituteFlags||(t.SubstituteFlags={}));t.SubstituteCommand=class extends o.CommandBase{constructor(e){super(),this._name="search",this._arguments=e,this._abort=!1}get arguments(){return this._arguments}neovimCapable(){return 0==(this._arguments.flags&g.ConfirmEach)}getRegex(e,t){let r="";if(f.configuration.gdefault||f.configuration.substituteGlobalFlag?e.flags&g.ReplaceAll||(r+="g"):e.flags&g.ReplaceAll&&(r+="g"),e.flags&g.IgnoreCase&&(r+="i"),void 0===e.pattern){const t=p.globalState.substituteState;if(void 0===t||""===t.searchPattern)throw h.VimError.fromCode(h.ErrorCode.E35);e.pattern=t.searchPattern,e.replace=t.replaceString}else{if(""===e.pattern){const t=p.globalState.searchState;if(void 0===t||""===t.searchString)throw h.VimError.fromCode(h.ErrorCode.E35);e.pattern=t.searchString}p.globalState.substituteState=new l.SubstituteState(e.pattern,e.replace),p.globalState.searchState=new u.SearchState(u.SearchDirection.Forward,t.cursorStopPosition,e.pattern,{isRegex:!0},t.currentMode)}return new RegExp(e.pattern,r)}replaceTextAtLine(e,t,r){return n(this,void 0,void 0,(function*(){const n=d.TextEditor.readLineAt(e);if(t.test(n))if(this._arguments.flags&g.ConfirmEach){let o=n;const s=o.match(t),u=new RegExp(t.source,t.flags.replace("g",""));let l=0;for(const t of s){if(this._abort)break;if(l=o.indexOf(t,l),!(this._arguments.flags&g.ConfirmEach)||(yield this.confirmReplacement(this._arguments.replace,e,r,t,l))){const t=o.length;o=o.slice(0,l)+o.slice(l).replace(u,this._arguments.replace),yield d.TextEditor.replace(new i.Range(e,0,e,t),o),p.globalState.jumpTracker.recordJump(new a.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:new c.Position(e,0)}),a.Jump.fromStateNow(r))}l+=this._arguments.replace.length}}else yield d.TextEditor.replace(new i.Range(e,0,e,n.length),n.replace(t,this._arguments.replace)),p.globalState.jumpTracker.recordJump(new a.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:new c.Position(e,0)}),a.Jump.fromStateNow(r))}))}confirmReplacement(e,t,r,o,s){return n(this,void 0,void 0,(function*(){const n=new i.CancellationTokenSource,a=["y","n","a","q","l"];let c="";const u=[new i.Range(t,s,t,s+o.length)];r.editor.revealRange(new i.Range(t,0,t,0)),r.editor.setDecorations(m.decoration.SearchHighlight,u);const l=`Replace with ${e} (${a.join("/")})?`;return yield i.window.showInputBox({ignoreFocusOut:!0,prompt:l,placeHolder:a.join("/"),validateInput:e=>(a.includes(e)&&(c=e,n.cancel()),l)},n.token),"q"!==c&&"l"!==c&&c?"a"===c&&(this._arguments.flags=this._arguments.flags&~g.ConfirmEach):this._abort=!0,"y"===c||"a"===c||"l"===c}))}execute(e){return n(this,void 0,void 0,(function*(){const t=this.getRegex(this._arguments,e),r=e.editor.selection,n=r.start.isBefore(r.end)?r.start.line:r.end.line;this._abort||(yield this.replaceTextAtLine(n,t,e))}))}executeWithRange(e,t){return n(this,void 0,void 0,(function*(){let r,n;t.left[0].type===s.TokenType.Percent?(r=new i.Position(0,0),n=new i.Position(d.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),n=0===t.right.length?r:t.lineRefToPosition(e.editor,t.right,e)),this._arguments.count&&this._arguments.count>=0&&(r=n,n=new i.Position(n.line+this._arguments.count-1,0));let o=this.getRegex(this._arguments,e);for(let t=r.line;t<=n.line&&t<d.TextEditor.getLineCount()&&!this._abort;t++)yield this.replaceTextAtLine(t,o,e)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SubstituteState=class{constructor(e,t){this.searchPattern=e,this.replaceString=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(174),i=r(10);function o(e){if(!e)return;let t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return;let r=t.next(),n=Number.parseInt(r,10);if(Number.isInteger(n)&&n>=0)return n>999&&(n=999),n;throw new Error(`Invalid tab number (${r}).`)}t.parseTabNCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Next,count:o(e)})},t.parseTabPCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Previous,count:o(e)})},t.parseTabFirstCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.First})},t.parseTabLastCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Last})},t.parseTabNewCommandArgs=function(e){let t="";if(e){t=new i.Scanner(e).nextWord()}return new n.TabCommand({tab:n.Tab.New,file:t})},t.parseTabCloseCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Close,count:o(e)})},t.parseTabOnlyCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Only})},t.parseTabMovementCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Move,count:o(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(178),o=r(10);t.parseWallCommandArgs=function(e){if(!e)return new i.WallCommand({});const t={},r=new o.Scanner(e),s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.E488);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.E488);return new i.WallCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(179),i=r(10);t.parseWriteCommandArgs=function(e){if(!e)return new n.WriteCommand({bgWrite:!0});const t={bgWrite:!0},r=new i.Scanner(e);for(;r.skipWhiteSpace(),!r.isAtEof;){let e=r.next();switch(e){case"!":if(r.start>0){for(r.ignore();!r.isAtEof;)r.next();t.cmd=r.emit().trim()||void 0;continue}t.bang=!0,r.ignore();continue;case"+":for(r.expect("+"),r.ignore(),r.expectOneOf(["bin","nobin","ff","enc"]),t.opt=r.emit(),r.expect("="),r.ignore();!r.isAtEof;)" "!==(e=r.next())&&"\t"!==e||r.backup();let n=r.emit();if(!n)throw new Error("Expected value for option.");t.optValue=n;continue;default:throw new Error("Not implemented.")}}return new n.WriteCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(330),i=r(10);t.parseWriteQuitCommandArgs=function(e){if(!e)return new n.WriteQuitCommand({});const t={},r=new i.Scanner(e);for(;r.skipWhiteSpace(),!r.isAtEof;){let e=r.next();switch(e){case"!":t.bang=!0,r.ignore();continue;case"+":for(r.expect("+"),r.ignore(),r.expectOneOf(["bin","nobin","ff","enc"]),t.opt=r.emit(),r.expect("="),r.ignore();!r.isAtEof;)" "!==(e=r.next())&&"\t"!==e||r.backup();let n=r.emit();if(!n)throw new Error("Expected value for option.");t.optValue=n;continue;default:throw new Error("Not implemented")}}return new n.WriteQuitCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(60),s=r(179);t.WriteQuitCommand=class extends i.CommandBase{constructor(e){super(),this._name="writequit",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,(function*(){let t={opt:this.arguments.opt,optValue:this.arguments.optValue,bang:this.arguments.bang,file:this.arguments.file,range:this.arguments.range},r=new s.WriteCommand(t);yield r.execute(e);let n={bang:!1,range:this.arguments.range},i=new o.QuitCommand(n);yield i.execute()}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(332),o=r(10);t.parseWriteQuitAllCommandArgs=function(e){if(!e)return new i.WriteQuitAllCommand({});const t={},r=new o.Scanner(e),s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.E488);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.E488);return new i.WriteQuitAllCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(178),o=r(7),s=r(60);t.WriteQuitAllCommand=class extends o.CommandBase{constructor(e){super(),this._name="writequitall",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,(function*(){let e={bang:this.arguments.bang},t={bang:!1};const r=new i.WallCommand(e);yield r.execute(),t.quitAll=!0;const n=new s.QuitCommand(t);yield n.execute()}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(334);t.parseFileInfoCommandArgs=function(e){return new n.FileInfoCommand}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(42);t.FileInfoCommand=class extends i.CommandBase{execute(e){return n(this,void 0,void 0,(function*(){o.ReportFileInfo(e.cursors[0].start,e)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(336);t.parseMarksCommandArgs=function(e){return e?new n.MarksCommand(e.split("")):new n.MarksCommand}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(7),s=r(6),a=r(18);class c{constructor(e){this.picked=!1,this.alwaysShow=!1,this.mark=e,this.label=e.name,this.description=s.TextEditor.getLineAt(e.position).text.trim(),this.detail=`line ${e.position.line} col ${e.position.character}`}}t.MarksCommand=class extends o.CommandBase{constructor(e){super(),this.marksFilter=e}execute(e){return n(this,void 0,void 0,(function*(){const t=e.historyTracker.getMarks().filter(e=>!this.marksFilter||this.marksFilter.includes(e.name)).map(e=>new c(e));if(t.length>0){const r=yield i.window.showQuickPick(t,{canPickMany:!1});r&&(e.cursors=[new a.Range(r.mark.position,r.mark.position)])}else i.window.showInformationMessage("No marks set")}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(338);t.parseSmileCommandArgs=function(){return new n.SmileCommand}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(6),s=r(7);class a extends s.CommandBase{constructor(){super()}execute(){return n(this,void 0,void 0,(function*(){yield i.commands.executeCommand("workbench.action.files.newUntitledFile"),yield o.TextEditor.insert(a.smileText)}))}}t.SmileCommand=a,a.smileText='\n                               oooo$$$$$$$$$$$$oooo\n                          oo$$$$$$$$$$$$$$$$$$$$$$$$o\n                       oo$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o         o$   $$ o$\n     o $ oo          o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o       $$ $$ $$o$\n    oo $ $ "$      o$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$o       $$$o$$o$\n    "$$$$$$o$     o$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$o    $$$$$$$$\n      $$$$$$$    $$$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$$$$$$$$$$$$$$\n      $$$$$$$$$$$$$$$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$$$$$$  """$$$\n       "$$$""""$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$\n        $$$   o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$o\n       o$$"   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$       $$$o\n       $$$    $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$" "$$$$$$ooooo$$$$o\n      o$$$oooo$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$   o$$$$$$$$$$$$$$$$$\n      $$$$$$$$"$$$$   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     $$$$""""""""\n     """"       $$$$    "$$$$$$$$$$$$$$$$$$$$$$$$$$$$"      o$$$\n                "$$$o     """$$$$$$$$$$$$$$$$$$"$$"         $$$\n                  $$$o          "$$""$$$$$$""""           o$$$\n                   $$$$o                                o$$$"\n                    "$$$$o      o$$$$$$o"$$$$o        o$$$$\n                      "$$$$$oo     ""$$$$o$$$$$o   o$$$$""\n                         ""$$$$$oooo  "$$$o$$$$$$$$$"""\n                            ""$$$$$$$oo $$$$$$$$$$\n                                    """"$$$$$$$$$$$\n                                        $$$$$$$$$$$$\n                                         $$$$$$$$$$"\n                                          "$$$""""'},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.None=0]="None",e[e.Opening=1]="Opening",e[e.Closing=2]="Closing"}(n||(n={}));class i{constructor(e,t){this.quoteMap=[];let r=!1;for(let o=0;o<t.length;o++)t[o]!==i.escapeChar?t[o]===e&&(r=!r,this.quoteMap[o]=r?n.Opening:n.Closing):o+=1}findOpening(e){for(let t=e;t>=0;t--)if(this.quoteMap[t])return t;return this.findClosing(e)}findClosing(e){for(let t=e;t<=this.quoteMap.length;t++)if(this.quoteMap[t])return t;return-1}}t.QuoteMatcher=i,i.escapeChar="\\"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6);class i{constructor(e,t,r){let o=i.TAG_REGEX.exec(e);const s=[];for(;o;)o[i.CLOSE_FORWARD_SLASH]?o=i.TAG_REGEX.exec(e):(s.push({name:o[i.TAG_NAME],type:o[i.OPEN_FORWARD_SLASH]?"close":"open",startPos:o.index,endPos:i.TAG_REGEX.lastIndex}),o=i.TAG_REGEX.exec(e));const a=[],c=[];for(let e of s)if("open"===e.type)a.push(e);else for(let t=a.length-1;t>=0;t--){const r=a[t];if("open"===r.type&&r.name===e.name){c.push({tag:r.name,openingTagStart:r.startPos,openingTagEnd:r.endPos,closingTagStart:e.startPos,closingTagEnd:e.endPos}),a.splice(t);break}}const u=n.TextEditor.getOffsetAt(r.cursorStartPosition),l=t,d=c.filter(e=>u>e.openingTagStart&&l<e.closingTagEnd);if(!d.length)return;const h=d[0];this.openStart=h.openingTagStart,this.closeEnd=h.closingTagEnd,u===h.openingTagEnd&&l+1===h.closingTagStart?(this.openEnd=this.openStart,this.closeStart=this.closeEnd):(this.openEnd=h.openingTagEnd,this.closeStart=h.closingTagStart)}findOpening(e){return e?this.openStart:this.openEnd}findClosing(e){return e?this.closeEnd:this.closeStart}}t.TagMatcher=i,i.TAG_REGEX=/\<(\/)?([^\>\<\s\/]+)(?:[^\>\<]*?)(\/)?\>/g,i.OPEN_FORWARD_SLASH=1,i.TAG_NAME=2,i.CLOSE_FORWARD_SLASH=3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(5),o={};o[i.ModeName.Normal]={"<left>":"<","<right>":">"},o[i.ModeName.Visual]=o[i.ModeName.Normal],o[i.ModeName.Insert]={"<left>":"[","<right>":"]"};t.shouldWrapKey=(e,t)=>{const r=((e,t)=>(o[e]||{})[t]||t)(e.currentMode,t[0]);return!!n.configuration.wrapKeys[r]}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(6),s=r(18),a=(e,t,r)=>{const n=e=>{let n=r?t-e:e-t;return n<0&&(n=t+Math.abs(n)),n};return e.getText().split("\n").map((e,t)=>({sortPriority:n(t),text:e.replace(/^[ \t]*/,"")})).sort((e,t)=>e.sortPriority>t.sortPriority?1:-1)},c=(e,t,r)=>{const n=[];for(const o of(e=>i.workspace.textDocuments.sort((t,r)=>t.fileName===e?-1:r.fileName===e?1:0))(t)){let i=0,s=!1;o.fileName===t&&(i=r.line,s=!0);for(const t of a(o,i,s))!n.includes(t.text)&&t.text&&t.text.startsWith(e)&&t.text!==e&&n.push(t.text)}return n};t.getCompletionsForCurrentLine=(e,t)=>{const r=o.TextEditor.getText(new i.Range(e.getFirstLineNonBlankChar(),e));return c(r,t.fileName,e)},t.lineCompletionProvider={showLineCompletionsQuickPick:(e,r)=>n(void 0,void 0,void 0,(function*(){const n=t.getCompletionsForCurrentLine(e,r.editor.document);if(!n)return r;const o=yield i.window.showQuickPick(n);return o?(r.recordedState.transformations.push({type:"deleteRange",range:new s.Range(e.getFirstLineNonBlankChar(),e.getLineEnd())}),r.recordedState.transformations.push({type:"insertTextVSCode",text:o}),r):r}))}},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(62),s=r(11),a=r(5),c=r(4),u=r(34),l=r(6),d=r(3),h=r(20);class f extends u.BaseMovement{doesActionApply(e,t){return d.configuration.camelCaseMotion.enable&&super.doesActionApply(e,t)}couldActionApply(e,t){return d.configuration.camelCaseMotion.enable&&super.couldActionApply(e,t)}}class m extends o.TextObjectMovement{doesActionApply(e,t){return d.configuration.camelCaseMotion.enable&&super.doesActionApply(e,t)}couldActionApply(e,t){return d.configuration.camelCaseMotion.enable&&super.couldActionApply(e,t)}}let p=class extends f{constructor(){super(...arguments),this.keys=["<leader>","w"]}execAction(e,t){return i(this,void 0,void 0,(function*(){return!d.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof h.ChangeOperator?e.getCurrentCamelCaseWordEnd().getRight():e.getCamelCaseWordRight()}))}};p=n([s.RegisterAction],p);let g=class extends f{constructor(){super(...arguments),this.keys=["<leader>","e"]}execAction(e,t){return i(this,void 0,void 0,(function*(){return e.getCurrentCamelCaseWordEnd()}))}execActionForOperator(e,t){return i(this,void 0,void 0,(function*(){let t=e.getCurrentCamelCaseWordEnd();return new c.Position(t.line,t.character+1)}))}};g=n([s.RegisterAction],g);let v=class extends f{constructor(){super(...arguments),this.keys=["<leader>","b"]}execAction(e,t){return i(this,void 0,void 0,(function*(){return e.getCamelCaseWordLeft()}))}};v=n([s.RegisterAction],v);let y=class extends m{constructor(){super(...arguments),this.modes=[a.ModeName.Normal,a.ModeName.Visual],this.keys=["i","<leader>","w"]}execAction(e,t){return i(this,void 0,void 0,(function*(){let r,n;const i=l.TextEditor.getLineAt(e).text[e.character];return/\s/.test(i)?(r=e.getLastCamelCaseWordEnd().getRight(),n=e.getCamelCaseWordRight().getLeftThroughLineBreaks()):(r=e.getCamelCaseWordLeft(!0),n=e.getCurrentCamelCaseWordEnd(!0)),t.currentMode!==a.ModeName.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getLastCamelCaseWordEnd().getRight():e.getCamelCaseWordLeft(!0))),{start:r,stop:n}}))}};y=n([s.RegisterAction],y),t.SelectInnerCamelCaseWord=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(103);t.MarkerGenerator=class{constructor(e){this.matchesCount=e,this.keyTable=this.getKeyTable(),this.prefixKeyTable=this.createPrefixKeyTable()}generateMarker(e,t){const r=this.keyTable,n=this.prefixKeyTable;if(e>=r.length-n.length){const o=e-(r.length-n.length),s=Math.floor(o/r.length)+1;if(s>n.length)return null;{const e=n[s-1],a=r[o%r.length];return new i.EasyMotion.Marker(e+a,t)}}{const n=r[e];return new i.EasyMotion.Marker(n,t)}}createPrefixKeyTable(){const e=this.keyTable,t=Math.max(this.matchesCount-e.length,0),r=Math.ceil(t/e.length),n=this.keyTable.slice().reverse(),i=Math.min(r,n.length);return n.slice(0,i)}getKeyTable(){return n.configuration.easymotionKeys?n.configuration.easymotionKeys.split(""):"hklyuiopnm,qwertzxcvbasdgjf;".split("")}}},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(11),o=r(182);let s=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"/"},new o.SearchByNCharCommand)}};s=n([i.RegisterAction],s);let a=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2s"},new o.SearchByCharCommand({charCount:2}))}};a=n([i.RegisterAction],a);let c=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2f"},new o.SearchByCharCommand({charCount:2,searchOptions:"min"}))}};c=n([i.RegisterAction],c);let u=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2F"},new o.SearchByCharCommand({charCount:2,searchOptions:"max"}))}};u=n([i.RegisterAction],u);let l=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2t"},new o.SearchByCharCommand({charCount:2,searchOptions:"min",labelPosition:"before"}))}};l=n([i.RegisterAction],l);let d=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"bd2t",leaderCount:3},new o.SearchByCharCommand({charCount:2,labelPosition:"before"}))}};d=n([i.RegisterAction],d);let h=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2T"},new o.SearchByCharCommand({charCount:2,searchOptions:"max",labelPosition:"after"}))}};h=n([i.RegisterAction],h);let f=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"s"},new o.SearchByCharCommand({charCount:1}))}};f=n([i.RegisterAction],f);let m=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"f"},new o.SearchByCharCommand({charCount:1,searchOptions:"min"}))}};m=n([i.RegisterAction],m);let p=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"F"},new o.SearchByCharCommand({charCount:1,searchOptions:"max"}))}};p=n([i.RegisterAction],p);let g=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"t"},new o.SearchByCharCommand({charCount:1,searchOptions:"min",labelPosition:"before"}))}};g=n([i.RegisterAction],g);let v=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"bdt",leaderCount:3},new o.SearchByCharCommand({charCount:1,labelPosition:"before"}))}};v=n([i.RegisterAction],v);let y=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"T"},new o.SearchByCharCommand({charCount:1,searchOptions:"max",labelPosition:"after"}))}};y=n([i.RegisterAction],y);let w=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"w"},{searchOptions:"min"})}};w=n([i.RegisterAction],w);let x=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"bdw",leaderCount:3})}};x=n([i.RegisterAction],x);let b=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"l"},{jumpToAnywhere:!0,searchOptions:"min",labelPosition:"after"})}};b=n([i.RegisterAction],b);let C=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"h"},{jumpToAnywhere:!0,searchOptions:"max",labelPosition:"after"})}};C=n([i.RegisterAction],C);let M=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"j",leaderCount:3},{jumpToAnywhere:!0,labelPosition:"after"})}};M=n([i.RegisterAction],M);let S=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"e"},{searchOptions:"min",labelPosition:"after"})}};S=n([i.RegisterAction],S);let E=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"bde",leaderCount:3},{labelPosition:"after"})}};E=n([i.RegisterAction],E);let k=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"b"},{searchOptions:"max"})}};k=n([i.RegisterAction],k);let _=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"ge"},{searchOptions:"max",labelPosition:"after"})}};_=n([i.RegisterAction],_);let P=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({key:"j"},{searchOptions:"min"})}};P=n([i.RegisterAction],P);let A=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({key:"k"},{searchOptions:"max"})}};A=n([i.RegisterAction],A);let R=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({key:"bdjk",leaderCount:3})}};R=n([i.RegisterAction],R)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(4),a=r(3),c=r(5),u=r(14),l=r(6),d=r(20);let h=class extends d.BaseOperator{constructor(){super(...arguments),this.keys=["g","r"],this.modes=[c.ModeName.Normal,c.ModeName.Visual,c.ModeName.VisualLine]}doesActionApply(e,t){return a.configuration.replaceWithRegister&&super.doesActionApply(e,t)}couldActionApply(e,t){return a.configuration.replaceWithRegister&&super.doesActionApply(e,t)}run(e,t,r){return i(this,void 0,void 0,(function*(){const n=new o.Range(t,r.getRight()),i=(yield u.Register.get(e)).text;return yield l.TextEditor.replace(n,i),yield e.setCurrentMode(c.ModeName.Normal),f(e,n,i)}))}};h=n([r(11).RegisterAction],h),t.ReplaceOperator=h;const f=(e,t,r)=>{const{recordedState:{actionKeys:n}}=e,i=r.split("\n"),o=0===n.indexOf("r")&&1===n.length,s=1===i.length&&t.isSingleLine&&!o?m(t,r):p(t);return g(e,s)},m=(e,t)=>new s.Position(e.start.line,Math.max(0,e.start.character+t.length-1)),p=e=>new s.Position(e.start.line,0).getFirstLineNonBlankChar(),g=(e,t)=>(e.cursorStopPosition=t,e.cursorStartPosition=t,e)},function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(102),a=r(18),c=r(3),u=r(5),l=r(6),d=r(11),h=r(26),f=r(34),m=r(63),p=r(20),g=r(62);let v=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.ModeName.SurroundInputMode],this.keys=[["("],[")"],["{"],["}"],["["],["]"],["<"],[">"],["'"],['"'],["`"],["t"],["w"],["W"],["s"],["p"],["b"],["B"],["r"],["a"]],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return t.surround?(t.surround.target=this.keysPressed[this.keysPressed.length-1],"b"===t.surround.target&&(t.surround.target=")"),"B"===t.surround.target&&(t.surround.target="}"),"r"===t.surround.target&&(t.surround.target="]"),"a"===t.surround.target&&(t.surround.target=">"),(yield b.TryToExecuteSurround(t,e))&&(this.isCompleteAction=!0),t):t}))}doesActionApply(e,t){return super.doesActionApply(e,t)&&!(!e.surround||!e.surround.active||e.surround.target||e.surround.range)}couldActionApply(e,t){return super.doesActionApply(e,t)&&!(!e.surround||!e.surround.active||e.surround.target||e.surround.range)}};v=i([d.RegisterAction],v);let y=class extends f.BaseMovement{constructor(){super(...arguments),this.modes=[u.ModeName.Normal],this.keys=["s"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}execAction(e,t){return o(this,void 0,void 0,(function*(){return{start:e.getLineBeginRespectingIndent(),stop:e.getLineEnd().getLastWordEnd().getRight()}}))}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0!==e.surround}};y=i([d.RegisterAction],y);let w=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.ModeName.Normal],this.keys=["s"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){if(!c.configuration.surround)return t;const e=t.recordedState.operator;let r;return e instanceof p.ChangeOperator&&(r="change"),e instanceof p.DeleteOperator&&(r="delete"),e instanceof p.YankOperator&&(r="yank"),r?(t.recordedState.surroundKeys.push(t.keyHistory[t.keyHistory.length-2]),t.recordedState.surroundKeys.push("s"),t.recordedState.surroundKeyIndexStart=t.keyHistory.length,t.surround={active:!0,target:void 0,operator:r,replacement:void 0,range:void 0,isVisualLine:!1},"yank"!==r&&(yield t.setCurrentMode(u.ModeName.SurroundInputMode)),t):t}))}doesActionApply(e,t){const r=!!e.recordedState.operator;return super.doesActionApply(e,t)&&r}couldActionApply(e,t){const r=!!e.recordedState.operator;return super.doesActionApply(e,t)&&r}};w=i([d.RegisterAction],w);let x=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.ModeName.Visual,u.ModeName.VisualLine],this.keys=["S"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,(function*(){return c.configuration.surround?(t.recordedState.surroundKeys.push("S"),t.recordedState.surroundKeyIndexStart=t.keyHistory.length,t.cursorStartPosition.line>t.cursorStopPosition.line&&([t.cursorStopPosition,t.cursorStartPosition]=[t.cursorStartPosition,t.cursorStopPosition]),(t.cursorStopPosition.line<t.cursorStopPosition.line||t.cursorStopPosition.line===t.cursorStartPosition.line&&t.cursorStopPosition.character<t.cursorStartPosition.character)&&([t.cursorStopPosition,t.cursorStartPosition]=[t.cursorStartPosition,t.cursorStopPosition]),t.surround={active:!0,target:void 0,operator:"yank",replacement:void 0,range:new a.Range(t.cursorStartPosition,t.cursorStopPosition),isVisualLine:!1},t.currentMode===u.ModeName.VisualLine&&(t.surround.isVisualLine=!0),yield t.setCurrentMode(u.ModeName.SurroundInputMode),t.cursorStopPosition=t.cursorStartPosition,t):t}))}};x=i([d.RegisterAction],x);let b=n=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.ModeName.SurroundInputMode],this.keys=["<any>"]}exec(e,t){return o(this,void 0,void 0,(function*(){if(!t.surround)return t;if(void 0!==t.surround.replacement&&"<BS>"===this.keysPressed[this.keysPressed.length-1]&&"<"===t.surround.replacement[0])return t.surround.replacement.length>1&&(t.surround.replacement=t.surround.replacement.slice(0,t.surround.replacement.length-1)),t;t.surround.replacement||(t.surround.replacement="");let r=this.keysPressed[this.keysPressed.length-1];return"t"===this.keysPressed[0]&&0===t.surround.replacement.length&&(r="<"),0===t.surround.replacement.length&&("b"===r&&(r="("),"B"===r&&(r="{"),"r"===r&&(r="[")),t.surround.replacement+=r,(yield n.TryToExecuteSurround(t,e))&&(this.isCompleteAction=!0),t}))}static Finish(e){return o(this,void 0,void 0,(function*(){e.recordedState.hasRunOperator=!1,e.recordedState.actionsRun=[],e.recordedState.hasRunSurround=!0,e.surround=void 0,yield e.setCurrentMode(u.ModeName.Normal);for(let t=e.recordedState.surroundKeyIndexStart;t<e.keyHistory.length;t++)e.recordedState.surroundKeys.push(e.keyHistory[t]);return!0}))}static RemoveWhitespace(e,t,r){const n=t.getRight();let i=t.getRight(),o=r.getLeftThroughLineBreaks(),s=r.getLeftThroughLineBreaks().getRight();if(r.isLineBeginning()&&(o=r,s=r.getRight()),i.isEqual(o))return;for(;!i.isEqual(r)&&!i.isLineEnd()&&l.TextEditor.getCharAt(i).match(/[ \t]/);)i=i.getRight();for(;!o.isEqual(i)&&l.TextEditor.getCharAt(o).match(/[ \t]/)&&!o.isLineBeginning();)o=o.getLeftThroughLineBreaks(!1);o=o.getRight();const c=new a.Range(n,i),u=new a.Range(o,s);e.recordedState.transformations.push({type:"deleteRange",range:c}),e.recordedState.transformations.push({type:"deleteRange",range:u})}static GetStartAndEndReplacements(e){if(!e)return{startReplace:"",endReplace:""};let t=e,r=e;if("<"===t[0]){let e=/([-\w.]+)/.exec(t);r=e?`</${e[1]}>`:"</"+t.slice(1)}return 1===t.length&&t in s.PairMatcher.pairings&&(r=s.PairMatcher.pairings[t].match,s.PairMatcher.pairings[t].isNextMatchForward?(t+=" ",r=" "+r):[t,r]=[r,t]),{startReplace:t,endReplace:r}}static TryToExecuteSurround(e,t){return o(this,void 0,void 0,(function*(){const{target:r,operator:i}=e.surround;let o=e.surround.replacement,s=!1;if("change"===i||"yank"===i){if(!o)return!1;if("<"===o[0])if("\n"===o[o.length-1])o=o.slice(0,o.length-1),s=!0;else if(">"!==o[o.length-1])return!1}let c,u,d,h,{startReplace:f,endReplace:p}=this.GetStartAndEndReplacements(o);if("yank"===i){if(!e.surround)return!1;if(!e.surround.range)return!1;let t=e.surround.range.start,r=e.surround.range.stop;return" "!==l.TextEditor.getCharAt(r)&&(r=r.getRight()),e.surround.isVisualLine&&(f+="\n",p="\n"+p),e.recordedState.transformations.push({type:"insertText",text:f,position:t}),e.recordedState.transformations.push({type:"insertText",text:p,position:r}),n.Finish(e)}const v=[{char:"'",movement:()=>new m.MoveASingleQuotes},{char:'"',movement:()=>new m.MoveADoubleQuotes},{char:"`",movement:()=>new m.MoveABacktick}];for(const{char:i,movement:o}of v){if(i!==r)continue;const{start:s,stop:l,failed:d}=yield o().execAction(t,e);if(d)return n.Finish(e);c=new a.Range(s,s.getRight()),u=new a.Range(l,l.getRight())}const y=[{open:"{",close:"}",movement:()=>new m.MoveACurlyBrace},{open:"[",close:"]",movement:()=>new m.MoveASquareBracket},{open:"(",close:")",movement:()=>new m.MoveAParentheses},{open:"<",close:">",movement:()=>new m.MoveACaret}];for(const{open:i,close:o,movement:s}of y){if(r!==i&&r!==o)continue;let{start:l,stop:d,failed:h}=yield s().execAction(t,e);if(h)return n.Finish(e);d=d.getLeft(),c=new a.Range(l,l.getRight()),u=new a.Range(d,d.getRight()),r===i&&n.RemoveWhitespace(e,l,d)}if("t"===r){let r=yield(new m.MoveInsideTag).execAction(t,e),{start:i,stop:o,failed:l}=yield(new m.MoveAroundTag).execAction(t,e);if(l||r.failed)return n.Finish(e);if(o=o.getRight(),r.stop=r.stop.getRight(),l)return n.Finish(e);if(c=new a.Range(i,i.getRight()),u=new a.Range(r.stop,r.stop.getRight()),s){const e=i.getCurrentBigWordEnd().getRight();d=new a.Range(i.getRight(),e)}else d=new a.Range(i.getRight(),r.start);h=new a.Range(r.stop.getRight(),o)}if("change"===i){if(!o)return!1;const i=[{char:"w",movement:()=>new g.SelectInnerWord,addNewline:"no"},{char:"p",movement:()=>new g.SelectInnerParagraph,addNewline:"both"},{char:"s",movement:()=>new g.SelectInnerSentence,addNewline:"end-only"},{char:"W",movement:()=>new g.SelectInnerBigWord,addNewline:"no"}];for(const{char:o,movement:s,addNewline:a}of i){if(r!==o)continue;let{stop:i,start:c,failed:u}=yield s().execAction(t,e);return i=i.getRight(),u?n.Finish(e):("end-only"!==a&&"both"!==a||(p="\n"+p),"both"===a&&(f+="\n"),e.recordedState.transformations.push({type:"insertText",text:f,position:c}),e.recordedState.transformations.push({type:"insertText",text:p,position:i}),n.Finish(e))}}return!!(c||u||d||h)&&("change"===i?!!o&&(c&&e.recordedState.transformations.push({type:"replaceText",text:f,start:c.start,end:c.stop}),u&&e.recordedState.transformations.push({type:"replaceText",text:p,start:u.start,end:u.stop}),d&&e.recordedState.transformations.push({type:"deleteRange",range:d}),h&&e.recordedState.transformations.push({type:"deleteRange",range:h}),n.Finish(e)):"delete"===i&&(c&&e.recordedState.transformations.push({type:"deleteRange",range:c}),u&&e.recordedState.transformations.push({type:"deleteRange",range:u}),d&&e.recordedState.transformations.push({type:"deleteRange",range:d}),h&&e.recordedState.transformations.push({type:"deleteRange",range:h}),n.Finish(e)))}))}};b=n=i([d.RegisterAction],b),t.CommandSurroundAddToReplacement=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CompositionState=class{constructor(){this.isInComposition=!1,this.composingText=""}reset(){this.isInComposition=!1,this.composingText=""}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(350);t.ModeHandlerMap=new class{constructor(){this.modeHandlerMap={}}getOrCreate(e){return n(this,void 0,void 0,(function*(){let t=!1,r=this.modeHandlerMap[e];return r||(t=!0,r=yield i.ModeHandler.Create(),this.modeHandlerMap[e]=r),[r,t]}))}get(e){return this.modeHandlerMap[e]}getKeys(){return Object.keys(this.modeHandlerMap)}getAll(){return this.getKeys().map(e=>this.modeHandlerMap[e])}delete(e){e in this.modeHandlerMap&&this.modeHandlerMap[e].dispose(),delete this.modeHandlerMap[e]}clear(){for(const e of Object.keys(this.modeHandlerMap))this.delete(e)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(74),s=r(11),a=r(34),c=r(181),u=r(40),l=r(8),d=r(5),h=r(102),f=r(4),m=r(18),p=r(29),g=r(14),v=r(351),y=r(27),w=r(6),x=r(15),b=r(352),C=r(72),M=r(61),S=r(3),E=r(73),k=r(41),_=r(26),P=r(175),A=r(25),R=r(42);class N{constructor(e){this._disposables=[],this._logger=l.Logger.get("ModeHandler"),this._remappers=new v.Remappers,this._modes=[new o.NormalMode,new o.InsertMode,new o.VisualMode,new o.VisualBlockMode,new o.VisualLineMode,new o.SearchInProgressMode,new o.CommandlineInProgress,new o.ReplaceMode,new o.EasyMotionMode,new o.EasyMotionInputMode,new o.SurroundInputMode,new o.DisabledMode],this.vimState=new b.VimState(e),this._disposables.push(this.vimState)}get currentMode(){return this._modes.find(e=>e.isActive)}static Create(e=i.window.activeTextEditor){return n(this,void 0,void 0,(function*(){const t=new N(e);return yield t.setCurrentMode(S.configuration.startInInsertMode?d.ModeName.Insert:d.ModeName.Normal),t.syncCursors(),t}))}syncCursors(){setImmediate(()=>{this.vimState.editor&&(this.vimState.cursorStartPosition=f.Position.FromVSCodePosition(this.vimState.editor.selection.start),this.vimState.cursorStopPosition=f.Position.FromVSCodePosition(this.vimState.editor.selection.start),this.vimState.desiredColumn=this.vimState.cursorStopPosition.character)},0)}handleSelectionChange(e){return n(this,void 0,void 0,(function*(){let t=e.selections[0];if((e.selections.length!==this.vimState.cursors.length||this.vimState.isMultiCursor)&&this.vimState.currentMode!==d.ModeName.VisualBlock)return this.vimState.cursors=e.textEditor.selections.map(e=>new m.Range(e.anchor.compareTo(e.active)>0?f.Position.FromVSCodePosition(e.anchor).getLeft():f.Position.FromVSCodePosition(e.anchor),f.Position.FromVSCodePosition(e.active))),this.updateView(this.vimState);if(e.kind!==i.TextEditorSelectionChangeKind.Mouse){if(t){if(this.currentMode.isVisualMode)return;this.vimState.cursorStopPosition=f.Position.FromVSCodePosition(t.active),this.vimState.cursorStartPosition=f.Position.FromVSCodePosition(t.start)}return}if(this.vimState.isMultiCursor&&1===e.selections.length&&(this.vimState.isMultiCursor=!1),this.vimState.currentMode===d.ModeName.SearchInProgressMode||this.vimState.currentMode===d.ModeName.CommandlineInProgress)return;let r=!1;if(t){let e=new f.Position(t.active.line,t.active.character);if(e.character>=e.getLineEnd().character&&t.isEmpty?this.vimState.currentMode!==d.ModeName.Insert&&(this.vimState.lastClickWasPastEol=!0,e=e.withColumn(Math.max(e.getLineEnd().character-1,0)),yield this.setCurrentMode(d.ModeName.Normal),r=!0):t.isEmpty&&(this.vimState.lastClickWasPastEol=!1),this.vimState.cursorStopPosition=e,this.vimState.cursorStartPosition=e,this.vimState.desiredColumn=e.character,t.anchor.line===t.active.line&&t.anchor.character>=e.getLineEnd().character-1&&t.active.character>=e.getLineEnd().character-1);else if(t.anchor.isEqual(t.active))this.vimState.currentMode!==d.ModeName.Insert&&(yield this.setCurrentMode(d.ModeName.Normal));else{let r=new f.Position(t.anchor.line,t.anchor.character);if(r.character>r.getLineEnd().character&&(r=new f.Position(r.line,r.getLineEnd().character)),this.vimState.cursorStartPosition=r,r.compareTo(e)>0&&(this.vimState.cursorStartPosition=this.vimState.cursorStartPosition.getLeft()),this.vimState.lastClickWasPastEol){const e=new f.Position(t.anchor.line,t.anchor.character+1);this.vimState.editor.selection=new i.Selection(e,t.end),this.vimState.cursorStartPosition=r,this.vimState.lastClickWasPastEol=!1}S.configuration.mouseSelectionGoesIntoVisualMode&&!this.currentMode.isVisualMode&&this.currentMode.name!==d.ModeName.Insert&&(yield this.setCurrentMode(d.ModeName.Visual))}return this.updateView(this.vimState,{drawSelection:r,revealRange:!0})}}))}handleKeyEvent(e){return n(this,void 0,void 0,(function*(){const t=Number(new Date);this._logger.debug(`handling key=${e}.`),S.configuration.overrideCopy&&("<D-c>"===e&&(e="<copy>"),"<C-c>"===e&&"darwin"!==process.platform&&(S.configuration.useCtrlKeys&&this.vimState.currentMode!==d.ModeName.Visual&&this.vimState.currentMode!==d.ModeName.VisualBlock&&this.vimState.currentMode!==d.ModeName.VisualLine||(e="<copy>"))),"<C-d>"===e&&!0!==S.configuration.handleKeys["<C-d>"]&&(e="<D-d>"),this.vimState.cursorsInitialState=this.vimState.cursors,this.vimState.recordedState.commandList.push(e);try{t-this.vimState.lastKeyPressedTimestamp<S.configuration.timeout||(this.vimState.recordedState.commandList=[this.vimState.recordedState.commandList[this.vimState.recordedState.commandList.length-1]]);let r=!1;const n=this.vimState.recordedState.operator;this.vimState.isCurrentlyPerformingRemapping||n&&this.vimState.currentMode===d.ModeName.Normal||(r=yield this._remappers.sendKey(this.vimState.recordedState.commandList,this,this.vimState)),r?this.vimState.recordedState.resetCommandList():this.vimState=yield this.handleKeyEventHelper(e,this.vimState)}catch(t){if(!(t instanceof x.VimError))throw new Error(`Failed to handle key=${e}. ${t.message}`);y.StatusBar.Set(t.toString(),this.vimState.currentMode,this.vimState.isRecordingMacro,!0)}return this.vimState.lastKeyPressedTimestamp=t,this._renderStatusBar(),!0}))}handleKeyEventHelper(e,t){return n(this,void 0,void 0,(function*(){if(i.window.activeTextEditor!==this.vimState.editor)return this._logger.warn("Current window is not active"),this.vimState;t.historyTracker.addChange(this.vimState.cursorsInitialState.map(e=>e.stop)),t.keyHistory.push(e);let r=t.recordedState;r.actionKeys.push(e);let n=s.Actions.getRelevantAction(r.actionKeys,t);switch(n){case s.KeypressState.NoPossibleMatch:return this._remappers.isPotentialRemap||(t.recordedState=new p.RecordedState),t;case s.KeypressState.WaitingOnKeys:return t}let o=n,a=o;if(0===r.actionsRun.length)r.actionsRun.push(o);else{let n=r.actionsRun[r.actionsRun.length-1];if(n instanceof _.DocumentContentChangeAction)n.keysPressed.push(e),o instanceof c.CommandInsertInInsertMode||o instanceof c.CommandInsertPreviousText?a=void 0:(n.contentChanges=n.contentChanges.concat(t.historyTracker.currentContentChanges.map(e=>({textDiff:e,positionDiff:new f.PositionDiff(0,0)}))),t.historyTracker.currentContentChanges=[],r.actionsRun.push(o));else if(o instanceof c.CommandInsertInInsertMode||o instanceof c.CommandInsertPreviousText){t.historyTracker.currentContentChanges=[];let n=new _.DocumentContentChangeAction;n.keysPressed.push(e),r.actionsRun.push(n),a=n}else r.actionsRun.push(o)}return!t.isRecordingMacro||!a||a instanceof _.CommandQuitRecordMacro||t.recordedMacro.actionsRun.push(a),(t=yield this.runAction(t,r,o)).currentMode===d.ModeName.Insert&&(r.isInsertion=!0),yield this.updateView(t),o.isJump&&A.globalState.jumpTracker.recordJump(u.Jump.fromStateBefore(t),u.Jump.fromStateNow(t)),t}))}runAction(e,t,r){return n(this,void 0,void 0,(function*(){let n=!1,o=!1;e.currentMode===d.ModeName.Visual&&(e.cursors=e.cursors.map(e=>e.start.isEarlierThan(e.stop)?e.withNewStop(e.stop.getLeftThroughLineBreaks(!0)):e)),r instanceof a.BaseMovement&&(({vimState:e,recordedState:t}=yield this.executeMovement(e,r)),o=!0),r instanceof _.BaseCommand&&(e=yield r.execCount(e.cursorStopPosition,e),yield this.executeCommand(e),r.isCompleteAction&&(o=!0),r.canBeRepeatedWithDot&&(n=!0)),r instanceof _.DocumentContentChangeAction&&(e=yield r.exec(e.cursorStopPosition,e));const s=this.currentMode.name;e.currentMode!==this.currentMode.name&&(yield this.setCurrentMode(e.currentMode),e.currentMode===d.ModeName.Normal&&s!==d.ModeName.SearchInProgressMode&&s!==d.ModeName.CommandlineInProgress&&s!==d.ModeName.EasyMotionInputMode&&s!==d.ModeName.EasyMotionMode&&(n=!0)),this.IsModeWhereCmdVIsOverriden(e.currentMode)&&!this.IsModeWhereCmdVIsOverriden(s)?yield C.VsCodeContext.Set("vim.overrideCmdV",!0):this.IsModeWhereCmdVIsOverriden(s)&&!this.IsModeWhereCmdVIsOverriden(e.currentMode)&&(yield C.VsCodeContext.Set("vim.overrideCmdV",!1)),t.operatorReadyToExecute(e.currentMode)&&e.recordedState.operator&&((e=yield this.executeOperator(e)).recordedState.hasRunOperator=!0,n=e.recordedState.operator.canBeRepeatedWithDot,o=!0),e.currentMode===d.ModeName.Visual&&(e.cursors=e.cursors.map(e=>e.start.isEarlierThan(e.stop)?e.withNewStop(e.stop.isLineEnd()?e.stop.getRightThroughLineBreaks():e.stop.getRight()):e)),e.currentMode!==this.currentMode.name&&(yield this.setCurrentMode(e.currentMode),e.currentMode===d.ModeName.Normal&&(n=!0)),o&&e.currentMode!==d.ModeName.Insert&&e.recordedState.resetCommandList(),n=n&&e.currentMode===d.ModeName.Normal||this.createUndoPointForBrackets(e),o=o&&e.currentMode===d.ModeName.Normal,n&&(A.globalState.previousFullAction=e.recordedState,t.isInsertion&&g.Register.putByKey(t,".",void 0,!0));const c=r instanceof a.BaseMovement?r:void 0;if((c&&!c.doesntChangeDesiredColumn||!c&&e.currentMode!==d.ModeName.VisualBlock)&&(c&&c.setsDesiredColumnToEOL&&!t.operator?e.desiredColumn=Number.POSITIVE_INFINITY:e.desiredColumn=e.cursorStopPosition.character),o&&(e.recordedState=new p.RecordedState,e.returnToInsertAfterCommand&&(e.actionCount>0?(e.returnToInsertAfterCommand=!1,e.actionCount=0,yield this.setCurrentMode(d.ModeName.Insert)):e.actionCount++)),this.vimState.focusChanged||(this.vimState.alteredHistory?(this.vimState.alteredHistory=!1,e.historyTracker.ignoreChange()):e.historyTracker.addChange(this.vimState.cursorsInitialState.map(e=>e.stop))),n&&!e.isReplayingMacro&&e.historyTracker.finishCurrentStep(),t.actionKeys=[],e.currentRegisterMode=g.RegisterMode.AscertainFromCurrentMode,this.currentMode.name===d.ModeName.Normal&&(e.cursorStartPosition=e.cursorStopPosition),!e.editor.document.isClosed&&e.editor===i.window.activeTextEditor){const t=new Array;for(let{range:r}of m.Range.IterateRanges(e.cursors)){const n=e.cursorStopPosition.getDocumentEnd(e.editor),i=w.TextEditor.getLineCount(e.editor);if(r.start.line>=i&&(r=r.withNewStart(n)),r.stop.line>=i&&(r=r.withNewStop(n)),e.currentMode===d.ModeName.Normal){const e=w.TextEditor.getLineAt(r.stop).text.length;if(e>0){const t=r.start.getLineEnd().getLeftThroughLineBreaks(!0);r.start.character>=e&&(r=r.withNewStart(t)),r.stop.character>=e&&(r=r.withNewStop(t))}}t.push(r)}e.cursors=t}return e.historyTracker.setLastHistoryEndPosition(e.cursors.map(e=>e.stop)),this.currentMode.isVisualMode&&!this.vimState.isRunningDotCommand&&(this.vimState.lastVisualMode=this.vimState.currentMode,this.vimState.lastVisualSelectionStart=this.vimState.cursorStartPosition,this.vimState.lastVisualSelectionEnd=this.vimState.cursorStopPosition),e}))}executeMovement(e,t){return n(this,void 0,void 0,(function*(){e.lastMovementFailed=!1;let r=e.recordedState;for(let n=0;n<e.cursors.length;n++){let i=e.cursors[n].stop;const o=e.cursorStopPosition;e.cursorStopPosition=i;const s=yield t.execActionWithCount(i,e,r.count);e.cursorStopPosition=o,s instanceof f.Position?(e.cursors[n]=e.cursors[n].withNewStop(s),this.currentMode.isVisualMode||e.recordedState.operator||(e.cursors[n]=e.cursors[n].withNewStart(s))):a.isIMovement(s)&&(s.failed&&(e.recordedState=new p.RecordedState,e.lastMovementFailed=!0),e.cursors[n]=m.Range.FromIMovement(s),s.registerMode&&(e.currentRegisterMode=s.registerMode))}if(e.recordedState.count=0,e.currentMode!==d.ModeName.Normal||r.operator){let t=e.cursorStopPosition;t.character>f.Position.getLineLength(t.line)&&(e.cursorStopPosition=t.getLineEnd())}return{vimState:e,recordedState:r}}))}executeOperator(e){return n(this,void 0,void 0,(function*(){let t=e.recordedState;if(!t.operator)throw this._logger.warn("recordedState.operator: "+t.operator),new Error("what in god's name. recordedState.operator is falsy.");let r=e;const n=this.currentMode,o=e.currentRegisterMode,s=[];let a=0,c=e.currentMode;for(let{start:i,stop:u}of e.cursors){i.compareTo(u)>0&&([i,u]=[u,i]),n.isVisualMode||o===g.RegisterMode.LineWise||(u=u.getLeftThroughLineBreaks(!0)),this.currentMode.name===d.ModeName.VisualLine&&(i=i.getLineBegin(),u=u.getLineEnd(),e.currentRegisterMode=g.RegisterMode.LineWise),t.operator.multicursorIndex=a++,yield r.setCurrentMode(c),r=t.operators.length>1&&t.operators.reverse()[0].constructor===t.operators.reverse()[1].constructor?yield t.operator.runRepeat(r,i,t.count):yield t.operator.run(r,i,u);for(const e of r.recordedState.transformations)P.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=t.operator.multicursorIndex);let l=new m.Range(r.cursorStartPosition,r.cursorStopPosition);s.push(l)}return e.recordedState.transformations.length>0?yield this.executeCommand(e):(r.cursors=s,this.vimState.editor.selections=e.cursors.map(e=>new i.Selection(e.start,e.stop))),r}))}executeCommand(e){return n(this,void 0,void 0,(function*(){const t=e.recordedState.transformations;if(0===t.length)return;const r=t.filter(e=>P.isTextTransformation(e)),n=t.filter(e=>!P.isTextTransformation(e));let o={};const s=(e,t)=>{switch(e.type){case"insertText":t.insert(e.position,e.text);break;case"replaceText":t.replace(new i.Selection(e.end,e.start),e.text);break;case"deleteText":let r=h.PairMatcher.immediateMatchingBracket(e.position);r&&t.delete(r),t.delete(new i.Range(e.position,e.position.getLeftThroughLineBreaks()));break;case"deleteRange":t.delete(new i.Selection(e.range.start,e.range.stop));break;case"moveCursor":break;default:this._logger.warn(`Unhandled text transformation type: ${e.type}.`)}if(void 0===e.cursorIndex)throw new Error("No cursor index - this should never ever happen!");e.diff&&(o[e.cursorIndex]||(o[e.cursorIndex]=[]),o[e.cursorIndex].push(e.diff))};if(r.length>0)if(P.areAnyTransformationsOverlapping(r)){this._logger.debug("Text transformations are overlapping. Falling back to serial\n           transformations. This is generally a very bad sign. Try to make\n           your text transformations operate on non-overlapping ranges.");for(const e of r)yield this.vimState.editor.edit(t=>s(e,t))}else yield this.vimState.editor.edit(e=>{for(const t of r)s(t,e)});for(const t of n)switch(t.type){case"insertTextVSCode":yield w.TextEditor.insert(t.text),e.cursorStartPosition=f.Position.FromVSCodePosition(this.vimState.editor.selection.start),e.cursorStopPosition=f.Position.FromVSCodePosition(this.vimState.editor.selection.end);break;case"showCommandHistory":let r=yield M.commandLine.ShowHistory(e.currentCommandlineText,this.vimState);r&&0!==r.length&&(yield M.commandLine.Run(r,this.vimState),this.updateView(this.vimState));break;case"showSearchHistory":const n=yield A.globalState.showSearchHistory();if(n){A.globalState.searchState=n;const r=n.getNextSearchMatchPosition(e.cursorStartPosition,t.direction);e.cursorStopPosition=r.pos,this.updateView(this.vimState),R.ReportSearch(r.index,n.matchRanges.length,e)}break;case"dot":if(!A.globalState.previousFullAction)return e;const s=A.globalState.previousFullAction.clone();yield this.rerunRecordedState(e,A.globalState.previousFullAction),A.globalState.previousFullAction=s;break;case"macro":let a=(yield g.Register.getByKey(t.register)).text;if(e.isReplayingMacro=!0,":"===t.register)yield M.commandLine.Run(a.commandString,e);else if("contentChange"===t.replay)e=yield this.runMacro(e,a);else{let e=[];for(let t of a.actionsRun)e=e.concat(t.keysPressed);this.vimState.recordedState=new p.RecordedState,yield this.handleMultipleKeyEvents(e)}if(e.isReplayingMacro=!1,e.historyTracker.lastInvokedMacro=a,e.lastMovementFailed)return void(e.lastMovementFailed=!1);break;case"contentChange":for(const r of t.changes)yield w.TextEditor.insert(r.text),e.cursorStopPosition=f.Position.FromVSCodePosition(this.vimState.editor.selection.start);const c=e.cursorStopPosition.add(t.diff);this.vimState.editor.selection=new i.Selection(c,c);break;case"tab":if(yield i.commands.executeCommand("tab"),t.diff){if(void 0===t.cursorIndex)throw new Error("No cursor index - this should never ever happen!");o[t.cursorIndex]||(o[t.cursorIndex]=[]),o[t.cursorIndex].push(t.diff)}break;case"reindent":if(yield i.commands.executeCommand("editor.action.reindentselectedlines"),t.diff){if(void 0===t.cursorIndex)throw new Error("No cursor index - this should never ever happen!");o[t.cursorIndex]||(o[t.cursorIndex]=[]),o[t.cursorIndex].push(t.diff)}break;default:this._logger.warn(`Unhandled text transformation type: ${t.type}.`)}const a=this.vimState.editor.selections.map(e=>{let t=m.Range.FromVSCodeSelection(e);return t=t.start.isEarlierThan(t.stop)?t.withNewStop(t.stop.getLeftThroughLineBreaks(!0)):t,new i.Selection(new i.Position(t.start.line,t.start.character),new i.Position(t.stop.line,t.stop.character))}),c=t[0],u=("deleteRange"===c.type||"replaceText"===c.type||"insertText"===c.type)&&c.manuallySetCursorPositions;if(e.currentMode===d.ModeName.VisualBlock||u)void 0!==o[0]&&o[0].length>0&&(e.cursorStopPosition=e.cursorStopPosition.add(o[0][0]),e.cursorStartPosition=e.cursorStartPosition.add(o[0][0]));else{e.cursors=[];const t=[];for(let r=0;r<a.length;r++){let n=m.Range.FromVSCodeSelection(a[r]),i=f.Position.FromVSCodePosition(n.start),s=f.Position.FromVSCodePosition(n.stop);if(o[r]&&o[r].length>0){for(const e of o[r])i=i.add(e),s=s.add(e);n=new m.Range(i,s)}else n=new m.Range(f.Position.FromVSCodePosition(n.start),f.Position.FromVSCodePosition(n.stop));e.recordedState.operatorPositionDiff&&(n=n.add(e.recordedState.operatorPositionDiff)),t.push(n)}e.recordedState.operatorPositionDiff=void 0,e.cursors=t}"deleteRange"===c.type&&c.collapseRange&&(e.cursorStopPosition=new f.Position(e.cursorStopPosition.line,e.cursorStartPosition.character)),e.recordedState.transformations=[]}))}rerunRecordedState(e,t){return n(this,void 0,void 0,(function*(){const r=t.actionsRun.slice(0),n=t.hasRunSurround,o=t.surroundKeys;if(e.isRunningDotCommand=!0,e.lastVisualSelectionStart&&e.lastVisualSelectionEnd&&(e.dotCommandPreviousVisualSelection=new i.Selection(e.lastVisualSelectionStart,e.lastVisualSelectionEnd)),t=new p.RecordedState,e.recordedState=t,n)yield this.handleMultipleKeyEvents(o);else{let n=0;for(let i of r){if(t.actionsRun=r.slice(0,++n),(e=yield this.runAction(e,t,i)).lastMovementFailed)return e;yield this.updateView(e)}t.actionsRun=r}return e.isRunningDotCommand=!1,e}))}runMacro(e,t){return n(this,void 0,void 0,(function*(){const r=t.actionsRun||[];let n=new p.RecordedState;e.recordedState=n,e.isRunningDotCommand=!0;for(let t of r){let r=u.Jump.fromStateNow(e);if(n.actionsRun.push(t),e.keyHistory=e.keyHistory.concat(t.keysPressed),0===(e=yield this.runAction(e,n,t)).recordedState.actionsRun.length&&(n=new p.RecordedState,e.recordedState=n),e.lastMovementFailed)break;yield this.updateView(e),t.isJump&&A.globalState.jumpTracker.recordJump(r,u.Jump.fromStateNow(e))}return e.isRunningDotCommand=!1,e.cursorsInitialState=e.cursors,e}))}updateView(e,t={drawSelection:!0,revealRange:!0}){return n(this,void 0,void 0,(function*(){if(t.drawSelection){let t,r=e.currentMode;if(e.currentMode===d.ModeName.SearchInProgressMode&&(r=A.globalState.searchState.previousMode),e.currentMode===d.ModeName.CommandlineInProgress&&(r=M.commandLine.previousMode),e.isMultiCursor)switch(t=[],r){case d.ModeName.Visual:for(let{start:r,stop:n}of e.cursors)r.compareTo(n)>0&&(r=r.getRight()),t.push(new i.Selection(r,n));break;case d.ModeName.Normal:case d.ModeName.Insert:for(const{stop:r}of e.cursors)t.push(new i.Selection(r,r));break;default:this._logger.error(`unexpected selection mode. selectionMode=${r}`)}else{let n=e.cursorStartPosition,o=e.cursorStopPosition;if(r===d.ModeName.Visual)n.compareTo(o)>0&&(n=n.getRightThroughLineBreaks()),t=[new i.Selection(n,o)];else if(r===d.ModeName.VisualLine)t=[new i.Selection(f.Position.EarlierOf(n,o).getLineBegin(),f.Position.LaterOf(n,o).getLineEnd())],n.line<=o.line?(e.cursorStartPosition=t[0].start,e.cursorStopPosition=t[0].end):(e.cursorStartPosition=t[0].end,e.cursorStopPosition=t[0].start),t[0].start.line<=t[0].end.line&&e.cursorStopPosition.line<=e.cursorStartPosition.line&&(t=[new i.Selection(t[0].end,t[0].start)]);else if(r===d.ModeName.VisualBlock){t=[];for(const{start:r,end:n}of f.Position.IterateLine(e))t.push(new i.Selection(r,n))}else t=[new i.Selection(o,o)]}0===e.recordedState.actionsRun.filter(e=>e instanceof _.DocumentContentChangeAction).length&&(this.vimState.editor.selections=t)}if(this.vimState.currentMode===d.ModeName.SearchInProgressMode){const t=A.globalState.searchState.getNextSearchMatchPosition(e.cursorStopPosition).pos;this.vimState.editor.revealRange(new i.Range(t,t))}else t.revealRange&&this.vimState.editor.revealRange(new i.Range(e.cursorStopPosition,e.cursorStopPosition));let r=S.configuration.getCursorStyleForMode(this.currentMode.friendlyName);if(!r){let e=this.currentMode.cursorType;r=d.Mode.translateCursor(e),e===d.VSCodeVimCursorType.Native&&void 0!==S.configuration.editorCursorStyle&&(r=S.configuration.editorCursorStyle)}this.vimState.editor.options.cursorStyle=r;let n=[];if(this.currentMode.cursorType===d.VSCodeVimCursorType.TextDecoration&&this.currentMode.name!==d.ModeName.Insert)if(this.currentMode.name===d.ModeName.Visual)for(const{start:t,stop:r}of e.cursors)t.isEarlierThan(r)?n.push(new i.Range(r.getLeft(),r)):n.push(new i.Range(r,r.getRight()));else for(const{stop:t}of e.cursors)n.push(new i.Range(t,t.getRight()));this.vimState.editor.setDecorations(E.decoration.Default,n);let o=[];if(S.configuration.incsearch&&this.currentMode.name===d.ModeName.SearchInProgressMode||S.configuration.hlsearch&&A.globalState.hl&&A.globalState.searchState){const t=A.globalState.searchState;o.push.apply(o,t.matchRanges);const{start:r,end:n,match:s}=t.getNextSearchMatchRange(e.cursorStopPosition);s&&o.push(new i.Range(r,n))}this.vimState.editor.setDecorations(E.decoration.SearchHighlight,o);const s=this.currentMode.name===d.ModeName.EasyMotionInputMode?e.easyMotion.searchAction.getMatches(e.cursorStopPosition,e).map(e=>e.toRange()):[];this.vimState.editor.setDecorations(E.decoration.EasyMotion,s);for(let t=0;t<this.vimState.postponedCodeViewChanges.length;t++){let r=this.vimState.postponedCodeViewChanges[t];yield i.commands.executeCommand(r.command,r.args),e.cursors=yield k.getCursorsAfterSync()}this.vimState.postponedCodeViewChanges=[],this.currentMode.name===d.ModeName.EasyMotionMode&&this.vimState.easyMotion.updateDecorations(),this._renderStatusBar(),yield C.VsCodeContext.Set("vim.mode",d.ModeName[this.vimState.currentMode]);const a=e.cursors[0],c=new i.Range(a.start,a.stop);/\s+/.test(e.editor.document.getText(c))||(yield i.commands.executeCommand("editor.action.wordHighlight.trigger"))}))}setCurrentMode(e){return n(this,void 0,void 0,(function*(){yield this.vimState.setCurrentMode(e);for(let t of this._modes)t.isActive=t.name===e}))}_renderStatusBar(){let e=[];if(S.configuration.showmodename&&(e.push(this.currentMode.getStatusBarText(this.vimState)),this.vimState.isMultiCursor&&e.push(" MULTI CURSOR ")),S.configuration.showcmd&&e.push(this.currentMode.getStatusBarCommandText(this.vimState)),this.vimState.isRecordingMacro){const t="Recording @"+this.vimState.recordedMacro.registerName;e.push(t)}y.StatusBar.Set(e.join(" "),this.currentMode.name,this.vimState.isRecordingMacro)}handleMultipleKeyEvents(e){return n(this,void 0,void 0,(function*(){for(const t of e)yield this.handleKeyEvent(t)}))}createUndoPointForBrackets(e){const t=e.recordedState.actionKeys[e.recordedState.actionKeys.length-1];if(void 0===t)return!1;if(e.currentMode===d.ModeName.Insert){let r=h.PairMatcher.nextPairedChar(e.cursorStopPosition,t);if(void 0!==r&&0===e.cursorStopPosition.compareTo(r))return!0;if(void 0!==(r=h.PairMatcher.nextPairedChar(e.cursorStopPosition.getLeft(),t))&&0===e.cursorStopPosition.getLeftByCount(2).compareTo(r))return!0}return!1}dispose(){this._disposables.map(e=>e.dispose())}IsModeWhereCmdVIsOverriden(e){return e===d.ModeName.SearchInProgressMode||e===d.ModeName.CommandlineInProgress}}t.ModeHandler=N},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(8),s=r(5),a=r(61),c=r(3);t.Remappers=class{constructor(){this.remappers=[new l(!0),new d(!0),new h(!0),new l(!1),new d(!1),new h(!1)]}get isPotentialRemap(){return this.remappers.some(e=>e.isPotentialRemap)}sendKey(e,t,r){return n(this,void 0,void 0,(function*(){let n=!1;for(let i of this.remappers)n=n||(yield i.sendKey(e,t,r));return n}))}};class u{constructor(e,t,r){this._logger=o.Logger.get("Remapper"),this._isPotentialRemap=!1,this._configKey=e,this._recursive=r,this._remappedModes=t}get isPotentialRemap(){return this._isPotentialRemap}sendKey(e,t,r){return n(this,void 0,void 0,(function*(){if(this._isPotentialRemap=!1,!this._remappedModes.includes(r.currentMode))return!1;const n=c.configuration[this._configKey];this._logger.debug(`trying to find matching remap. keys=${e}. mode=${s.ModeName[r.currentMode]}. keybindings=${this._configKey}.`);let i=this.findMatchingRemap(n,e,r.currentMode);if(i){this._logger.debug(`${this._configKey}. match found. before=${i.before}. after=${i.after}. command=${i.commands}.`),this._recursive||(r.isCurrentlyPerformingRemapping=!0);try{yield this.handleRemapping(i,r,t)}finally{r.isCurrentlyPerformingRemapping=!1}return!0}for(let t of n.keys())if(e.join("")===t.slice(0,e.length)){this._isPotentialRemap=!0;break}return!1}))}handleRemapping(e,t,r){return n(this,void 0,void 0,(function*(){const n=e.before.length-1;if(t.currentMode===s.ModeName.Insert&&(yield t.historyTracker.undoAndRemoveChanges(Math.max(0,n*t.cursors.length)),t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getLeft(n)))),t.recordedState.actionKeys=t.recordedState.actionKeys.slice(0,-n),t.keyHistory=t.keyHistory.slice(0,-n),e.after){const n=t.recordedState.count||1;t.recordedState.count=0;for(let t=0;t<n;t++)yield r.handleMultipleKeyEvents(e.after)}if(e.commands)for(const t of e.commands){let e,n;"string"==typeof t?(e=t,n=[]):(e=t.command,n=t.args),":"===e.slice(0,1)?(yield a.commandLine.Run(e.slice(1,e.length),r.vimState),yield r.updateView(r.vimState)):n?yield i.commands.executeCommand(e,n):yield i.commands.executeCommand(e)}}))}findMatchingRemap(e,t,r){let n;if(0===e.size)return n;const i=u.getRemappedKeysLengthRange(e);for(let o=Math.max(i[1],t.length);o>=i[0];o--){const i=t.slice(-o).join("");if(this._logger.verbose(`key=${t}. keySlice=${i}.`),e.has(i)){if(r!==s.ModeName.Insert){const e=t.slice(0,t.length-i.length).join("");if(e.length>0&&!/^[0-9]+$/.test(e)){this._logger.verbose(`key sequences need to match precisely. precedingKeys=${e}.`);break}}n=e.get(i);break}}return n}static getRemappedKeysLengthRange(e){if(0===e.size)return[0,0];const t=Array.from(e.keys()).map(e=>e.length);return[Math.min(...t),Math.max(...t)]}}t.Remapper=u;class l extends u{constructor(e){super("insertModeKeyBindings"+(e?"":"NonRecursive")+"Map",[s.ModeName.Insert,s.ModeName.Replace],e)}}class d extends u{constructor(e){super("normalModeKeyBindings"+(e?"":"NonRecursive")+"Map",[s.ModeName.Normal],e)}}class h extends u{constructor(e){super("visualModeKeyBindings"+(e?"":"NonRecursive")+"Map",[s.ModeName.Visual,s.ModeName.VisualLine,s.ModeName.VisualBlock],e)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(103),o=r(183),s=r(353),a=r(355),c=r(8),u=r(5),l=r(356),d=r(4),h=r(18),f=r(29),m=r(14);t.VimState=class{constructor(e){this.logger=c.Logger.get("VimState"),this.desiredColumn=0,this.lastKeyPressedTimestamp=0,this.isMultiCursor=!1,this.isFakeMultiCursor=!1,this.lastSemicolonRepeatableMovement=void 0,this.lastCommaRepeatableMovement=void 0,this.lastMovementFailed=!1,this.alteredHistory=!1,this.isRunningDotCommand=!1,this.dotCommandPreviousVisualSelection=void 0,this.focusChanged=!1,this.surround=void 0,this.returnToInsertAfterCommand=!1,this.actionCount=0,this.postponedCodeViewChanges=[],this.isCurrentlyPerformingRemapping=!1,this.keyHistory=[],this._cursors=[new h.Range(new d.Position(0,0),new d.Position(0,0))],this.isRecordingMacro=!1,this.isReplayingMacro=!1,this.replaceState=void 0,this.lastClickWasPastEol=!1,this._currentMode=u.ModeName.Normal,this.currentRegisterMode=m.RegisterMode.AscertainFromCurrentMode,this.registerName='"',this.currentCommandlineText="",this.statusBarCursorCharacterPos=0,this.recordedState=new f.RecordedState,this.recordedMacro=new f.RecordedState,this.editor=e,this.identity=new o.EditorIdentity(e),this.historyTracker=new s.HistoryTracker(this),this.easyMotion=new i.EasyMotion,this.nvim=new l.NeovimWrapper,this._inputMethodSwitcher=new a.InputMethodSwitcher}get cursorStartPosition(){return this.cursors[0].start}set cursorStartPosition(e){e.isValid(this.editor)||this.logger.warn(`invalid cursor start position. ${e.toString()}.`),this.cursors[0]=this.cursors[0].withNewStart(e)}get cursorStopPosition(){return this.cursors[0].stop}set cursorStopPosition(e){e.isValid(this.editor)||this.logger.warn(`invalid cursor stop position. ${e.toString()}.`),this.cursors[0]=this.cursors[0].withNewStop(e)}get cursors(){return this._cursors}set cursors(e){const t=new Map;for(const r of e)r.isValid(this.editor)||this.logger.warn(`invalid cursor position. ${r.toString()}.`),t.set(r.toString(),r);this._cursors=Array.from(t.values()),this.isMultiCursor=this._cursors.length>1}get cursorsInitialState(){return this._cursorsInitialState}set cursorsInitialState(e){this._cursorsInitialState=Object.assign([],e)}get currentMode(){return this._currentMode}setCurrentMode(e){return n(this,void 0,void 0,(function*(){yield this._inputMethodSwitcher.switchInputMethod(this._currentMode,e),this._currentMode=e}))}get effectiveRegisterMode(){if(this.currentRegisterMode!==m.RegisterMode.AscertainFromCurrentMode)return this.currentRegisterMode;switch(this.currentMode){case u.ModeName.VisualLine:return m.RegisterMode.LineWise;case u.ModeName.VisualBlock:return m.RegisterMode.BlockWise;default:return m.RegisterMode.CharacterWise}}dispose(){this.nvim.dispose()}};t.ViewChange=class{}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(354),o=r(0),s=r(4),a=r(8),c=r(6),u=new i.diff_match_patch;u.Diff_Timeout=1;class l{constructor(e,t,r){this.start=e,this.text=t,this.isAdd=r}do(e=!1){return n(this,void 0,void 0,(function*(){this.isAdd&&!e||!this.isAdd&&e?yield c.TextEditor.insert(this.text,this.start,!1):yield c.TextEditor.delete(new o.Range(this.start,this.end()))}))}undo(){return n(this,void 0,void 0,(function*(){return this.do(!0)}))}end(){return this.start.advancePositionByText(this.text)}}class d{constructor(e){this.marks=[],this.changes=e.changes=[],this.isFinished=e.isFinished||!1,this.cursorStart=e.cursorStart||void 0,this.cursorEnd=e.cursorEnd||void 0,this.marks=e.marks||[]}merge(){if(this.changes.length<2)return;const e=[];let t=this.changes[0];for(const r of this.changes.slice(1)){if(0===t.text.length){if(!(e.length>0)){t=r;continue}t=e.pop()}t.isAdd&&r.isAdd&&t.end().isEqual(r.start)?t.text+=r.text:t.isAdd||r.isAdd||!r.end().isEqual(t.start)?t.isAdd&&!r.isAdd&&t.end().isEqual(r.end())?t.text=t.text.slice(0,-r.text.length):(e.push(t),t=r):(r.text+=t.text,t=r)}e.push(t),this.changes=e}}t.HistoryTracker=class{constructor(e){this._logger=a.Logger.get("DocumentChange"),this.changelistIndex=0,this.historySteps=[],this.currentHistoryStepIndex=0,this.vimState=e,this._initialize()}get currentHistoryStep(){if(-1===this.currentHistoryStepIndex){const e="Tried to modify history at index -1";throw this._logger.warn(e),new Error("HistoryTracker:"+e)}return this.historySteps[this.currentHistoryStepIndex]}clear(){this.historySteps=[],this.currentHistoryStepIndex=0,this._initialize()}_initialize(){this.historySteps.push(new d({changes:[new l(new s.Position(0,0),this._getDocumentText(),!0)],isFinished:!0,cursorStart:[new s.Position(0,0)],cursorEnd:[new s.Position(0,0)]})),this.finishCurrentStep(),this.oldText=this._getDocumentText(),this.currentContentChanges=[],this.lastContentChanges=[]}_getDocumentText(){return this.vimState.editor&&this.vimState.editor.document&&this.vimState.editor.document.getText()||""}_addNewHistoryStep(){this.historySteps.push(new d({marks:this.currentHistoryStep.marks})),this.currentHistoryStepIndex++}updateAndReturnMarks(){const e=this.currentHistoryStep.marks;let t=[];for(const r of e)t.push({name:r.name,position:r.position,isUppercaseMark:r.isUppercaseMark});for(const e of this.currentHistoryStep.changes)for(const r of t){let t=e.start;if(e.isAdd)for(const n of e.text)t.compareTo(r.position)<=0&&("\n"===n?r.position=new s.Position(r.position.line+1,r.position.character):"\n"!==n&&t.line===r.position.line&&(r.position=new s.Position(r.position.line,r.position.character+1))),t="\n"===n?new s.Position(t.line+1,0):new s.Position(t.line,t.character+1);else for(const n of e.text)t.compareTo(r.position)<0&&("\n"===n?r.position=new s.Position(r.position.line-1,r.position.character):t.line===r.position.line&&(r.position=new s.Position(r.position.line,r.position.character-1))),t="\n"===n?new s.Position(Math.max(t.line-1,0),99999):new s.Position(t.line,Math.max(t.character-1,0))}for(const e of t)e.position.compareTo(e.position.getDocumentEnd())>0&&(e.position=e.position.getDocumentEnd());return t}addMark(e,t){const r={position:e,name:t,isUppercaseMark:t===t.toUpperCase()},n=this.currentHistoryStep.marks.findIndex(e=>e.name===t);-1!==n?this.currentHistoryStep.marks[n]=r:this.currentHistoryStep.marks.push(r)}getMark(e){return this.currentHistoryStep.marks.find(t=>t.name===e)}getMarks(){return this.currentHistoryStep.marks}addChange(e=[new s.Position(0,0)]){const t=this._getDocumentText();if(t===this.oldText)return;this.currentHistoryStepIndex===this.historySteps.length-1&&this.currentHistoryStep.isFinished?this._addNewHistoryStep():this.currentHistoryStepIndex!==this.historySteps.length-1&&(this.historySteps=this.historySteps.slice(0,this.currentHistoryStepIndex+1),this._addNewHistoryStep());const r=u.diff_main(this.oldText,t);let n=new s.Position(0,0);for(const t of r){const[r,o]=t,s=r===i.DIFF_INSERT,a=r===i.DIFF_DELETE;let c;(s||a)&&(c=new l(n,o,!!s),this.currentHistoryStep.changes.push(c),c&&void 0===this.currentHistoryStep.cursorStart&&(this.currentHistoryStep.cursorStart=e)),a||(n=n.advancePositionByText(o))}this.currentHistoryStep.cursorEnd=e,this.oldText=t,this.changelistIndex=this.historySteps.length-1}undoAndRemoveChanges(e){return n(this,void 0,void 0,(function*(){if(this.currentHistoryStep.changes.length<e)this._logger.warn("Something bad happened in removeChange");else{for(let t=0;t<e;t++)yield this.currentHistoryStep.changes.pop().undo();this.ignoreChange()}}))}ignoreChange(){this.oldText=this._getDocumentText()}finishCurrentStep(){0===this.currentHistoryStep.changes.length||this.currentHistoryStep.isFinished||(this.currentHistoryStep.isFinished=!0,this.currentHistoryStep.merge(),this.currentHistoryStep.marks=this.updateAndReturnMarks())}goBackHistoryStep(){return n(this,void 0,void 0,(function*(){let e;if(0!==this.currentHistoryStepIndex&&(0!==this.currentHistoryStep.changes.length||(this.currentHistoryStepIndex--,0!==this.currentHistoryStepIndex))){e=this.currentHistoryStep;for(const t of e.changes.slice(0).reverse())yield t.undo();return this.currentHistoryStepIndex--,e&&e.cursorStart}}))}goBackHistoryStepsOnLine(){return n(this,void 0,void 0,(function*(){let e=!1,t=0,r=[];if(0===this.currentHistoryStepIndex)return;if(0===this.currentHistoryStep.changes.length&&(this.currentHistoryStepIndex--,0===this.currentHistoryStepIndex))return;let n=this.currentHistoryStep.changes[0],i=this.currentHistoryStep.changes[this.currentHistoryStep.changes.length-1].start.line;const o=this.currentHistoryStep.changes[0].text;o.includes("\n")&&"\n"!==o&&"\r\n"!==o&&i++;for(const o of this.historySteps.slice(1,this.currentHistoryStepIndex+1).reverse()){for(let a of o.changes.reverse()){if(a.text.includes("\n")&&a.start.line+1===i&&(e=!0,a=new l(new s.Position(a.start.line+1,0),a.text.replace("\n","").replace("\r",""),a.isAdd),t++),a.text.includes("\n")||a.start.line!==i){e=!0;break}if(r.push(a),n=a,e)break}if(e)break;t++}for(const e of r)yield e.undo(),e.isAdd=!e.isAdd;for(let e=t;e>0;e--)this.historySteps.pop();const a=new d({isFinished:!0,cursorStart:[n.start],cursorEnd:[n.start]});return a.changes=r,this.historySteps.push(a),this.currentHistoryStepIndex=this.currentHistoryStepIndex-t+1,n&&[n.start]}))}goForwardHistoryStep(){return n(this,void 0,void 0,(function*(){let e;if(this.currentHistoryStepIndex!==this.historySteps.length-1){this.currentHistoryStepIndex++,e=this.currentHistoryStep;for(const t of e.changes)yield t.do();return e.cursorStart}}))}getLastHistoryEndPosition(){if(0!==this.currentHistoryStepIndex)return this.historySteps[this.currentHistoryStepIndex].cursorEnd}getLastChangeEndPosition(){if(0===this.currentHistoryStepIndex)return;const e=this.historySteps[this.currentHistoryStepIndex].changes.length;return 0!==e?this.historySteps[this.currentHistoryStepIndex].changes[e-1].end():void 0}getLastHistoryStartPosition(){if(0!==this.currentHistoryStepIndex)return this.historySteps[this.currentHistoryStepIndex].cursorStart}setLastHistoryEndPosition(e){this.historySteps[this.currentHistoryStepIndex].cursorEnd=e}getChangePositionAtindex(e){if(0===this.currentHistoryStepIndex)return;let t=this.getLastHistoryEndPosition();return t=void 0,void 0!==this.historySteps[e]&&this.historySteps[e].changes.length>0&&(t=this.historySteps[e].changes[0].isAdd?[this.historySteps[e].changes[0].end()]:[this.historySteps[e].changes[0].start]),t}toString(){let e="";for(let t=0;t<this.historySteps.length;t++){const r=this.historySteps[t];e+=r.changes.map(e=>e.text.replace(/\n/g,"\\n")).join(""),this.currentHistoryStepIndex===t&&(e+="+"),r.isFinished&&(e+=""),e+="| "}return e}}},function(e,t){function r(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}r.Diff,r.prototype.diff_main=function(e,t,r,n){void 0===n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=n;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===r&&(r=!0);var o=r,s=this.diff_commonPrefix(e,t),a=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.diff_commonSuffix(e,t);var c=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var u=this.diff_compute_(e,t,o,i);return a&&u.unshift([0,a]),c&&u.push([0,c]),this.diff_cleanupMerge(u),u},r.prototype.diff_compute_=function(e,t,r,n){var i;if(!e)return[[1,t]];if(!t)return[[-1,e]];var o=e.length>t.length?e:t,s=e.length>t.length?t:e,a=o.indexOf(s);if(-1!=a)return i=[[1,o.substring(0,a)],[0,s],[1,o.substring(a+s.length)]],e.length>t.length&&(i[0][0]=i[2][0]=-1),i;if(1==s.length)return[[-1,e],[1,t]];var c=this.diff_halfMatch_(e,t);if(c){var u=c[0],l=c[1],d=c[2],h=c[3],f=c[4],m=this.diff_main(u,d,r,n),p=this.diff_main(l,h,r,n);return m.concat([[0,f]],p)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,n):this.diff_bisect_(e,t,n)},r.prototype.diff_lineMode_=function(e,t,r){e=(l=this.diff_linesToChars_(e,t)).chars1,t=l.chars2;var n=l.lineArray,i=this.diff_main(e,t,!1,r);this.diff_charsToLines_(i,n),this.diff_cleanupSemantic(i),i.push([0,""]);for(var o=0,s=0,a=0,c="",u="";o<i.length;){switch(i[o][0]){case 1:a++,u+=i[o][1];break;case-1:s++,c+=i[o][1];break;case 0:if(s>=1&&a>=1){i.splice(o-s-a,s+a),o=o-s-a;for(var l,d=(l=this.diff_main(c,u,!1,r)).length-1;d>=0;d--)i.splice(o,0,l[d]);o+=l.length}a=0,s=0,c="",u=""}o++}return i.pop(),i},r.prototype.diff_bisect_=function(e,t,r){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,a=2*o,c=new Array(a),u=new Array(a),l=0;l<a;l++)c[l]=-1,u[l]=-1;c[s+1]=0,u[s+1]=0;for(var d=n-i,h=d%2!=0,f=0,m=0,p=0,g=0,v=0;v<o&&!((new Date).getTime()>r);v++){for(var y=-v+f;y<=v-m;y+=2){for(var w=s+y,x=(E=y==-v||y!=v&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-y;E<n&&x<i&&e.charAt(E)==t.charAt(x);)E++,x++;if(c[w]=E,E>n)m+=2;else if(x>i)f+=2;else if(h){if((M=s+d-y)>=0&&M<a&&-1!=u[M])if(E>=(C=n-u[M]))return this.diff_bisectSplit_(e,t,E,x,r)}}for(var b=-v+p;b<=v-g;b+=2){for(var C,M=s+b,S=(C=b==-v||b!=v&&u[M-1]<u[M+1]?u[M+1]:u[M-1]+1)-b;C<n&&S<i&&e.charAt(n-C-1)==t.charAt(i-S-1);)C++,S++;if(u[M]=C,C>n)g+=2;else if(S>i)p+=2;else if(!h){if((w=s+d-b)>=0&&w<a&&-1!=c[w]){var E;x=s+(E=c[w])-w;if(E>=(C=n-C))return this.diff_bisectSplit_(e,t,E,x,r)}}}}return[[-1,e],[1,t]]},r.prototype.diff_bisectSplit_=function(e,t,r,n,i){var o=e.substring(0,r),s=t.substring(0,n),a=e.substring(r),c=t.substring(n),u=this.diff_main(o,s,!1,i),l=this.diff_main(a,c,!1,i);return u.concat(l)},r.prototype.diff_linesToChars_=function(e,t){var r=[],n={};function i(e){for(var t="",i=0,o=-1,s=r.length;o<e.length-1;){-1==(o=e.indexOf("\n",i))&&(o=e.length-1);var a=e.substring(i,o+1);i=o+1,(n.hasOwnProperty?n.hasOwnProperty(a):void 0!==n[a])?t+=String.fromCharCode(n[a]):(t+=String.fromCharCode(s),n[a]=s,r[s++]=a)}return t}return r[0]="",{chars1:i(e),chars2:i(t),lineArray:r}},r.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],i=[],o=0;o<n.length;o++)i[o]=t[n.charCodeAt(o)];e[r][1]=i.join("")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(o,i)==t.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},r.prototype.diff_commonOverlap_=function(e,t){var r=e.length,n=t.length;if(0==r||0==n)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var i=Math.min(r,n);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),c=t.indexOf(a);if(-1==c)return o;s+=c,0!=c&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;var i=this;function o(e,t,r){for(var n,o,s,a,c=e.substring(r,r+Math.floor(e.length/4)),u=-1,l="";-1!=(u=t.indexOf(c,u+1));){var d=i.diff_commonPrefix(e.substring(r),t.substring(u)),h=i.diff_commonSuffix(e.substring(0,r),t.substring(0,u));l.length<h+d&&(l=t.substring(u-h,u)+t.substring(u,u+d),n=e.substring(0,r-h),o=e.substring(r+d),s=t.substring(0,u-h),a=t.substring(u+d))}return 2*l.length>=e.length?[n,o,s,a,l]:null}var s,a,c,u,l,d=o(r,n,Math.ceil(r.length/4)),h=o(r,n,Math.ceil(r.length/2));return d||h?(s=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(a=s[0],c=s[1],u=s[2],l=s[3]):(u=s[0],l=s[1],a=s[2],c=s[3]),[a,c,u,l,s[4]]):null},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],n=0,i=null,o=0,s=0,a=0,c=0,u=0;o<e.length;)0==e[o][0]?(r[n++]=o,s=c,a=u,c=0,u=0,i=e[o][1]):(1==e[o][0]?c+=e[o][1].length:u+=e[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(c,u)&&(e.splice(r[n-1],0,[-1,i]),e[r[n-1]+1][0]=1,n--,o=--n>0?r[n-1]:-1,s=0,a=0,c=0,u=0,i=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(-1==e[o-1][0]&&1==e[o][0]){var l=e[o-1][1],d=e[o][1],h=this.diff_commonOverlap_(l,d),f=this.diff_commonOverlap_(d,l);h>=f?(h>=l.length/2||h>=d.length/2)&&(e.splice(o,0,[0,d.substring(0,h)]),e[o-1][1]=l.substring(0,l.length-h),e[o+1][1]=d.substring(h),o++):(f>=l.length/2||f>=d.length/2)&&(e.splice(o,0,[0,l.substring(0,f)]),e[o-1][0]=1,e[o-1][1]=d.substring(0,d.length-f),e[o+1][0]=-1,e[o+1][1]=l.substring(f),o++),o++}o++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),o=n.match(r.nonAlphaNumericRegex_),s=i.match(r.nonAlphaNumericRegex_),a=o&&n.match(r.whitespaceRegex_),c=s&&i.match(r.whitespaceRegex_),u=a&&n.match(r.linebreakRegex_),l=c&&i.match(r.linebreakRegex_),d=u&&e.match(r.blanklineEndRegex_),h=l&&t.match(r.blanklineStartRegex_);return d||h?5:u||l?4:o&&!a&&c?3:a||c?2:o||s?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],o=e[n][1],s=e[n+1][1],a=this.diff_commonSuffix(i,o);if(a){var c=o.substring(o.length-a);i=i.substring(0,i.length-a),o=c+o.substring(0,o.length-a),s=c+s}for(var u=i,l=o,d=s,h=t(i,o)+t(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var f=t(i,o)+t(o,s);f>=h&&(h=f,u=i,l=o,d=s)}e[n-1][1]!=u&&(u?e[n-1][1]=u:(e.splice(n-1,1),n--),e[n][1]=l,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],n=0,i=null,o=0,s=!1,a=!1,c=!1,u=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(c||u)?(r[n++]=o,s=c,a=u,i=e[o][1]):(n=0,i=null),c=u=!1):(-1==e[o][0]?u=!0:c=!0,i&&(s&&a&&c&&u||i.length<this.Diff_EditCost/2&&s+a+c+u==3)&&(e.splice(r[n-1],0,[-1,i]),e[r[n-1]+1][0]=1,n--,i=null,s&&a?(c=u=!0,n=0):(o=--n>0?r[n-1]:-1,c=u=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,r=0,n=0,i=0,o="",s="";r<e.length;)switch(e[r][0]){case 1:i++,s+=e[r][1],r++;break;case-1:n++,o+=e[r][1],r++;break;case 0:n+i>1?(0!==n&&0!==i&&(0!==(t=this.diff_commonPrefix(s,o))&&(r-n-i>0&&0==e[r-n-i-1][0]?e[r-n-i-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),r++),s=s.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(s,o))&&(e[r][1]=s.substring(s.length-t)+e[r][1],s=s.substring(0,s.length-t),o=o.substring(0,o.length-t))),0===n?e.splice(r-i,n+i,[1,s]):0===i?e.splice(r-n,n+i,[-1,o]):e.splice(r-n-i,n+i,[-1,o],[1,s]),r=r-n-i+(n?1:0)+(i?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,i=0,n=0,o="",s=""}""===e[e.length-1][1]&&e.pop();var a=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),a=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),a=!0)),r++;a&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var r,n=0,i=0,o=0,s=0;for(r=0;r<e.length&&(1!==e[r][0]&&(n+=e[r][1].length),-1!==e[r][0]&&(i+=e[r][1].length),!(n>t));r++)o=n,s=i;return e.length!=r&&-1===e[r][0]?s:s+(t-o)},r.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,n=/</g,i=/>/g,o=/\n/g,s=0;s<e.length;s++){var a=e[s][0],c=e[s][1].replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(a){case 1:t[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:t[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[s]="<span>"+c+"</span>"}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)-1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,r=0,n=0,i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];switch(o){case 1:r+=s.length;break;case-1:n+=s.length;break;case 0:t+=Math.max(r,n),r=0,n=0}}return t+=Math.max(r,n)},r.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case-1:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var r=[],n=0,i=0,o=t.split(/\t/g),s=0;s<o.length;s++){var a=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{r[n++]=[1,decodeURI(a)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var c=parseInt(a,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+a);var u=e.substring(i,i+=c);"="==o[s].charAt(0)?r[n++]=[0,u]:r[n++]=[-1,u];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return r},r.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},r.prototype.match_bitap_=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(t),i=this;function o(e,n){var o=e/t.length,s=Math.abs(r-n);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,r+t.length))&&(s=Math.min(o(0,a),s)));var c,u,l=1<<t.length-1;a=-1;for(var d,h=t.length+e.length,f=0;f<t.length;f++){for(c=0,u=h;c<u;)o(f,r+u)<=s?c=u:h=u,u=Math.floor((h-c)/2+c);h=u;var m=Math.max(1,r-u+1),p=Math.min(r+u,e.length)+t.length,g=Array(p+2);g[p+1]=(1<<f)-1;for(var v=p;v>=m;v--){var y=n[e.charAt(v-1)];if(g[v]=0===f?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(d[v+1]|d[v])<<1|1|d[v+1],g[v]&l){var w=o(f,v-1);if(w<=s){if(s=w,!((a=v-1)>r))break;m=Math.max(1,2*r-a)}}}if(o(f+1,r)>s)break;d=g}return a},r.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},r.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var r=t.substring(e.start2,e.start2+e.length1),n=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,r=t.substring(e.start2-n,e.start2+e.length1+n);n+=this.Patch_Margin;var i=t.substring(e.start2-n,e.start2);i&&e.diffs.unshift([0,i]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+n);o&&e.diffs.push([0,o]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+o.length,e.length2+=i.length+o.length}},r.prototype.patch_make=function(e,t,n){var i,o;if("string"==typeof e&&"string"==typeof t&&void 0===n)i=e,(o=this.diff_main(i,t,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)o=e,i=this.diff_text1(o);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)i=e,o=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");i=e,o=n}if(0===o.length)return[];for(var s=[],a=new r.patch_obj,c=0,u=0,l=0,d=i,h=i,f=0;f<o.length;f++){var m=o[f][0],p=o[f][1];switch(c||0===m||(a.start1=u,a.start2=l),m){case 1:a.diffs[c++]=o[f],a.length2+=p.length,h=h.substring(0,l)+p+h.substring(l);break;case-1:a.length1+=p.length,a.diffs[c++]=o[f],h=h.substring(0,l)+h.substring(l+p.length);break;case 0:p.length<=2*this.Patch_Margin&&c&&o.length!=f+1?(a.diffs[c++]=o[f],a.length1+=p.length,a.length2+=p.length):p.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(a,d),s.push(a),a=new r.patch_obj,c=0,d=h,u=l)}1!==m&&(u+=p.length),-1!==m&&(l+=p.length)}return c&&(this.patch_addContext_(a,d),s.push(a)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=new r.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=i.diffs[s].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[n]=o}return t},r.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var n=0,i=[],o=0;o<e.length;o++){var s,a,c=e[o].start2+n,u=this.diff_text1(e[o].diffs),l=-1;if(u.length>this.Match_MaxBits?-1!=(s=this.match_main(t,u.substring(0,this.Match_MaxBits),c))&&(-1==(l=this.match_main(t,u.substring(u.length-this.Match_MaxBits),c+u.length-this.Match_MaxBits))||s>=l)&&(s=-1):s=this.match_main(t,u,c),-1==s)i[o]=!1,n-=e[o].length2-e[o].length1;else if(i[o]=!0,n=s-c,u==(a=-1==l?t.substring(s,s+u.length):t.substring(s,l+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[o].diffs)+t.substring(s+u.length);else{var d=this.diff_main(u,a,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(d)/u.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(d);for(var h,f=0,m=0;m<e[o].diffs.length;m++){var p=e[o].diffs[m];0!==p[0]&&(h=this.diff_xIndex(d,f)),1===p[0]?t=t.substring(0,s+h)+p[1]+t.substring(s+h):-1===p[0]&&(t=t.substring(0,s+h)+t.substring(s+this.diff_xIndex(d,f+p[1].length))),-1!==p[0]&&(f+=p[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),i]},r.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",n=1;n<=t;n++)r+=String.fromCharCode(n);for(n=0;n<e.length;n++)e[n].start1+=t,e[n].start2+=t;var i=e[0],o=i.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,r]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>o[0][1].length){var s=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],i.start1-=s,i.start2-=s,i.length1+=s,i.length2+=s}if(0==(o=(i=e[e.length-1]).diffs).length||0!=o[o.length-1][0])o.push([0,r]),i.length1+=t,i.length2+=t;else if(t>o[o.length-1][1].length){s=t-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,s),i.length1+=s,i.length2+=s}return r},r.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var i=e[n];e.splice(n--,1);for(var o=i.start1,s=i.start2,a="";0!==i.diffs.length;){var c=new r.patch_obj,u=!0;for(c.start1=o-a.length,c.start2=s-a.length,""!==a&&(c.length1=c.length2=a.length,c.diffs.push([0,a]));0!==i.diffs.length&&c.length1<t-this.Patch_Margin;){var l=i.diffs[0][0],d=i.diffs[0][1];1===l?(c.length2+=d.length,s+=d.length,c.diffs.push(i.diffs.shift()),u=!1):-1===l&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*t?(c.length1+=d.length,o+=d.length,u=!1,c.diffs.push([l,d]),i.diffs.shift()):(d=d.substring(0,t-c.length1-this.Patch_Margin),c.length1+=d.length,o+=d.length,0===l?(c.length2+=d.length,s+=d.length):u=!1,c.diffs.push([l,d]),d==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(d.length))}a=(a=this.diff_text2(c.diffs)).substring(a.length-this.Patch_Margin);var h=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==h&&(c.length1+=h.length,c.length2+=h.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=h:c.diffs.push([0,h])),u||e.splice(++n,0,c)}}},r.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw new Error("Invalid patch string: "+n[i]);var a=new r.patch_obj;for(t.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),i++;i<n.length;){var c=n[i].charAt(0);try{var u=decodeURI(n[i].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==c)a.diffs.push([-1,u]);else if("+"==c)a.diffs.push([1,u]);else if(" "==c)a.diffs.push([0,u]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+u)}i++}}return t},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=r,e.exports.diff_match_patch=r,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(41),o=r(8),s=r(5),a=r(3);t.InputMethodSwitcher=class{constructor(e=i.executeShell){this.logger=o.Logger.get("IMSwitcher"),this.savedIMKey="",this.execute=e}switchInputMethod(e,t){return n(this,void 0,void 0,(function*(){if(!0!==a.configuration.autoSwitchInputMethod.enable)return;let r=this.isInsertLikeMode(e),n=this.isInsertLikeMode(t);r!==n&&(n?yield this.resumeIM():yield this.switchToDefaultIM())}))}switchToDefaultIM(){return n(this,void 0,void 0,(function*(){const e=a.configuration.autoSwitchInputMethod.obtainIMCmd;try{const t=yield this.execute(e);void 0!==t&&(this.savedIMKey=t.trim())}catch(e){this.logger.error(`Error switching to default IM. err=${e}`)}const t=a.configuration.autoSwitchInputMethod.defaultIM;t!==this.savedIMKey&&(yield this.switchToIM(t))}))}resumeIM(){return n(this,void 0,void 0,(function*(){this.savedIMKey!==a.configuration.autoSwitchInputMethod.defaultIM&&(yield this.switchToIM(this.savedIMKey))}))}switchToIM(e){return n(this,void 0,void 0,(function*(){let t=a.configuration.autoSwitchInputMethod.switchIMCmd;if(""!==e&&void 0!==e){t=t.replace("{im}",e);try{yield this.execute(t)}catch(e){this.logger.error(`Error switching to IM. err=${e}`)}}}))}isInsertLikeMode(e){return new Set([s.ModeName.Insert,s.ModeName.Replace,s.ModeName.SurroundInputMode]).has(e)}}},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(0),s=r(8),a=r(4),c=r(14),u=r(6),l=r(3),d=r(23),h=r(16),f=r(47),m=r(357);t.NeovimWrapper=class{constructor(){this.logger=s.Logger.get("Neovim"),this.processTimeoutInSeconds=3}run(e,t){return n(this,void 0,void 0,(function*(){if(!this.nvim){this.nvim=yield this.startNeovim();try{const e=this.nvim.uiAttach(80,20,{ext_cmdline:!1,ext_popupmenu:!1,ext_tabline:!1,ext_wildmenu:!1,rgb:!1}),t=new Promise((e,t)=>{setTimeout(()=>t(new Error("Timeout")),1e3*this.processTimeoutInSeconds)});yield Promise.race([e,t])}catch(e){throw l.configuration.enableNeovim=!1,new Error(`Failed to attach to neovim process. ${e.message}`)}const e=(yield this.nvim.apiInfo)[1].version;this.logger.debug(`version: ${e.major}.${e.minor}.${e.patch}`)}yield this.syncVSToVim(e),t=(":"+t+"\n").replace("<","<lt>"),yield this.nvim.command('let v:errmsg="" | let v:statusmsg=""'),this.logger.debug(`Running ${t}.`),yield this.nvim.input(t),(yield this.nvim.mode).blocking&&(yield this.nvim.input("<esc>"));const r=yield this.nvim.getVvar("errmsg");let n="";if(r&&""!==r.toString())n=r.toString();else{const e=yield this.nvim.getVvar("statusmsg");e&&""!==e.toString()&&(n=e.toString())}return yield this.syncVimToVs(e),n}))}startNeovim(){return n(this,void 0,void 0,(function*(){this.logger.debug("Spawning Neovim process...");let t=d.dirname(o.window.activeTextEditor.document.uri.fsPath);return(yield i.promisify(h.exists)(t))||(t=e),this.process=f.spawn(l.configuration.neovimPath,["-u","NONE","-i","NONE","-n","--embed"],{cwd:t}),this.process.on("error",e=>{this.logger.error(`Error spawning neovim. ${e.message}.`),l.configuration.enableNeovim=!1}),m.attach({proc:this.process})}))}syncVSToVim(e){return n(this,void 0,void 0,(function*(){const t=yield this.nvim.buffer;l.configuration.expandtab&&(yield o.commands.executeCommand("editor.action.indentationToTabs")),yield this.nvim.setOption("gdefault",!0===l.configuration.gdefault),yield t.setLines(u.TextEditor.getText().split("\n"),{start:0,end:-1,strictIndexing:!0});const[r,n]=[a.Position.EarlierOf(e.cursorStopPosition,e.cursorStartPosition),a.Position.LaterOf(e.cursorStopPosition,e.cursorStartPosition)];yield this.nvim.callFunction("setpos",[".",[0,e.cursorStopPosition.line+1,e.cursorStopPosition.character,!1]]),yield this.nvim.callFunction("setpos",["'<",[0,r.line+1,n.character,!1]]),yield this.nvim.callFunction("setpos",["'>",[0,n.line+1,n.character,!1]]);for(const t of e.historyTracker.getMarks())yield this.nvim.callFunction("setpos",[`'${t.name}`,[0,t.position.line+1,t.position.character,!1]]);let i=yield c.Register.get(e),s=[void 0,"c","l","b"];yield this.nvim.callFunction("setreg",['"',i.text,s[e.effectiveRegisterMode]])}))}syncVimToVs(e){return n(this,void 0,void 0,(function*(){const t=yield this.nvim.buffer,r=yield t.getLines({start:0,end:-1,strictIndexing:!1}),n="win32"===process.platform?r.map((e,t)=>e.replace(/\r$/,"")):r;yield u.TextEditor.replace(new o.Range(0,0,u.TextEditor.getLineCount()-1,u.TextEditor.getLineMaxColumn(u.TextEditor.getLineCount()-1)),n.join("\n")),this.logger.debug(`${r.length} lines in nvim. ${u.TextEditor.getLineCount()} in editor.`);let[i,s]=(yield this.nvim.callFunction("getpos",["."])).slice(1,3);e.editor.selection=new o.Selection(new a.Position(i-1,s),new a.Position(i-1,s)),l.configuration.expandtab&&(yield o.commands.executeCommand("editor.action.indentationToSpaces"));const d={v:c.RegisterMode.CharacterWise,V:c.RegisterMode.LineWise,"":c.RegisterMode.BlockWise};e.currentRegisterMode=d[yield this.nvim.callFunction("getregtype",['"'])],c.Register.put(yield this.nvim.callFunction("getreg",['"']),e)}))}dispose(){this.nvim&&this.nvim.quit(),this.process&&this.process.kill()}}}).call(this,"/")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(358);t.attach=n.attach;var i=r(404);t.Neovim=i.Neovim,t.NeovimClient=i.NeovimClient,t.Buffer=i.Buffer,t.Tabpage=i.Tabpage,t.Window=i.Window;var o=r(405);t.Plugin=o.Plugin,t.Function=o.Function,t.Autocmd=o.Autocmd,t.Command=o.Command;var s=r(194);t.NvimPlugin=s.NvimPlugin},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(359);t.attach=n.attach},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(360),i=r(184),o=r(67);t.attach=function({reader:e,writer:t,proc:r,socket:s}){let a,c;if(s){const e=n.createConnection(s);a=e,c=e}else e&&t?(a=t,c=e):r&&(a=r.stdin,c=r.stdout);if(a&&c){const e=new i.NeovimClient({logger:o.logger});return e.attach({writer:a,reader:c}),e}throw new Error("Invalid arguments, could not attach")}},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21),i=r(362),o=r(379),s=r(65);class a{constructor(e,t){this.encoder=e,this.requestId=t}send(e,t){if(this.sent)throw new Error(`Response to id ${this.requestId} already sent`);this.encoder.write(i.encode([1,this.requestId,t?e:null,t?null:e])),this.sent=!0}}t.Transport=class extends n.EventEmitter{constructor(){super(),this.pending=new Map,this.nextRequestId=1;const e=this.setupCodec();this.encodeStream=i.createEncodeStream({codec:e}),this.decodeStream=i.createDecodeStream({codec:e}),this.decodeStream.on("data",e=>{this.parseMessage(e)}),this.decodeStream.on("end",()=>{this.detach(),this.emit("detach")})}setupCodec(){const e=i.createCodec();return s.Metadata.forEach(({constructor:t},r)=>{e.addExtPacker(r,t,e=>i.encode(e.data)),e.addExtUnpacker(r,e=>new t({transport:this,client:this.client,data:i.decode(e)}))}),this.codec=e,this.codec}attach(e,t,r){this.encodeStream=this.encodeStream.pipe(e);const n=new o.default;t.pipe(n).pipe(this.decodeStream),this.writer=e,this.reader=t,this.client=r}detach(){this.encodeStream.unpipe(this.writer),this.reader.unpipe(this.decodeStream)}request(e,t,r){this.nextRequestId=this.nextRequestId+1,this.encodeStream.write(i.encode([0,this.nextRequestId,e,t],{codec:this.codec})),this.pending.set(this.nextRequestId,r)}notify(e,t){this.encodeStream.write([2,e,t])}parseMessage(e){const t=e[0];if(0===t)this.emit("request",e[2].toString(),e[3],new a(this.encodeStream,e[1]));else if(1===t){const t=e[1],r=this.pending.get(t);this.pending.delete(t),r(e[2],e[3])}else 2===t?this.emit("notification",e[1].toString(),e[2]):this.encodeStream.write([1,0,"Invalid message type",null])}}},function(e,t,r){t.encode=r(185).encode,t.decode=r(189).decode,t.Encoder=r(373).Encoder,t.Decoder=r(374).Decoder,t.createEncodeStream=r(375).createEncodeStream,t.createDecodeStream=r(376).createDecodeStream,t.createCodec=r(377).createCodec,t.codec=r(378).codec},function(e,t){function r(e){return e&&e.isBuffer&&e}e.exports=r("undefined"!=typeof Buffer&&Buffer)||r(this.Buffer)||r("undefined"!=typeof window&&window.Buffer)||this.Buffer},function(e,t,r){var n=r(17);function i(e){return new Array(e)}(t=e.exports=i(0)).alloc=i,t.concat=n.concat,t.from=function(e){if(!n.isBuffer(e)&&n.isView(e))e=n.Uint8Array.from(e);else if(n.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return n.from.call(t,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(e)}},function(e,t,r){var n=r(17),i=n.global;function o(e){return new i(e)}(t=e.exports=n.hasBuffer?o(0):[]).alloc=n.hasBuffer&&i.alloc||o,t.concat=n.concat,t.from=function(e){if(!n.isBuffer(e)&&n.isView(e))e=n.Uint8Array.from(e);else if(n.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return n.from.call(t,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return i.from&&1!==i.from.length?i.from(e):new i(e)}},function(e,t,r){var n=r(17);function i(e){return new Uint8Array(e)}(t=e.exports=n.hasArrayBuffer?i(0):[]).alloc=i,t.concat=n.concat,t.from=function(e){if(n.isView(e)){var r=e.byteOffset,i=e.byteLength;(e=e.buffer).byteLength!==i&&(e.slice?e=e.slice(r,r+i):(e=new Uint8Array(e)).byteLength!==i&&(e=Array.prototype.slice.call(e,r,r+i)))}else{if("string"==typeof e)return n.from.call(t,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(e)}},function(e,t){t.copy=function(e,t,r,n){var i;r||(r=0);n||0===n||(n=this.length);t||(t=0);var o=n-r;if(e===this&&r<t&&t<n)for(i=o-1;i>=0;i--)e[i+t]=this[i+r];else for(i=0;i<o;i++)e[i+t]=this[i+r];return o},t.toString=function(e,t,r){var n=0|t;r||(r=this.length);var i="",o=0;for(;n<r;)(o=this[n++])<128?i+=String.fromCharCode(o):(192==(224&o)?o=(31&o)<<6|63&this[n++]:224==(240&o)?o=(15&o)<<12|(63&this[n++])<<6|63&this[n++]:240==(248&o)&&(o=(7&o)<<18|(63&this[n++])<<12|(63&this[n++])<<6|63&this[n++]),o>=65536?(o-=65536,i+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):i+=String.fromCharCode(o));return i},t.write=function(e,t){var r=t||(t|=0),n=e.length,i=0,o=0;for(;o<n;)(i=e.charCodeAt(o++))<128?this[r++]=i:i<2048?(this[r++]=192|i>>>6,this[r++]=128|63&i):i<55296||i>57343?(this[r++]=224|i>>>12,this[r++]=128|i>>>6&63,this[r++]=128|63&i):(i=65536+(i-55296<<10|e.charCodeAt(o++)-56320),this[r++]=240|i>>>18,this[r++]=128|i>>>12&63,this[r++]=128|i>>>6&63,this[r++]=128|63&i);return r-t}},function(e,t,r){t.setExtPackers=function(e){e.addExtPacker(14,Error,[d,c]),e.addExtPacker(1,EvalError,[d,c]),e.addExtPacker(2,RangeError,[d,c]),e.addExtPacker(3,ReferenceError,[d,c]),e.addExtPacker(4,SyntaxError,[d,c]),e.addExtPacker(5,TypeError,[d,c]),e.addExtPacker(6,URIError,[d,c]),e.addExtPacker(10,RegExp,[l,c]),e.addExtPacker(11,Boolean,[u,c]),e.addExtPacker(12,String,[u,c]),e.addExtPacker(13,Date,[Number,c]),e.addExtPacker(15,Number,[u,c]),"undefined"!=typeof Uint8Array&&(e.addExtPacker(17,Int8Array,s),e.addExtPacker(18,Uint8Array,s),e.addExtPacker(19,Int16Array,s),e.addExtPacker(20,Uint16Array,s),e.addExtPacker(21,Int32Array,s),e.addExtPacker(22,Uint32Array,s),e.addExtPacker(23,Float32Array,s),"undefined"!=typeof Float64Array&&e.addExtPacker(24,Float64Array,s),"undefined"!=typeof Uint8ClampedArray&&e.addExtPacker(25,Uint8ClampedArray,s),e.addExtPacker(26,ArrayBuffer,s),e.addExtPacker(29,DataView,s));i.hasBuffer&&e.addExtPacker(27,o,i.from)};var n,i=r(17),o=i.global,s=i.Uint8Array.from,a={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function c(e){return n||(n=r(185).encode),n(e)}function u(e){return e.valueOf()}function l(e){(e=RegExp.prototype.toString.call(e).split("/")).shift();var t=[e.pop()];return t.unshift(e.join("/")),t}function d(e){var t={};for(var r in a)t[r]=e[r];return t}},function(e,t,r){var n=r(51),i=r(108),o=i.Uint64BE,s=i.Int64BE,a=r(17),c=r(107),u=r(370),l=r(187).uint8,d=r(106).ExtBuffer,h="undefined"!=typeof Uint8Array,f="undefined"!=typeof Map,m=[];m[1]=212,m[2]=213,m[4]=214,m[8]=215,m[16]=216,t.getWriteType=function(e){var t=u.getWriteToken(e),r=e&&e.useraw,i=h&&e&&e.binarraybuffer,p=i?a.isArrayBuffer:a.isBuffer,g=i?function(e,t){x(e,new Uint8Array(t))}:x,v=f&&e&&e.usemap?function(e,r){if(!(r instanceof Map))return b(e,r);var n=r.size;t[n<16?128+n:n<=65535?222:223](e,n);var i=e.codec.encode;r.forEach((function(t,r,n){i(e,r),i(e,t)}))}:b;return{boolean:function(e,r){t[r?195:194](e,r)},function:w,number:function(e,r){var n,i=0|r;if(r!==i)return void t[n=203](e,r);n=-32<=i&&i<=127?255&i:0<=i?i<=255?204:i<=65535?205:206:-128<=i?208:-32768<=i?209:210;t[n](e,i)},object:r?function(e,r){if(p(r))return function(e,r){var n=r.length;t[n<32?160+n:n<=65535?218:219](e,n),e.send(r)}(e,r);y(e,r)}:y,string:function(e){return function(r,n){var i=n.length,o=5+3*i;r.offset=r.reserve(o);var s=r.buffer,a=e(i),u=r.offset+a;i=c.write.call(s,n,u);var l=e(i);if(a!==l){var d=u+l-a,h=u+i;c.copy.call(s,s,d,u,h)}t[1===l?160+i:l<=3?215+l:219](r,i),r.offset+=i}}(r?function(e){return e<32?1:e<=65535?3:5}:function(e){return e<32?1:e<=255?2:e<=65535?3:5}),symbol:w,undefined:w};function y(e,r){if(null===r)return w(e,r);if(p(r))return g(e,r);if(n(r))return function(e,r){var n=r.length;t[n<16?144+n:n<=65535?220:221](e,n);for(var i=e.codec.encode,o=0;o<n;o++)i(e,r[o])}(e,r);if(o.isUint64BE(r))return function(e,r){t[207](e,r.toArray())}(e,r);if(s.isInt64BE(r))return function(e,r){t[211](e,r.toArray())}(e,r);var i=e.codec.getExtPacker(r);if(i&&(r=i(r)),r instanceof d)return function(e,r){var n=r.buffer,i=n.length,o=m[i]||(i<255?199:i<=65535?200:201);t[o](e,i),l[r.type](e),e.send(n)}(e,r);v(e,r)}function w(e,r){t[192](e,r)}function x(e,r){var n=r.length;t[n<255?196:n<=65535?197:198](e,n),e.send(r)}function b(e,r){var n=Object.keys(r),i=n.length;t[i<16?128+i:i<=65535?222:223](e,i);var o=e.codec.encode;n.forEach((function(t){o(e,t),o(e,r[t])}))}}},function(e,t,r){var n=r(186),i=r(108),o=i.Uint64BE,s=i.Int64BE,a=r(187).uint8,c=r(17),u=c.global,l=c.hasBuffer&&"TYPED_ARRAY_SUPPORT"in u&&!u.TYPED_ARRAY_SUPPORT,d=c.hasBuffer&&u.prototype||{};function h(){var e=a.slice();return e[196]=f(196),e[197]=m(197),e[198]=p(198),e[199]=f(199),e[200]=m(200),e[201]=p(201),e[202]=g(202,4,d.writeFloatBE||w,!0),e[203]=g(203,8,d.writeDoubleBE||x,!0),e[204]=f(204),e[205]=m(205),e[206]=p(206),e[207]=g(207,8,v),e[208]=f(208),e[209]=m(209),e[210]=p(210),e[211]=g(211,8,y),e[217]=f(217),e[218]=m(218),e[219]=p(219),e[220]=m(220),e[221]=p(221),e[222]=m(222),e[223]=p(223),e}function f(e){return function(t,r){var n=t.reserve(2),i=t.buffer;i[n++]=e,i[n]=r}}function m(e){return function(t,r){var n=t.reserve(3),i=t.buffer;i[n++]=e,i[n++]=r>>>8,i[n]=r}}function p(e){return function(t,r){var n=t.reserve(5),i=t.buffer;i[n++]=e,i[n++]=r>>>24,i[n++]=r>>>16,i[n++]=r>>>8,i[n]=r}}function g(e,t,r,n){return function(i,o){var s=i.reserve(t+1);i.buffer[s++]=e,r.call(i.buffer,o,s,n)}}function v(e,t){new o(this,t,e)}function y(e,t){new s(this,t,e)}function w(e,t){n.write(this,e,t,!1,23,4)}function x(e,t){n.write(this,e,t,!1,52,8)}t.getWriteToken=function(e){return e&&e.uint8array?((t=h())[202]=g(202,4,w),t[203]=g(203,8,x),t):l||c.hasBuffer&&e&&e.safe?function(){var e=a.slice();return e[196]=g(196,1,u.prototype.writeUInt8),e[197]=g(197,2,u.prototype.writeUInt16BE),e[198]=g(198,4,u.prototype.writeUInt32BE),e[199]=g(199,1,u.prototype.writeUInt8),e[200]=g(200,2,u.prototype.writeUInt16BE),e[201]=g(201,4,u.prototype.writeUInt32BE),e[202]=g(202,4,u.prototype.writeFloatBE),e[203]=g(203,8,u.prototype.writeDoubleBE),e[204]=g(204,1,u.prototype.writeUInt8),e[205]=g(205,2,u.prototype.writeUInt16BE),e[206]=g(206,4,u.prototype.writeUInt32BE),e[207]=g(207,8,v),e[208]=g(208,1,u.prototype.writeInt8),e[209]=g(209,2,u.prototype.writeInt16BE),e[210]=g(210,4,u.prototype.writeInt32BE),e[211]=g(211,8,y),e[217]=g(217,1,u.prototype.writeUInt8),e[218]=g(218,2,u.prototype.writeUInt16BE),e[219]=g(219,4,u.prototype.writeUInt32BE),e[220]=g(220,2,u.prototype.writeUInt16BE),e[221]=g(221,4,u.prototype.writeUInt32BE),e[222]=g(222,2,u.prototype.writeUInt16BE),e[223]=g(223,4,u.prototype.writeUInt32BE),e}():h();var t}},function(e,t,r){t.setExtUnpackers=function(e){e.addExtUnpacker(14,[a,u(Error)]),e.addExtUnpacker(1,[a,u(EvalError)]),e.addExtUnpacker(2,[a,u(RangeError)]),e.addExtUnpacker(3,[a,u(ReferenceError)]),e.addExtUnpacker(4,[a,u(SyntaxError)]),e.addExtUnpacker(5,[a,u(TypeError)]),e.addExtUnpacker(6,[a,u(URIError)]),e.addExtUnpacker(10,[a,c]),e.addExtUnpacker(11,[a,l(Boolean)]),e.addExtUnpacker(12,[a,l(String)]),e.addExtUnpacker(13,[a,l(Date)]),e.addExtUnpacker(15,[a,l(Number)]),"undefined"!=typeof Uint8Array&&(e.addExtUnpacker(17,l(Int8Array)),e.addExtUnpacker(18,l(Uint8Array)),e.addExtUnpacker(19,[d,l(Int16Array)]),e.addExtUnpacker(20,[d,l(Uint16Array)]),e.addExtUnpacker(21,[d,l(Int32Array)]),e.addExtUnpacker(22,[d,l(Uint32Array)]),e.addExtUnpacker(23,[d,l(Float32Array)]),"undefined"!=typeof Float64Array&&e.addExtUnpacker(24,[d,l(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&e.addExtUnpacker(25,l(Uint8ClampedArray)),e.addExtUnpacker(26,d),e.addExtUnpacker(29,[d,l(DataView)]));i.hasBuffer&&e.addExtUnpacker(27,l(o))};var n,i=r(17),o=i.global,s={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function a(e){return n||(n=r(189).decode),n(e)}function c(e){return RegExp.apply(null,e)}function u(e){return function(t){var r=new e;for(var n in s)r[n]=t[n];return r}}function l(e){return function(t){return new e(t)}}function d(e){return new Uint8Array(e).buffer}},function(e,t,r){var n=r(190);function i(e){var t,r=new Array(256);for(t=0;t<=127;t++)r[t]=o(t);for(t=128;t<=143;t++)r[t]=a(t-128,e.map);for(t=144;t<=159;t++)r[t]=a(t-144,e.array);for(t=160;t<=191;t++)r[t]=a(t-160,e.str);for(r[192]=o(null),r[193]=null,r[194]=o(!1),r[195]=o(!0),r[196]=s(e.uint8,e.bin),r[197]=s(e.uint16,e.bin),r[198]=s(e.uint32,e.bin),r[199]=s(e.uint8,e.ext),r[200]=s(e.uint16,e.ext),r[201]=s(e.uint32,e.ext),r[202]=e.float32,r[203]=e.float64,r[204]=e.uint8,r[205]=e.uint16,r[206]=e.uint32,r[207]=e.uint64,r[208]=e.int8,r[209]=e.int16,r[210]=e.int32,r[211]=e.int64,r[212]=a(1,e.ext),r[213]=a(2,e.ext),r[214]=a(4,e.ext),r[215]=a(8,e.ext),r[216]=a(16,e.ext),r[217]=s(e.uint8,e.str),r[218]=s(e.uint16,e.str),r[219]=s(e.uint32,e.str),r[220]=s(e.uint16,e.array),r[221]=s(e.uint32,e.array),r[222]=s(e.uint16,e.map),r[223]=s(e.uint32,e.map),t=224;t<=255;t++)r[t]=o(t-256);return r}function o(e){return function(){return e}}function s(e,t){return function(r){var n=e(r);return t(r,n)}}function a(e,t){return function(r){return t(r,e)}}t.getReadToken=function(e){var t=n.getReadFormat(e);return e&&e.useraw?function(e){var t,r=i(e).slice();for(r[217]=r[196],r[218]=r[197],r[219]=r[198],t=160;t<=191;t++)r[t]=a(t-160,e.bin);return r}(t):i(t)}},function(e,t,r){t.Encoder=o;var n=r(191),i=r(104).EncodeBuffer;function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}o.prototype=new i,n.mixin(o.prototype),o.prototype.encode=function(e){this.write(e),this.emit("data",this.read())},o.prototype.end=function(e){arguments.length&&this.encode(e),this.flush(),this.emit("end")}},function(e,t,r){t.Decoder=o;var n=r(191),i=r(109).DecodeBuffer;function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}o.prototype=new i,n.mixin(o.prototype),o.prototype.decode=function(e){arguments.length&&this.write(e),this.flush()},o.prototype.push=function(e){this.emit("data",e)},o.prototype.end=function(e){this.decode(e),this.emit("end")}},function(e,t,r){t.createEncodeStream=a;var n=r(1),i=r(13).Transform,o=r(104).EncodeBuffer;n.inherits(a,i);var s={objectMode:!0};function a(e){if(!(this instanceof a))return new a(e);e?e.objectMode=!0:e=s,i.call(this,e);var t=this;(this.encoder=new o(e)).push=function(e){t.push(e)}}a.prototype._transform=function(e,t,r){this.encoder.write(e),r&&r()},a.prototype._flush=function(e){this.encoder.flush(),e&&e()}},function(e,t,r){t.createDecodeStream=a;var n=r(1),i=r(13).Transform,o=r(109).DecodeBuffer;n.inherits(a,i);var s={objectMode:!0};function a(e){if(!(this instanceof a))return new a(e);e?e.objectMode=!0:e=s,i.call(this,e);var t=this;(this.decoder=new o(e)).push=function(e){t.push(e)}}a.prototype._transform=function(e,t,r){this.decoder.write(e),this.decoder.flush(),r&&r()}},function(e,t,r){r(110),r(105),t.createCodec=r(64).createCodec},function(e,t,r){r(110),r(105),t.codec={preset:r(64).preset}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(13),i=8192;t.default=class extends n.Transform{constructor(){super({readableHighWaterMark:10485760,writableHighWaterMark:10485760}),this.chunks=null,this.timer=null}sendData(){const{chunks:e}=this;if(e){this.chunks=null;const t=Buffer.concat(e);this.push(t)}}_transform(e,t,r){const{chunks:n,timer:o}=this;if(o&&clearTimeout(o),e.length<i){if(!n)return r(null,e);n.push(e),this.sendData(),r()}else n?n.push(e):this.chunks=[e],this.timer=setTimeout(this.sendData.bind(this),20),r()}_flush(e){const{chunks:t}=this;if(t){this.chunks=null,e(null,Buffer.concat(t))}else e()}}},function(e){e.exports=JSON.parse('{"name":"winston","description":"A multi-transport async logging library for Node.js","version":"2.4.4","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Alberto Pose <albertopose@gmail.com>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logging","sysadmin","tools"],"dependencies":{"async":"~1.0.0","colors":"1.0.x","cycle":"1.0.x","eyes":"0.1.x","isstream":"0.1.x","stack-trace":"0.0.x"},"devDependencies":{"cross-spawn-async":"^2.0.0","hock":"1.x.x","std-mocks":"~1.0.0","vows":"0.7.x"},"main":"./lib/winston","scripts":{"test":"vows --spec --isolate"},"types":"./index.d.ts","engines":{"node":">= 0.10.0"},"license":"MIT","_resolved":"https://registry.npmjs.org/winston/-/winston-2.4.4.tgz","_integrity":"sha512-NBo2Pepn4hK4V01UfcWcDlmiVTs7VTB1h7bgnB0rgP146bYhMxX0ypCz3lBOfNxCO4Zuek7yeT+y/zM1OfMw4Q==","_from":"winston@2.4.4"}')},function(e,t,r){Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:function(){return r(382).Console}}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:function(){return r(398).File}}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:function(){return r(400).Http}}),Object.defineProperty(t,"Memory",{configurable:!0,enumerable:!0,get:function(){return r(401).Memory}})},function(e,t,r){r(21);var n=r(19),i=r(1),o=r(35),s=r(45).Transport,a=t.Console=function(e){s.call(this,e),e=e||{},this.json=e.json||!1,this.colorize=e.colorize||!1,this.prettyPrint=e.prettyPrint||!1,this.timestamp=void 0!==e.timestamp&&e.timestamp,this.showLevel=void 0===e.showLevel||e.showLevel,this.label=e.label||null,this.logstash=e.logstash||!1,this.depth=e.depth||null,this.align=e.align||!1,this.stderrLevels=function(e,t){var r="Cannot have non-string elements in stderrLevels Array";if(t){if(e)throw new Error("Cannot set debugStdout and stderrLevels together");return o.stringArrayToSet(["error"],r)}if(!e)return o.stringArrayToSet(["error","debug"],r);if(!Array.isArray(e))throw new Error("Cannot set stderrLevels to type other than Array");return o.stringArrayToSet(e,r)}(e.stderrLevels,e.debugStdout),this.eol=e.eol||n.EOL,this.json&&(this.stringify=e.stringify||function(e){return JSON.stringify(e,null,2)})};i.inherits(a,s),a.prototype.name="console",a.prototype.log=function(e,t,r,n){if(this.silent)return n(null,!0);var i;i=o.log({colorize:this.colorize,json:this.json,level:e,message:t,meta:r,stringify:this.stringify,timestamp:this.timestamp,showLevel:this.showLevel,prettyPrint:this.prettyPrint,raw:this.raw,label:this.label,logstash:this.logstash,depth:this.depth,formatter:this.formatter,align:this.align,humanReadableUnhandledException:this.humanReadableUnhandledException}),this.stderrLevels[e]?process.stderr.write(i+this.eol):process.stdout.write(i+this.eol),this.emit("logged"),n(null,!0)}},function(e,t){e.exports=require("crypto")},function(module,exports){var cycle=exports;cycle.decycle=function(e){"use strict";var t=[],r=[];return function e(n,i){var o,s,a;if(!("object"!=typeof n||null===n||n instanceof Boolean||n instanceof Date||n instanceof Number||n instanceof RegExp||n instanceof String)){for(o=0;o<t.length;o+=1)if(t[o]===n)return{$ref:r[o]};if(t.push(n),r.push(i),"[object Array]"===Object.prototype.toString.apply(n))for(a=[],o=0;o<n.length;o+=1)a[o]=e(n[o],i+"["+o+"]");else for(s in a={},n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=e(n[s],i+"["+JSON.stringify(s)+"]"));return a}return n}(e,"$")},cycle.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}},function(e,t,r){var n=r(44);e.exports=n},function(e,t){var r={};e.exports=r;var n={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(n).forEach((function(e){var t=n[e],i=r[e]=[];i.open="["+t[0]+"m",i.close="["+t[1]+"m"}))},function(e,t){var r=process.argv;e.exports=!(-1!==r.indexOf("--no-color")||-1!==r.indexOf("--color=false")||-1===r.indexOf("--color")&&-1===r.indexOf("--color=true")&&-1===r.indexOf("--color=always")&&(process.stdout&&!process.stdout.isTTY||"win32"!==process.platform&&!("COLORTERM"in process.env||"dumb"!==process.env.TERM&&/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM))))},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=388},function(e,t){e.exports=function(e,t){var r="";e=(e=e||"Run the trap, drop the bass").split("");var n={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach((function(e){e=e.toLowerCase();var t=n[e]||[" "],i=Math.floor(Math.random()*t.length);r+=void 0!==n[e]?n[e][i]:e})),r}},function(e,t){e.exports=function(e,t){e=e||"   he is here   ";var r={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},n=[].concat(r.up,r.down,r.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return n.filter((function(r){t=r===e})),t}return function(e,t){var n,s,a="";for(s in(t=t||{}).up=t.up||!0,t.mid=t.mid||!0,t.down=t.down||!0,t.size=t.size||"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],n={up:0,down:0,mid:0},t.size){case"mini":n.up=i(8),n.min=i(2),n.down=i(8);break;case"maxi":n.up=i(16)+3,n.min=i(4)+1,n.down=i(64)+3;break;default:n.up=i(8)+1,n.mid=i(6)/2,n.down=i(8)+1}var c=["up","mid","down"];for(var u in c)for(var l=c[u],d=0;d<=n[l];d++)t[l]&&(a+=r[l][i(r[l].length)])}return a}(e)}},function(e,t,r){var n=r(44);e.exports=function(e,t,r){if(" "===e)return e;switch(t%3){case 0:return n.red(e);case 1:return n.white(e);case 2:return n.blue(e)}}},function(e,t,r){var n=r(44);e.exports=function(e,t,r){return t%2==0?e:n.inverse(e)}},function(e,t,r){var n,i=r(44);e.exports=(n=["red","yellow","green","blue","magenta"],function(e,t,r){return" "===e?e:i[n[t++%n.length]](e)})},function(e,t,r){var n,i=r(44);e.exports=(n=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"],function(e,t,r){return" "===e?e:i[n[Math.round(Math.random()*(n.length-1))]](e)})},function(e,t){var r=t;r.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},r.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,t){var r=t;r.levels={error:0,warn:1,info:2,verbose:3,debug:4,silly:5},r.colors={error:"red",warn:"yellow",info:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,t){var r=t;r.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},r.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,t,r){r(21);var n=r(16),i=r(23),o=r(1),s=r(192),a=r(150),c=r(35),u=r(45).Transport,l=r(399).isWritable,d=r(13).Stream,h=r(19),f=t.File=function(e){var t=this;function r(t){Array.prototype.slice.call(arguments,1).forEach((function(r){if(e[r])throw new Error("Cannot set "+r+" and "+t+"together")}))}if(u.call(this,e),e.filename||e.dirname)r("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"},this.options.highWaterMark=this.options.highWaterMark||24;else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");r("stream","filename","maxsize"),this._stream=e.stream,this._isStreams2=l(this._stream),this._stream.on("error",(function(e){t.emit("error",e)})),this._stream.setMaxListeners(1/0)}this.json=!1!==e.json,this.logstash=e.logstash||!1,this.colorize=e.colorize||!1,this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.prettyPrint=e.prettyPrint||!1,this.label=e.label||null,this.timestamp=null==e.timestamp||e.timestamp,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this.depth=e.depth||null,this.showLevel=void 0===e.showLevel||e.showLevel,this.maxRetries=e.maxRetries||2,this.json&&(this.stringify=e.stringify),this._size=0,this._created=0,this._buffer=[],this._draining=!1,this._opening=!1,this._failures=0,this._archive=null};o.inherits(f,u),f.prototype.name="file",f.prototype.log=function(e,t,r,n){if(this.silent)return n(null,!0);if(this._failures>=this.maxRetries)return n(new Error("Transport is in a failed state."));var i=this;"string"!=typeof t&&(t=""+t);var o=c.log({level:e,message:t,meta:r,json:this.json,logstash:this.logstash,colorize:this.colorize,prettyPrint:this.prettyPrint,timestamp:this.timestamp,showLevel:this.showLevel,stringify:this.stringify,label:this.label,depth:this.depth,formatter:this.formatter,humanReadableUnhandledException:this.humanReadableUnhandledException});"string"==typeof o&&(o+=this.eol),this.filename?this.open((function(e){if(e)return i._buffer.push([o,n]);i._write(o,n),i._size+=o.length,i._lazyDrain()})):(this._write(o,n),this._size+=o.length,this._lazyDrain())},f.prototype._write=function(e,t){if(this._isStreams2)return this._stream.write(e),t&&process.nextTick((function(){t(null,!0)}));var r=this._stream.write(e);return t?!1===r?this._stream.once("drain",(function(){t(null,!0)})):void process.nextTick((function(){t(null,!0)})):void 0},f.prototype.query=function(e,t){"function"==typeof e&&(t=e,e={});var r=i.join(this.dirname,this.filename),o=(e=this.normalizeQuery(e),""),s=[],a=0,c=n.createReadStream(r,{encoding:"utf8"});function u(t,r){try{var n=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;var r=new Date(t.timestamp);if(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level)return;return!0})(n)&&function(t){if(e.rows&&s.length>=e.rows&&"desc"!=e.order)return void(c.readable&&c.destroy());if(e.fields){var r={};e.fields.forEach((function(e){r[e]=t[e]})),t=r}"desc"===e.order&&s.length>=e.rows&&s.shift();s.push(t)}(n)}catch(e){r||c.emit("error",e)}}c.on("error",(function(e){if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)})),c.on("data",(function(t){for(var r=(t=(o+t).split(/\n+/)).length-1,n=0;n<r;n++)(!e.start||a>=e.start)&&u(t[n]),a++;o=t[r]})),c.on("close",(function(){o&&u(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)}))},f.prototype.stream=function(e){var t=i.join(this.dirname,this.filename),r=(e=e||{},new d),n={file:t,start:e.start};return r.destroy=c.tailFile(n,(function(e,t){if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}})),r},f.prototype.open=function(e){return this.opening?e(!0):!this._stream||this.maxsize&&this._size>=this.maxsize?(e(!0),this._createStream()):(this._archive=this.zippedArchive?this._stream.path:null,void e())},f.prototype.close=function(){var e=this;this._stream&&(this._stream.end(),this._stream.destroySoon(),this._stream.once("finish",(function(){e.emit("flush"),e.emit("closed")})))},f.prototype.flush=function(){var e=this;if(!this._buffer.length)return e.emit("flush");this._buffer.forEach((function(t){var r=t[0],n=t[1];process.nextTick((function(){e._write(r,n),e._size+=r.length}))})),e._buffer.length=0,e._stream.once("drain",(function(){e.emit("flush"),e.emit("logged")}))},f.prototype._createStream=function(){var e=this;this.opening=!0,function t(r){var o=i.join(e.dirname,r);function s(t){e._stream&&(e._stream.end(),e._stream.destroySoon()),e._size=t,e.filename=r,e._stream=n.createWriteStream(o,e.options),e._isStreams2=l(e._stream),e._stream.on("error",(function(t){e._failures<e.maxRetries?(e._createStream(),e._failures++):e.emit("error",t)})),e._stream.setMaxListeners(1/0),e.once("flush",(function(){e.flush(),e.opening=!1,e.emit("open",o)})),e.flush(),function(){if(e._archive){var t=a.createGzip(),r=n.createReadStream(String(e._archive)),i=n.createWriteStream(e._archive+".gz");r.pipe(t).pipe(i),n.unlink(String(e._archive),(function(){})),e._archive=""}}()}n.stat(o,(function(r,n){return r?"ENOENT"!==r.code?e.emit("error",r):s(0):!n||e.maxsize&&n.size>=e.maxsize?e._incFile((function(){t(e._getFile())})):void s(n.size)}))}(this._getFile())},f.prototype._incFile=function(e){var t=i.extname(this._basename),r=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))},f.prototype._getFile=function(){var e=i.extname(this._basename),t=i.basename(this._basename,e);return!this.tailable&&this._created?t+(this.rotationFormat?this.rotationFormat():this._created)+e:t+e},f.prototype._checkMaxFilesIncrementing=function(e,t,r){var o,s;if(this.zippedArchive&&(this._archive=i.join(this.dirname,t+(1===this._created?"":this._created-1)+e)),!this.maxFiles||this._created<this.maxFiles)return r();o=this._created-this.maxFiles,s=i.join(this.dirname,t+(0!==o?o:"")+e+(this.zippedArchive?".gz":"")),n.unlink(s,r)},f.prototype._checkMaxFilesTailable=function(e,t,r){var o=[],a=this;if(this.maxFiles){for(var c=this.maxFiles-1;c>0;c--)o.push(function(r){return function(o){var s=i.join(a.dirname,t+(r-1)+e+(a.zippedArchive?".gz":""));n.exists(s,(function(c){if(!c)return o(null);n.rename(s,i.join(a.dirname,t+r+e+(a.zippedArchive?".gz":"")),o)}))}}(c));a.zippedArchive&&(a._archive=i.join(a.dirname,t+1+e)),s.series(o,(function(o){n.rename(i.join(a.dirname,t+e),i.join(a.dirname,t+1+e),r)}))}},f.prototype._lazyDrain=function(){var e=this;!this._draining&&this._stream&&(this._draining=!0,this._stream.once("drain",(function(){e._draining=!1,e.emit("logged")})))}},function(e,t,r){var n=r(13);function i(e){return e instanceof n.Stream}function o(e){return i(e)&&"function"==typeof e._read&&"object"==typeof e._readableState}function s(e){return i(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}e.exports=i,e.exports.isReadable=o,e.exports.isWritable=s,e.exports.isDuplex=function(e){return o(e)&&s(e)}},function(e,t,r){var n=r(1),i=r(111),o=r(161),s=r(162),a=r(13).Stream,c=r(45).Transport,u=t.Http=function(e){c.call(this,e),e=e||{},this.name="http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)};n.inherits(u,i.Transport),u.prototype.name="http",u.prototype._request=function(e,t){var r,n=(e=e||{}).auth||this.auth,i=e.path||this.path||"";delete e.auth,delete e.path,(r=(this.ssl?s:o).request({host:this.host,port:this.port,path:"/"+i.replace(/^\//,""),method:"POST",headers:this.headers,agent:this.agent,auth:n?n.username+":"+n.password:""})).on("error",t),r.on("response",(function(e){var r="";e.on("data",(function(e){r+=e})),e.on("end",(function(){t(null,e,r)})),e.resume()})),r.end(new Buffer.from(JSON.stringify(e),"utf8"))},u.prototype.log=function(e,t,r,n){var i=this;"function"==typeof r&&(n=r,r={});var o={method:"collect",params:{level:e,message:t,meta:r}};r&&(r.path&&(o.path=r.path,delete r.path),r.auth&&(o.auth=r.auth,delete r.auth)),this._request(o,(function(e,t){if(t&&200!==t.statusCode&&(e=new Error("HTTP Status Code: "+t.statusCode)),e)return n(e);i.emit("logged"),n&&n(null,!0)}))},u.prototype.query=function(e,t){"function"==typeof e&&(t=e,e={});(e={method:"query",params:e=this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(function(e,r,n){if(r&&200!==r.statusCode&&(e=new Error("HTTP Status Code: "+r.statusCode)),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)}))},u.prototype.stream=function(e){e=e||{};var t,r,n=new a;return n.destroy=function(){t.destroy()},(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),t=this._request(e),r="",t.on("data",(function(e){for(var t=(e=(r+e).split(/\n+/)).length-1,i=0;i<t;i++)try{n.emit("log",JSON.parse(e[i]))}catch(e){n.emit("error",e)}r=e[t]})),t.on("error",(function(e){n.emit("error",e)})),n}},function(e,t,r){r(21);var n=r(1),i=r(35),o=r(45).Transport,s=t.Memory=function(e){o.call(this,e),e=e||{},this.errorOutput=[],this.writeOutput=[],this.json=e.json||!1,this.colorize=e.colorize||!1,this.prettyPrint=e.prettyPrint||!1,this.timestamp=void 0!==e.timestamp&&e.timestamp,this.showLevel=void 0===e.showLevel||e.showLevel,this.label=e.label||null,this.depth=e.depth||null,this.json&&(this.stringify=e.stringify||function(e){return JSON.stringify(e,null,2)})};n.inherits(s,o),s.prototype.name="memory",s.prototype.log=function(e,t,r,n){if(this.silent)return n(null,!0);var o;o=i.log({colorize:this.colorize,json:this.json,level:e,message:t,meta:r,stringify:this.stringify,timestamp:this.timestamp,prettyPrint:this.prettyPrint,raw:this.raw,label:this.label,depth:this.depth,formatter:this.formatter,humanReadableUnhandledException:this.humanReadableUnhandledException}),"error"===e||"debug"===e?this.errorOutput.push(o):this.writeOutput.push(o),this.emit("logged"),n(null,!0)},s.prototype.clearLogs=function(){this.errorOutput=[],this.writeOutput=[]}},function(e,t,r){var n=r(35),i=r(111),o=r(1)._extend,s=t.Container=function(e){this.loggers={},this.options=e||{},this.default={transports:[new i.transports.Console({level:"silly",colorize:!1})]}};s.prototype.get=s.prototype.add=function(e,t){var r,s=this;return this.loggers[e]||(r=(t=o({},t||this.options||this.default)).transports||this.options.transports,t.transports=r?r.slice():[],0!==t.transports.length||t&&t.console||t.transports.push(this.default.transports[0]),Object.keys(t).forEach((function(r){if("transports"!==r&&"filters"!==r&&"rewriters"!==r){var o=n.capitalize(r);if(!i.transports[o])throw new Error("Cannot add unknown transport: "+o);var s=t[r];s.id=e,t.transports.push(new i.transports[o](s))}})),t.id=e,this.loggers[e]=new i.Logger(t),this.loggers[e].on("close",(function(){s._delete(e)}))),this.loggers[e]},s.prototype.has=function(e){return!!this.loggers[e]},s.prototype.close=function(e){var t=this;function r(e){t.loggers[e]&&(t.loggers[e].close(),t._delete(e))}return e?r(e):Object.keys(this.loggers).forEach((function(e){r(e)}))},s.prototype._delete=function(e){delete this.loggers[e]}},function(e,t,r){var n=r(21),i=r(1),o=r(192),s=r(112),a=r(35),c=r(193),u=r(13).Stream,l=/%[sdj%]/g,d=t.Logger=function(e){n.EventEmitter.call(this),this.configure(e)};function h(e){this.logger=e,this.start=Date.now()}i.inherits(d,n.EventEmitter),d.prototype.configure=function(e){var t=this;Array.isArray(this._names)&&this._names.length&&this.clear(),e=e||{},this.transports={},this._names=[],e.transports&&e.transports.forEach((function(e){t.add(e,null,!0)})),this.padLevels=e.padLevels||!1,this.setLevels(e.levels),e.colors&&s.addColors(e.colors),this.id=e.id||null,this.level=e.level||"info",this.emitErrs=e.emitErrs||!1,this.stripColors=e.stripColors||!1,this.exitOnError=void 0===e.exitOnError||e.exitOnError,this.exceptionHandlers={},this.profilers={},["rewriters","filters"].forEach((function(r){t[r]=Array.isArray(e[r])?e[r]:[]})),e.exceptionHandlers&&this.handleExceptions(e.exceptionHandlers)},d.prototype.log=function(e){for(var t=Array.prototype.slice.call(arguments,1),r=this;null===t[t.length-1];)t.pop();var n="function"==typeof t[t.length-1]?t.pop():null;function s(e){n?n(e):r.emitErrs&&r.emit("error",e)}if(0===this._names.length)return s(new Error("Cannot log with no transports."));if(void 0===r.levels[e])return s(new Error("Unknown log level: "+e));var a=this._names.filter((function(t){var n=r.transports[t];return n.level&&r.levels[n.level]>=r.levels[e]||!n.level&&r.levels[r.level]>=r.levels[e]}));if(a.length){var c,u={},d=t&&t[0]&&t[0].match&&null!==t[0].match(l),h=d?t[0].match(l):[],f=h.filter((function(e){return"%%"===e}));if(t.length-1-(h.length-f.length)>0||1===t.length){u=t[t.length-1]||t;var m=Object.prototype.toString.call(u);u="[object Object]"===m||"[object Error]"===m||"[object Array]"===m?t.pop():{}}if(c=i.format.apply(null,t),this.padLevels&&(c=new Array(this.levelLength-e.length+1).join(" ")+c),this.rewriters.forEach((function(t){u=t(e,c,u,r)})),this.filters.forEach((function(t){var n=t(e,c,u,r);"string"==typeof n?c=n:(c=n.msg,u=n.meta)})),this.stripColors){var p=/\u001b\[(\d+(;\d+)*)?m/g;c=(""+c).replace(p,"")}return o.forEach(a,v,g),this}function g(t){if(n){if(t)return n(t);n(null,e,c,u)}n=null,t||r.emit("logged",e,c,u)}function v(t,n){var i=r.transports[t];i.log(e,c,u,(function(t){if(t)return t.transport=i,g(t),n();r.emit("logging",i,e,c,u),n()}))}n&&n()},d.prototype.query=function(e,t){"function"==typeof e&&(t=e,e={});var r,n=this,i=(e=e||{},{}),s=a.clone(e.query)||{};function c(t,r){e.query&&(e.query=t.formatQuery(s)),t.query(e,(function(n,i){if(n)return r(n);r(null,t.formatResults(i,e.format))}))}if(e.transport)return e.transport=e.transport.toLowerCase(),c(this.transports[e.transport],t);r=this._names.map((function(e){return n.transports[e]})).filter((function(e){return!!e.query})),o.forEach(r,(function(e,t){c(e,(function(r,n){t&&((n=r||n)&&(i[e.name]=n),t()),t=null}))}),(function(){t(null,i)}))},d.prototype.stream=function(e){var t=this,r=(e=e||{},new u),n=[];if(e.transport){var i=this.transports[e.transport];if(delete e.transport,i&&i.stream)return i.stream(e)}return r._streams=n,r.destroy=function(){for(var e=n.length;e--;)n[e].destroy()},this._names.map((function(e){return t.transports[e]})).filter((function(e){return!!e.stream})).forEach((function(t){var i=t.stream(e);i&&(n.push(i),i.on("log",(function(e){e.transport=e.transport||[],e.transport.push(t.name),r.emit("log",e)})),i.on("error",(function(e){e.transport=e.transport||[],e.transport.push(t.name),r.emit("error",e)})))})),r},d.prototype.close=function(){var e=this;this._names.forEach((function(t){var r=e.transports[t];r&&r.close&&r.close()})),this.emit("close")},d.prototype.handleExceptions=function(){var e=Array.prototype.slice.call(arguments),t=[],r=this;e.forEach((function(e){Array.isArray(e)?t=t.concat(e):t.push(e)})),this.exceptionHandlers=this.exceptionHandlers||{},t.forEach((function(e){r.exceptionHandlers[e.name]=e})),this._hnames=Object.keys(r.exceptionHandlers),this.catchExceptions||(this.catchExceptions=this._uncaughtException.bind(this),process.on("uncaughtException",this.catchExceptions))},d.prototype.unhandleExceptions=function(){var e=this;this.catchExceptions&&(Object.keys(this.exceptionHandlers).forEach((function(t){var r=e.exceptionHandlers[t];r.close&&r.close()})),this.exceptionHandlers={},Object.keys(this.transports).forEach((function(t){var r=e.transports[t];r.handleExceptions&&(r.handleExceptions=!1)})),process.removeListener("uncaughtException",this.catchExceptions),this.catchExceptions=!1)},d.prototype.add=function(e,t,r){var n=r?e:new e(t);if(!n.name&&!n.log)throw new Error("Unknown transport with no log() method");if(this.transports[n.name])throw new Error("Transport already attached: "+n.name+", assign a different name");return this.transports[n.name]=n,this._names=Object.keys(this.transports),n._onError=this._onError.bind(this,n),r||n.on("error",n._onError),n.handleExceptions&&!this.catchExceptions&&this.handleExceptions(),this},d.prototype.clear=function(){Object.keys(this.transports).forEach((function(e){this.remove({name:e})}),this)},d.prototype.remove=function(e){var t="string"!=typeof e?e.name||e.prototype.name:e;if(!this.transports[t])throw new Error("Transport "+t+" not attached to this instance");var r=this.transports[t];return delete this.transports[t],this._names=Object.keys(this.transports),r.close&&r.close(),r._onError&&r.removeListener("error",r._onError),this},d.prototype.startTimer=function(){return new h(this)},d.prototype.profile=function(e){var t,r,n,i,o,s=Date.now();return this.profilers[e]?(t=this.profilers[e],delete this.profilers[e],o="function"==typeof(r=Array.prototype.slice.call(arguments))[r.length-1]?r.pop():null,i="object"==typeof r[r.length-1]?r.pop():{},n=2===r.length?r[1]:e,i.durationMs=s-t,this.info(n,i,o)):(this.profilers[e]=s,this)},d.prototype.setLevels=function(e){return a.setLevels(this,this.levels,e)},d.prototype.cli=function(){return this.padLevels=!0,this.setLevels(s.cli.levels),s.addColors(s.cli.colors),this.transports.console&&(this.transports.console.colorize=this.transports.console.colorize||!0,this.transports.console.timestamp=this.transports.console.timestamp||!1),this},d.prototype._uncaughtException=function(e){var t,r,n=!1,i=c.getAllInfo(e),s=this._getExceptionHandlers();function a(){r&&!n&&(clearTimeout(t),n=!0,process.exit(1))}if(r="function"==typeof this.exitOnError?this.exitOnError(e):this.exitOnError,!s||0===s.length)return a();o.forEach(s,(function(t,r){t.logException("uncaughtException: "+(e.message||e),i,r,e)}),a),r&&(t=setTimeout(a,3e3))},d.prototype._getExceptionHandlers=function(){var e=this;return this._hnames.map((function(t){return e.exceptionHandlers[t]})).concat(this._names.map((function(t){return e.transports[t].handleExceptions&&e.transports[t]}))).filter(Boolean)},d.prototype._onError=function(e,t){this.emitErrs&&this.emit("error",t,e)},h.prototype.done=function(e){var t=Array.prototype.slice.call(arguments),r="function"==typeof t[t.length-1]?t.pop():null,n="object"==typeof t[t.length-1]?t.pop():{};return n.duration=Date.now()-this.start+"ms",this.logger.info(e,n,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(114);t.Neovim=n.Neovim;var i=r(184);t.NeovimClient=i.NeovimClient;var o=r(66);t.Buffer=o.Buffer;var s=r(68);t.Window=s.Window;var a=r(69);t.Tabpage=a.Tabpage},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(406);t.Plugin=n.Plugin,t.Function=n.Function,t.Autocmd=n.Autocmd,t.Command=n.Command},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(407);t.Plugin=n.plugin;var i=r(408);t.Function=i.nvimFunction;var o=r(409);t.Autocmd=o.autocmd;var s=r(410);t.Command=s.command},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(67),i=r(70),o=r(114);t.Neovim=o.Neovim;const s=r(194);function a(e,t){return n.logger.info(`Decorating class ${e}`),class extends e{constructor(...r){const o=r[0];super(o.nvim,o),this.setApi(o.nvim),t&&o.setOptions(t),Object.getOwnPropertyNames(e.prototype).forEach(t=>{n.logger.info(`Method name ${t}`),n.logger.info(`${e.prototype[t]} ${typeof e.prototype[t]}`),n.logger.info(`${this} ${typeof this}`);const r=e.prototype[t];if(r&&r[i.NVIM_SPEC]){const e=r[i.NVIM_SPEC];switch(e.type){case"autocmd":const t={pattern:e.opts.pattern,sync:e.sync};void 0!==e.opts.eval&&(t.eval=e.opts.eval),o.registerAutocmd(e.name,[this,r],t);break;case"command":const n={sync:e.sync};void 0!==e.opts.range&&(n.range=e.opts.range),void 0!==e.opts.nargs&&(n.nargs=e.opts.nargs),void 0!==e.opts.complete&&(n.complete=e.opts.complete),o.registerCommand(e.name,[this,r],n);break;case"function":const i={sync:e.sync};void 0!==e.opts.range&&(i.range=e.opts.range),void 0!==e.opts.eval&&(i.eval=e.opts.eval),o.registerFunction(e.name,[this,r],i)}}})}setApi(e){this.nvim=e}}}t.NvimPlugin=s.NvimPlugin,t.plugin=function(e){return"function"!=typeof e?t=>a(t,e):a(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70);t.nvimFunction=function(e,t={}){return function(r,i){const o=t&&!!t.sync,s="string"==typeof i,a=s?r[i]:r,c={};return t&&t.range&&(c.range=t.range),t&&t.eval&&(c.eval=t.eval),Object.defineProperty(a,n.NVIM_METHOD_NAME,{value:`function:${e}`}),Object.defineProperty(a,n.NVIM_SYNC,{value:!!o}),Object.defineProperty(a,n.NVIM_SPEC,{value:{type:"function",name:e,sync:!!o,opts:c}}),s&&(r[i]=a),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70);t.autocmd=function(e,t){return function(r,i){const o=t&&!!t.sync,s="string"==typeof i,a=s?r[i]:r,c={pattern:""};["pattern","eval"].forEach(e=>{t&&void 0!==t[e]&&(c[e]=t[e])});const u=`${e}${t.pattern?`:${t.pattern}`:""}`;return Object.defineProperty(a,n.NVIM_METHOD_NAME,{value:`autocmd:${u}`}),Object.defineProperty(a,n.NVIM_SYNC,{value:!!o}),Object.defineProperty(a,n.NVIM_SPEC,{value:{type:"autocmd",name:e,sync:!!o,opts:c}}),s&&(r[i]=a),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70);t.command=function(e,t){return function(r,i){const o=t&&!!t.sync,s="string"==typeof i,a=s?r[i]:r,c={};return["range","nargs","complete"].forEach(e=>{t&&void 0!==t[e]&&(c[e]=t[e])}),Object.defineProperty(a,n.NVIM_METHOD_NAME,{value:`command:${e}`}),Object.defineProperty(a,n.NVIM_SYNC,{value:!!o}),Object.defineProperty(a,n.NVIM_SPEC,{value:{type:"command",name:e,sync:!!o,opts:c}}),s&&(r[i]=a),r}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(8);t.taskQueue=new class{constructor(){this._logger=i.Logger.get("TaskQueue"),this._taskQueue={}}isRunning(e){return this._taskQueue[e]&&this._taskQueue[e].tasks.filter(e=>e.isRunning).length>0}numHighPriority(e){return this._taskQueue[e]?this._taskQueue[e].tasks.filter(e=>e.isHighPriority).length:0}runTasks(e){return n(this,void 0,void 0,(function*(){for(;this._taskQueue[e].tasks.length>0;){let t=this._taskQueue[e].tasks[0];try{t.isRunning=!0,yield t.promise(),t.isRunning=!1}catch(e){this._logger.error(`Error running task. ${e.message}.`)}finally{this.dequeueTask(t)}}}))}dequeueTask(e){this._taskQueue[e.queue].tasks=this._taskQueue[e.queue].tasks.filter(t=>t!==e)}enqueueTask(e,t="default",r=!1){let n={promise:e,queue:t,isHighPriority:r,isRunning:!1};if(this._taskQueue[t]||(this._taskQueue[t]={tasks:[]}),r){const e=this.numHighPriority(t);this._taskQueue[t].tasks.splice(e,0,n)}else this._taskQueue[t].tasks.push(n);this.isRunning(t)||this.runTasks(t)}}}]);
//# sourceMappingURL=extension.js.map